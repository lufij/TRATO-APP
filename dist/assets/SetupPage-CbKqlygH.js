import{r as g,j as r,C as x,a as h,b,c as f,B as v,s as n}from"./index-BjTbJZtF.js";function _(){const[c,u]=g.useState(!1),[m,p]=g.useState([]),e=s=>{p(a=>[...a,s])},j=async()=>{u(!0),p([]);try{e("🚀 Iniciando setup de datos de prueba..."),e("👤 Creando usuarios...");const s=[{id:"11111111-1111-1111-1111-111111111111",name:"Pizzería Test",email:"vendor@test.com",role:"vendedor",address:"Buenos Aires"},{id:"22222222-2222-2222-2222-222222222222",name:"Conductor Test",email:"driver@test.com",role:"repartidor",address:"Buenos Aires"},{id:"33333333-3333-3333-3333-333333333333",name:"Cliente Test",email:"buyer@test.com",role:"comprador",address:"Buenos Aires"}];for(const i of s){const{error:l}=await n.from("users").upsert(i);l&&!l.message.includes("duplicate")?e(`❌ Error creando usuario ${i.name}: ${l.message}`):e(`✅ Usuario ${i.name} creado`)}e("🏪 Creando vendedor con Google Maps...");const{error:a}=await n.from("sellers").upsert({user_id:"11111111-1111-1111-1111-111111111111",business_name:"Pizzería Test",business_address:"Avenida Corrientes 1500, Buenos Aires, Argentina",latitude:-34.6037,longitude:-58.3816,location_verified:!0,is_open_now:!0,category:"restaurant"});a&&!a.message.includes("duplicate")?e(`❌ Error creando vendedor: ${a.message}`):e("✅ Vendedor creado con coordenadas Google Maps (-34.6037, -58.3816)"),e("📦 Creando orden de prueba...");const{error:t}=await n.from("orders").upsert({id:"44444444-4444-4444-4444-444444444444",buyer_id:"33333333-3333-3333-3333-333333333333",seller_id:"11111111-1111-1111-1111-111111111111",driver_id:"22222222-2222-2222-2222-222222222222",status:"assigned",total_amount:25.5,delivery_address:"Palermo, Buenos Aires",customer_name:"Cliente Test",customer_phone:"+54 11 1234-5678"});t&&!t.message.includes("duplicate")?e(`❌ Error creando orden: ${t.message}`):e("✅ Orden creada y asignada al repartidor"),e("🔍 Verificando datos creados...");const{data:o}=await n.from("sellers").select("*").eq("user_id","11111111-1111-1111-1111-111111111111").single(),{data:d}=await n.from("orders").select("*").eq("id","44444444-4444-4444-4444-444444444444").single();o&&(e(`📍 Vendedor: ${o.business_name} en ${o.business_address}`),e(`🗺️ Coordenadas: ${o.latitude}, ${o.longitude}`)),d&&(e(`📦 Orden ${d.id}: ${d.status} - $${d.total_amount}`),e(`👤 Cliente: ${d.customer_name}`)),e(""),e("🎉 ¡Setup completado! Ahora puedes:"),e("1. Ir a la página de login"),e("2. Entrar como repartidor: driver@test.com"),e("3. Ver la orden asignada con botones mejorados"),e('4. Probar "Ir a recoger" con Google Maps')}catch(s){e(`❌ Error general: ${s instanceof Error?s.message:"Error desconocido"}`)}finally{u(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs(x,{children:[r.jsx(h,{children:r.jsx(b,{className:"text-2xl text-center",children:"🛠️ Setup de Datos de Prueba - Sistema de Repartidores"})}),r.jsxs(f,{className:"space-y-4",children:[r.jsx("div",{className:"text-center",children:r.jsx(v,{onClick:j,disabled:c,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3",size:"lg",children:c?"⏳ Configurando...":"🚀 Crear Datos de Prueba"})}),m.length>0&&r.jsxs(x,{className:"mt-6",children:[r.jsx(h,{children:r.jsx(b,{children:"Resultados del Setup"})}),r.jsx(f,{children:r.jsx("div",{className:"bg-black text-green-400 p-4 rounded font-mono text-sm max-h-96 overflow-y-auto",children:m.map((s,a)=>r.jsx("div",{children:s},a))})})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"📋 Este setup creará:"}),r.jsxs("ul",{className:"text-blue-700 space-y-1",children:[r.jsx("li",{children:"• 3 usuarios de prueba (vendedor, repartidor, comprador)"}),r.jsx("li",{children:"• 1 vendedor con coordenadas reales de Google Maps"}),r.jsx("li",{children:"• 1 orden asignada al repartidor para probar"}),r.jsx("li",{children:'• Botones "Ir a recoger" e "Ir al cliente" funcionando'}),r.jsx("li",{children:"• Integración con Google Maps para navegación"})]})]})]})]})})})}export{_ as SetupPage};
