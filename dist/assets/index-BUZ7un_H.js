const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WelcomeScreen-D-4-X44_.js","assets/input-DvJNyvJ0.js","assets/label-CeT_l5c-.js","assets/colors-BLlkNVHy.js","assets/map-pin-C6FIQM-8.js","assets/clock-Cq_kA7zY.js","assets/shield-o6vaOico.js","assets/users-BQsm4SzA.js","assets/mail-BZWTM91r.js","assets/lock-B29oBp6i.js","assets/eye-off-lF9zH_Wp.js","assets/store-Bh7-Ynsh.js","assets/truck-B8S9r4Le.js","assets/star-DC4XYlq1.js","assets/RoleSelection-Be0fJwJv.js","assets/arrow-left-DoO7wzPS.js","assets/shopping-cart-Ou0eNDe7.js","assets/RegistrationForm-CRV9_3jf.js","assets/textarea-t3hcBXCM.js","assets/alert-DzBdRA_6.js","assets/select-CDShDH_f.js","assets/shopping-bag-C1w5-Ox3.js","assets/ProfileRecovery-DNmW95CO.js","assets/triangle-alert-989fNwCd.js","assets/log-out-CzVNJnov.js","assets/trash-2-CDNJZcQA.js","assets/user-BLRJt2f2.js","assets/save-tx5CSbKm.js","assets/OrphanedUserDiagnostic-Bp-YyMK7.js","assets/circle-x-B8oLHx5K.js","assets/external-link-CWO7cJcj.js","assets/BuyerDashboard-CG-f1FLr.js","assets/NotificationSystem-hGHJzz3o.js","assets/TimeoutAlerts-AKPUTDUM.js","assets/search-QiUn-g55.js","assets/alert-dialog-D9uVaLPR.js","assets/CriticalNotifications-gtDaDe4O.js","assets/info-CJSahjom.js","assets/DeliveryTracking-TlPTEG3T.js","assets/SellerDashboard-Werf7gOx.js","assets/upload-BqzAAcQv.js","assets/globe-Bv2_VdHD.js","assets/DriverDashboard-_2I82D3H.js","assets/activity-Y_LMBlJe.js","assets/DiagnosticPage-Cz-HrAXx.js","assets/AdminDashboard-A6wteBlG.js","assets/crown-DLhQmpgv.js","assets/AdminSetup-bQz-GTsu.js"])))=>i.map(i=>d[i]);
var Vv=Object.defineProperty;var Hv=(e,t,r)=>t in e?Vv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Sa=(e,t,r)=>Hv(e,typeof t!="symbol"?t+"":t,r);function qv(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(n,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var uh={exports:{}},Hi={},ch={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=Symbol.for("react.element"),Gv=Symbol.for("react.portal"),Yv=Symbol.for("react.fragment"),Qv=Symbol.for("react.strict_mode"),Jv=Symbol.for("react.profiler"),Xv=Symbol.for("react.provider"),Zv=Symbol.for("react.context"),ey=Symbol.for("react.forward_ref"),ty=Symbol.for("react.suspense"),ry=Symbol.for("react.memo"),ny=Symbol.for("react.lazy"),ed=Symbol.iterator;function oy(e){return e===null||typeof e!="object"?null:(e=ed&&e[ed]||e["@@iterator"],typeof e=="function"?e:null)}var dh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fh=Object.assign,hh={};function Jn(e,t,r){this.props=e,this.context=t,this.refs=hh,this.updater=r||dh}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ph(){}ph.prototype=Jn.prototype;function Nu(e,t,r){this.props=e,this.context=t,this.refs=hh,this.updater=r||dh}var Ru=Nu.prototype=new ph;Ru.constructor=Nu;fh(Ru,Jn.prototype);Ru.isPureReactComponent=!0;var td=Array.isArray,mh=Object.prototype.hasOwnProperty,Tu={current:null},gh={key:!0,ref:!0,__self:!0,__source:!0};function vh(e,t,r){var n,o={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)mh.call(t,n)&&!gh.hasOwnProperty(n)&&(o[n]=t[n]);var a=arguments.length-2;if(a===1)o.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)o[n]===void 0&&(o[n]=a[n]);return{$$typeof:as,type:e,key:s,ref:i,props:o,_owner:Tu.current}}function sy(e,t){return{$$typeof:as,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Au(e){return typeof e=="object"&&e!==null&&e.$$typeof===as}function iy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rd=/\/+/g;function ka(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iy(""+e.key):t.toString(36)}function Zs(e,t,r,n,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case as:case Gv:i=!0}}if(i)return i=e,o=o(i),e=n===""?"."+ka(i,0):n,td(o)?(r="",e!=null&&(r=e.replace(rd,"$&/")+"/"),Zs(o,t,r,"",function(u){return u})):o!=null&&(Au(o)&&(o=sy(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(rd,"$&/")+"/")+e)),t.push(o)),1;if(i=0,n=n===""?".":n+":",td(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+ka(s,a);i+=Zs(s,t,r,l,o)}else if(l=oy(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+ka(s,a++),i+=Zs(s,t,r,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function _s(e,t,r){if(e==null)return e;var n=[],o=0;return Zs(e,n,"","",function(s){return t.call(r,s,o++)}),n}function ay(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},ei={transition:null},ly={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:ei,ReactCurrentOwner:Tu};function yh(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:_s,forEach:function(e,t,r){_s(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _s(e,function(){t++}),t},toArray:function(e){return _s(e,function(t){return t})||[]},only:function(e){if(!Au(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=Jn;Y.Fragment=Yv;Y.Profiler=Jv;Y.PureComponent=Nu;Y.StrictMode=Qv;Y.Suspense=ty;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ly;Y.act=yh;Y.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=fh({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Tu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)mh.call(t,l)&&!gh.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:as,type:e.type,key:o,ref:s,props:n,_owner:i}};Y.createContext=function(e){return e={$$typeof:Zv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xv,_context:e},e.Consumer=e};Y.createElement=vh;Y.createFactory=function(e){var t=vh.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:ey,render:e}};Y.isValidElement=Au;Y.lazy=function(e){return{$$typeof:ny,_payload:{_status:-1,_result:e},_init:ay}};Y.memo=function(e,t){return{$$typeof:ry,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=ei.transition;ei.transition={};try{e()}finally{ei.transition=t}};Y.unstable_act=yh;Y.useCallback=function(e,t){return He.current.useCallback(e,t)};Y.useContext=function(e){return He.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return He.current.useDeferredValue(e)};Y.useEffect=function(e,t){return He.current.useEffect(e,t)};Y.useId=function(){return He.current.useId()};Y.useImperativeHandle=function(e,t,r){return He.current.useImperativeHandle(e,t,r)};Y.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return He.current.useMemo(e,t)};Y.useReducer=function(e,t,r){return He.current.useReducer(e,t,r)};Y.useRef=function(e){return He.current.useRef(e)};Y.useState=function(e){return He.current.useState(e)};Y.useSyncExternalStore=function(e,t,r){return He.current.useSyncExternalStore(e,t,r)};Y.useTransition=function(){return He.current.useTransition()};Y.version="18.3.1";ch.exports=Y;var h=ch.exports;const T=lh(h),uy=qv({__proto__:null,default:T},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy=h,dy=Symbol.for("react.element"),fy=Symbol.for("react.fragment"),hy=Object.prototype.hasOwnProperty,py=cy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,my={key:!0,ref:!0,__self:!0,__source:!0};function wh(e,t,r){var n,o={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)hy.call(t,n)&&!my.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:dy,type:e,key:s,ref:i,props:o,_owner:py.current}}Hi.Fragment=fy;Hi.jsx=wh;Hi.jsxs=wh;uh.exports=Hi;var f=uh.exports,gl={},xh={exports:{}},lt={},bh={exports:{}},_h={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,N){var O=j.length;j.push(N);e:for(;0<O;){var R=O-1>>>1,D=j[R];if(0<o(D,N))j[R]=N,j[O]=D,O=R;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var N=j[0],O=j.pop();if(O!==N){j[0]=O;e:for(var R=0,D=j.length,U=D>>>1;R<U;){var q=2*(R+1)-1,te=j[q],K=q+1,ve=j[K];if(0>o(te,O))K<D&&0>o(ve,te)?(j[R]=ve,j[K]=O,R=K):(j[R]=te,j[q]=O,R=q);else if(K<D&&0>o(ve,O))j[R]=ve,j[K]=O,R=K;else break e}}return N}function o(j,N){var O=j.sortIndex-N.sortIndex;return O!==0?O:j.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,c=null,p=3,x=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(j){for(var N=r(u);N!==null;){if(N.callback===null)n(u);else if(N.startTime<=j)n(u),N.sortIndex=N.expirationTime,t(l,N);else break;N=r(u)}}function _(j){if(y=!1,v(j),!b)if(r(l)!==null)b=!0,F(k);else{var N=r(u);N!==null&&$(_,N.startTime-j)}}function k(j,N){b=!1,y&&(y=!1,m(C),C=-1),x=!0;var O=p;try{for(v(N),c=r(l);c!==null&&(!(c.expirationTime>N)||j&&!I());){var R=c.callback;if(typeof R=="function"){c.callback=null,p=c.priorityLevel;var D=R(c.expirationTime<=N);N=e.unstable_now(),typeof D=="function"?c.callback=D:c===r(l)&&n(l),v(N)}else n(l);c=r(l)}if(c!==null)var U=!0;else{var q=r(u);q!==null&&$(_,q.startTime-N),U=!1}return U}finally{c=null,p=O,x=!1}}var E=!1,S=null,C=-1,L=5,P=-1;function I(){return!(e.unstable_now()-P<L)}function M(){if(S!==null){var j=e.unstable_now();P=j;var N=!0;try{N=S(!0,j)}finally{N?J():(E=!1,S=null)}}else E=!1}var J;if(typeof g=="function")J=function(){g(M)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,me=Oe.port2;Oe.port1.onmessage=M,J=function(){me.postMessage(null)}}else J=function(){w(M,0)};function F(j){S=j,E||(E=!0,J())}function $(j,N){C=w(function(){j(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,F(k))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var O=p;p=N;try{return j()}finally{p=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,N){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var O=p;p=j;try{return N()}finally{p=O}},e.unstable_scheduleCallback=function(j,N,O){var R=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?R+O:R):O=R,j){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=O+D,j={id:d++,callback:N,priorityLevel:j,startTime:O,expirationTime:D,sortIndex:-1},O>R?(j.sortIndex=O,t(u,j),r(l)===null&&j===r(u)&&(y?(m(C),C=-1):y=!0,$(_,O-R))):(j.sortIndex=D,t(l,j),b||x||(b=!0,F(k))),j},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(j){var N=p;return function(){var O=p;p=N;try{return j.apply(this,arguments)}finally{p=O}}}})(_h);bh.exports=_h;var gy=bh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy=h,at=gy;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sh=new Set,zo={};function tn(e,t){Wn(e,t),Wn(e+"Capture",t)}function Wn(e,t){for(zo[e]=t,e=0;e<t.length;e++)Sh.add(t[e])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=Object.prototype.hasOwnProperty,yy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nd={},od={};function wy(e){return vl.call(od,e)?!0:vl.call(nd,e)?!1:yy.test(e)?od[e]=!0:(nd[e]=!0,!1)}function xy(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function by(e,t,r,n){if(t===null||typeof t>"u"||xy(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,r,n,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Iu=/[\-:]([a-z])/g;function Ou(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Iu,Ou);Ie[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Iu,Ou);Ie[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Iu,Ou);Ie[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lu(e,t,r,n){var o=Ie.hasOwnProperty(t)?Ie[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(by(t,r,o,n)&&(r=null),n||o===null?wy(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var tr=vy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ss=Symbol.for("react.element"),xn=Symbol.for("react.portal"),bn=Symbol.for("react.fragment"),$u=Symbol.for("react.strict_mode"),yl=Symbol.for("react.profiler"),kh=Symbol.for("react.provider"),Eh=Symbol.for("react.context"),Du=Symbol.for("react.forward_ref"),wl=Symbol.for("react.suspense"),xl=Symbol.for("react.suspense_list"),Mu=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),Ch=Symbol.for("react.offscreen"),sd=Symbol.iterator;function lo(e){return e===null||typeof e!="object"?null:(e=sd&&e[sd]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,Ea;function bo(e){if(Ea===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ea=t&&t[1]||""}return`
`+Ea+e}var Ca=!1;function Pa(e,t){if(!e||Ca)return"";Ca=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=n.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Ca=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bo(e):""}function _y(e){switch(e.tag){case 5:return bo(e.type);case 16:return bo("Lazy");case 13:return bo("Suspense");case 19:return bo("SuspenseList");case 0:case 2:case 15:return e=Pa(e.type,!1),e;case 11:return e=Pa(e.type.render,!1),e;case 1:return e=Pa(e.type,!0),e;default:return""}}function bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bn:return"Fragment";case xn:return"Portal";case yl:return"Profiler";case $u:return"StrictMode";case wl:return"Suspense";case xl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Eh:return(e.displayName||"Context")+".Consumer";case kh:return(e._context.displayName||"Context")+".Provider";case Du:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mu:return t=e.displayName||null,t!==null?t:bl(e.type)||"Memo";case fr:t=e._payload,e=e._init;try{return bl(e(t))}catch{}}return null}function Sy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bl(t);case 8:return t===$u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ph(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ky(e){var t=Ph(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ks(e){e._valueTracker||(e._valueTracker=ky(e))}function jh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ph(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _l(e,t){var r=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function id(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nh(e,t){t=t.checked,t!=null&&Lu(e,"checked",t,!1)}function Sl(e,t){Nh(e,t);var r=Pr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kl(e,t.type,r):t.hasOwnProperty("defaultValue")&&kl(e,t.type,Pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ad(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function kl(e,t,r){(t!=="number"||mi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _o=Array.isArray;function An(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pr(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function El(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ld(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(_o(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pr(r)}}function Rh(e,t){var r=Pr(t.value),n=Pr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ud(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Th(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Th(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Es,Ah=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ey=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(e){Ey.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Po[t]=Po[e]})});function Ih(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Po.hasOwnProperty(e)&&Po[e]?(""+t).trim():t+"px"}function Oh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=Ih(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var Cy=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pl(e,t){if(t){if(Cy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function jl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nl=null;function zu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rl=null,In=null,On=null;function cd(e){if(e=cs(e)){if(typeof Rl!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Qi(t),Rl(e.stateNode,e.type,t))}}function Lh(e){In?On?On.push(e):On=[e]:In=e}function $h(){if(In){var e=In,t=On;if(On=In=null,cd(e),t)for(e=0;e<t.length;e++)cd(t[e])}}function Dh(e,t){return e(t)}function Mh(){}var ja=!1;function zh(e,t,r){if(ja)return e(t,r);ja=!0;try{return Dh(e,t,r)}finally{ja=!1,(In!==null||On!==null)&&(Mh(),$h())}}function Fo(e,t){var r=e.stateNode;if(r===null)return null;var n=Qi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var Tl=!1;if(Qt)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{Tl=!1}function Py(e,t,r,n,o,s,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var jo=!1,gi=null,vi=!1,Al=null,jy={onError:function(e){jo=!0,gi=e}};function Ny(e,t,r,n,o,s,i,a,l){jo=!1,gi=null,Py.apply(jy,arguments)}function Ry(e,t,r,n,o,s,i,a,l){if(Ny.apply(this,arguments),jo){if(jo){var u=gi;jo=!1,gi=null}else throw Error(A(198));vi||(vi=!0,Al=u)}}function rn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Uh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dd(e){if(rn(e)!==e)throw Error(A(188))}function Ty(e){var t=e.alternate;if(!t){if(t=rn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var s=o.alternate;if(s===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===r)return dd(o),e;if(s===n)return dd(o),t;s=s.sibling}throw Error(A(188))}if(r.return!==n.return)r=o,n=s;else{for(var i=!1,a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function Fh(e){return e=Ty(e),e!==null?Bh(e):null}function Bh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bh(e);if(t!==null)return t;e=e.sibling}return null}var Wh=at.unstable_scheduleCallback,fd=at.unstable_cancelCallback,Ay=at.unstable_shouldYield,Iy=at.unstable_requestPaint,pe=at.unstable_now,Oy=at.unstable_getCurrentPriorityLevel,Uu=at.unstable_ImmediatePriority,Vh=at.unstable_UserBlockingPriority,yi=at.unstable_NormalPriority,Ly=at.unstable_LowPriority,Hh=at.unstable_IdlePriority,qi=null,Lt=null;function $y(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(qi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:zy,Dy=Math.log,My=Math.LN2;function zy(e){return e>>>=0,e===0?32:31-(Dy(e)/My|0)|0}var Cs=64,Ps=4194304;function So(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~o;a!==0?n=So(a):(s&=i,s!==0&&(n=So(s)))}else i=r&~o,i!==0?n=So(i):s!==0&&(n=So(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ct(t),o=1<<r,n|=e[r],t&=~o;return n}function Uy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fy(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Ct(s),a=1<<i,l=o[i];l===-1?(!(a&r)||a&n)&&(o[i]=Uy(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qh(){var e=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),e}function Na(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ls(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=r}function By(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Ct(r),s=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~s}}function Fu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ct(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var Z=0;function Kh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gh,Bu,Yh,Qh,Jh,Ol=!1,js=[],wr=null,xr=null,br=null,Bo=new Map,Wo=new Map,pr=[],Wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hd(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(t.pointerId)}}function co(e,t,r,n,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[o]},t!==null&&(t=cs(t),t!==null&&Bu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Vy(e,t,r,n,o){switch(t){case"focusin":return wr=co(wr,e,t,r,n,o),!0;case"dragenter":return xr=co(xr,e,t,r,n,o),!0;case"mouseover":return br=co(br,e,t,r,n,o),!0;case"pointerover":var s=o.pointerId;return Bo.set(s,co(Bo.get(s)||null,e,t,r,n,o)),!0;case"gotpointercapture":return s=o.pointerId,Wo.set(s,co(Wo.get(s)||null,e,t,r,n,o)),!0}return!1}function Xh(e){var t=Fr(e.target);if(t!==null){var r=rn(t);if(r!==null){if(t=r.tag,t===13){if(t=Uh(r),t!==null){e.blockedOn=t,Jh(e.priority,function(){Yh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ti(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ll(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Nl=n,r.target.dispatchEvent(n),Nl=null}else return t=cs(r),t!==null&&Bu(t),e.blockedOn=r,!1;t.shift()}return!0}function pd(e,t,r){ti(e)&&r.delete(t)}function Hy(){Ol=!1,wr!==null&&ti(wr)&&(wr=null),xr!==null&&ti(xr)&&(xr=null),br!==null&&ti(br)&&(br=null),Bo.forEach(pd),Wo.forEach(pd)}function fo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ol||(Ol=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Hy)))}function Vo(e){function t(o){return fo(o,e)}if(0<js.length){fo(js[0],e);for(var r=1;r<js.length;r++){var n=js[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wr!==null&&fo(wr,e),xr!==null&&fo(xr,e),br!==null&&fo(br,e),Bo.forEach(t),Wo.forEach(t),r=0;r<pr.length;r++)n=pr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)Xh(r),r.blockedOn===null&&pr.shift()}var Ln=tr.ReactCurrentBatchConfig,xi=!0;function qy(e,t,r,n){var o=Z,s=Ln.transition;Ln.transition=null;try{Z=1,Wu(e,t,r,n)}finally{Z=o,Ln.transition=s}}function Ky(e,t,r,n){var o=Z,s=Ln.transition;Ln.transition=null;try{Z=4,Wu(e,t,r,n)}finally{Z=o,Ln.transition=s}}function Wu(e,t,r,n){if(xi){var o=Ll(e,t,r,n);if(o===null)za(e,t,n,bi,r),hd(e,n);else if(Vy(o,e,t,r,n))n.stopPropagation();else if(hd(e,n),t&4&&-1<Wy.indexOf(e)){for(;o!==null;){var s=cs(o);if(s!==null&&Gh(s),s=Ll(e,t,r,n),s===null&&za(e,t,n,bi,r),s===o)break;o=s}o!==null&&n.stopPropagation()}else za(e,t,n,null,r)}}var bi=null;function Ll(e,t,r,n){if(bi=null,e=zu(n),e=Fr(e),e!==null)if(t=rn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Uh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bi=e,null}function Zh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oy()){case Uu:return 1;case Vh:return 4;case yi:case Ly:return 16;case Hh:return 536870912;default:return 16}default:return 16}}var vr=null,Vu=null,ri=null;function ep(){if(ri)return ri;var e,t=Vu,r=t.length,n,o="value"in vr?vr.value:vr.textContent,s=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[s-n];n++);return ri=o.slice(e,1<n?1-n:void 0)}function ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function md(){return!1}function ut(e){function t(r,n,o,s,i){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ns:md,this.isPropagationStopped=md,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hu=ut(Xn),us=fe({},Xn,{view:0,detail:0}),Gy=ut(us),Ra,Ta,ho,Ki=fe({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ho&&(ho&&e.type==="mousemove"?(Ra=e.screenX-ho.screenX,Ta=e.screenY-ho.screenY):Ta=Ra=0,ho=e),Ra)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),gd=ut(Ki),Yy=fe({},Ki,{dataTransfer:0}),Qy=ut(Yy),Jy=fe({},us,{relatedTarget:0}),Aa=ut(Jy),Xy=fe({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zy=ut(Xy),e0=fe({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t0=ut(e0),r0=fe({},Xn,{data:0}),vd=ut(r0),n0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s0[e])?!!t[e]:!1}function qu(){return i0}var a0=fe({},us,{key:function(e){if(e.key){var t=n0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?o0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qu,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l0=ut(a0),u0=fe({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yd=ut(u0),c0=fe({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qu}),d0=ut(c0),f0=fe({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),h0=ut(f0),p0=fe({},Ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m0=ut(p0),g0=[9,13,27,32],Ku=Qt&&"CompositionEvent"in window,No=null;Qt&&"documentMode"in document&&(No=document.documentMode);var v0=Qt&&"TextEvent"in window&&!No,tp=Qt&&(!Ku||No&&8<No&&11>=No),wd=" ",xd=!1;function rp(e,t){switch(e){case"keyup":return g0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function np(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _n=!1;function y0(e,t){switch(e){case"compositionend":return np(t);case"keypress":return t.which!==32?null:(xd=!0,wd);case"textInput":return e=t.data,e===wd&&xd?null:e;default:return null}}function w0(e,t){if(_n)return e==="compositionend"||!Ku&&rp(e,t)?(e=ep(),ri=Vu=vr=null,_n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tp&&t.locale!=="ko"?null:t.data;default:return null}}var x0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!x0[e.type]:t==="textarea"}function op(e,t,r,n){Lh(n),t=_i(t,"onChange"),0<t.length&&(r=new Hu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ro=null,Ho=null;function b0(e){mp(e,0)}function Gi(e){var t=En(e);if(jh(t))return e}function _0(e,t){if(e==="change")return t}var sp=!1;if(Qt){var Ia;if(Qt){var Oa="oninput"in document;if(!Oa){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),Oa=typeof _d.oninput=="function"}Ia=Oa}else Ia=!1;sp=Ia&&(!document.documentMode||9<document.documentMode)}function Sd(){Ro&&(Ro.detachEvent("onpropertychange",ip),Ho=Ro=null)}function ip(e){if(e.propertyName==="value"&&Gi(Ho)){var t=[];op(t,Ho,e,zu(e)),zh(b0,t)}}function S0(e,t,r){e==="focusin"?(Sd(),Ro=t,Ho=r,Ro.attachEvent("onpropertychange",ip)):e==="focusout"&&Sd()}function k0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gi(Ho)}function E0(e,t){if(e==="click")return Gi(t)}function C0(e,t){if(e==="input"||e==="change")return Gi(t)}function P0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:P0;function qo(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!vl.call(t,o)||!jt(e[o],t[o]))return!1}return!0}function kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ed(e,t){var r=kd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kd(r)}}function ap(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ap(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lp(){for(var e=window,t=mi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mi(e.document)}return t}function Gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function j0(e){var t=lp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ap(r.ownerDocument.documentElement,r)){if(n!==null&&Gu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,s=Math.min(n.start,o);n=n.end===void 0?s:Math.min(n.end,o),!e.extend&&s>n&&(o=n,n=s,s=o),o=Ed(r,s);var i=Ed(r,n);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var N0=Qt&&"documentMode"in document&&11>=document.documentMode,Sn=null,$l=null,To=null,Dl=!1;function Cd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dl||Sn==null||Sn!==mi(n)||(n=Sn,"selectionStart"in n&&Gu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),To&&qo(To,n)||(To=n,n=_i($l,"onSelect"),0<n.length&&(t=new Hu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Sn)))}function Rs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kn={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},La={},up={};Qt&&(up=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function Yi(e){if(La[e])return La[e];if(!kn[e])return e;var t=kn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in up)return La[e]=t[r];return e}var cp=Yi("animationend"),dp=Yi("animationiteration"),fp=Yi("animationstart"),hp=Yi("transitionend"),pp=new Map,Pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){pp.set(e,t),tn(t,[e])}for(var $a=0;$a<Pd.length;$a++){var Da=Pd[$a],R0=Da.toLowerCase(),T0=Da[0].toUpperCase()+Da.slice(1);Nr(R0,"on"+T0)}Nr(cp,"onAnimationEnd");Nr(dp,"onAnimationIteration");Nr(fp,"onAnimationStart");Nr("dblclick","onDoubleClick");Nr("focusin","onFocus");Nr("focusout","onBlur");Nr(hp,"onTransitionEnd");Wn("onMouseEnter",["mouseout","mouseover"]);Wn("onMouseLeave",["mouseout","mouseover"]);Wn("onPointerEnter",["pointerout","pointerover"]);Wn("onPointerLeave",["pointerout","pointerover"]);tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function jd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ry(n,t,void 0,e),e.currentTarget=null}function mp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;jd(o,a,u),s=l}else for(i=0;i<n.length;i++){if(a=n[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;jd(o,a,u),s=l}}}if(vi)throw e=Al,vi=!1,Al=null,e}function se(e,t){var r=t[Bl];r===void 0&&(r=t[Bl]=new Set);var n=e+"__bubble";r.has(n)||(gp(t,e,2,!1),r.add(n))}function Ma(e,t,r){var n=0;t&&(n|=4),gp(r,e,n,t)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Ko(e){if(!e[Ts]){e[Ts]=!0,Sh.forEach(function(r){r!=="selectionchange"&&(A0.has(r)||Ma(r,!1,e),Ma(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ts]||(t[Ts]=!0,Ma("selectionchange",!1,t))}}function gp(e,t,r,n){switch(Zh(t)){case 1:var o=qy;break;case 4:o=Ky;break;default:o=Wu}r=o.bind(null,t,r,e),o=void 0,!Tl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function za(e,t,r,n,o){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Fr(a),i===null)return;if(l=i.tag,l===5||l===6){n=s=i;continue e}a=a.parentNode}}n=n.return}zh(function(){var u=s,d=zu(r),c=[];e:{var p=pp.get(e);if(p!==void 0){var x=Hu,b=e;switch(e){case"keypress":if(ni(r)===0)break e;case"keydown":case"keyup":x=l0;break;case"focusin":b="focus",x=Aa;break;case"focusout":b="blur",x=Aa;break;case"beforeblur":case"afterblur":x=Aa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Qy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=d0;break;case cp:case dp:case fp:x=Zy;break;case hp:x=h0;break;case"scroll":x=Gy;break;case"wheel":x=m0;break;case"copy":case"cut":case"paste":x=t0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=yd}var y=(t&4)!==0,w=!y&&e==="scroll",m=y?p!==null?p+"Capture":null:p;y=[];for(var g=u,v;g!==null;){v=g;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,m!==null&&(_=Fo(g,m),_!=null&&y.push(Go(g,_,v)))),w)break;g=g.return}0<y.length&&(p=new x(p,b,null,r,d),c.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&r!==Nl&&(b=r.relatedTarget||r.fromElement)&&(Fr(b)||b[Jt]))break e;if((x||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,x?(b=r.relatedTarget||r.toElement,x=u,b=b?Fr(b):null,b!==null&&(w=rn(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=u),x!==b)){if(y=gd,_="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=yd,_="onPointerLeave",m="onPointerEnter",g="pointer"),w=x==null?p:En(x),v=b==null?p:En(b),p=new y(_,g+"leave",x,r,d),p.target=w,p.relatedTarget=v,_=null,Fr(d)===u&&(y=new y(m,g+"enter",b,r,d),y.target=v,y.relatedTarget=w,_=y),w=_,x&&b)t:{for(y=x,m=b,g=0,v=y;v;v=un(v))g++;for(v=0,_=m;_;_=un(_))v++;for(;0<g-v;)y=un(y),g--;for(;0<v-g;)m=un(m),v--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=un(y),m=un(m)}y=null}else y=null;x!==null&&Nd(c,p,x,y,!1),b!==null&&w!==null&&Nd(c,w,b,y,!0)}}e:{if(p=u?En(u):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var k=_0;else if(bd(p))if(sp)k=C0;else{k=k0;var E=S0}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=E0);if(k&&(k=k(e,u))){op(c,k,r,d);break e}E&&E(e,p,u),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&kl(p,"number",p.value)}switch(E=u?En(u):window,e){case"focusin":(bd(E)||E.contentEditable==="true")&&(Sn=E,$l=u,To=null);break;case"focusout":To=$l=Sn=null;break;case"mousedown":Dl=!0;break;case"contextmenu":case"mouseup":case"dragend":Dl=!1,Cd(c,r,d);break;case"selectionchange":if(N0)break;case"keydown":case"keyup":Cd(c,r,d)}var S;if(Ku)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else _n?rp(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(tp&&r.locale!=="ko"&&(_n||C!=="onCompositionStart"?C==="onCompositionEnd"&&_n&&(S=ep()):(vr=d,Vu="value"in vr?vr.value:vr.textContent,_n=!0)),E=_i(u,C),0<E.length&&(C=new vd(C,e,null,r,d),c.push({event:C,listeners:E}),S?C.data=S:(S=np(r),S!==null&&(C.data=S)))),(S=v0?y0(e,r):w0(e,r))&&(u=_i(u,"onBeforeInput"),0<u.length&&(d=new vd("onBeforeInput","beforeinput",null,r,d),c.push({event:d,listeners:u}),d.data=S))}mp(c,t)})}function Go(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _i(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Fo(e,r),s!=null&&n.unshift(Go(e,s,o)),s=Fo(e,t),s!=null&&n.push(Go(e,s,o))),e=e.return}return n}function un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nd(e,t,r,n,o){for(var s=t._reactName,i=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,o?(l=Fo(r,s),l!=null&&i.unshift(Go(r,l,a))):o||(l=Fo(r,s),l!=null&&i.push(Go(r,l,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var I0=/\r\n?/g,O0=/\u0000|\uFFFD/g;function Rd(e){return(typeof e=="string"?e:""+e).replace(I0,`
`).replace(O0,"")}function As(e,t,r){if(t=Rd(t),Rd(e)!==t&&r)throw Error(A(425))}function Si(){}var Ml=null,zl=null;function Ul(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fl=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,Td=typeof Promise=="function"?Promise:void 0,$0=typeof queueMicrotask=="function"?queueMicrotask:typeof Td<"u"?function(e){return Td.resolve(null).then(e).catch(D0)}:Fl;function D0(e){setTimeout(function(){throw e})}function Ua(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Vo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Vo(t)}function _r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),It="__reactFiber$"+Zn,Yo="__reactProps$"+Zn,Jt="__reactContainer$"+Zn,Bl="__reactEvents$"+Zn,M0="__reactListeners$"+Zn,z0="__reactHandles$"+Zn;function Fr(e){var t=e[It];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Jt]||r[It]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ad(e);e!==null;){if(r=e[It])return r;e=Ad(e)}return t}e=r,r=e.parentNode}return null}function cs(e){return e=e[It]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function En(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Qi(e){return e[Yo]||null}var Wl=[],Cn=-1;function Rr(e){return{current:e}}function ie(e){0>Cn||(e.current=Wl[Cn],Wl[Cn]=null,Cn--)}function ne(e,t){Cn++,Wl[Cn]=e.current,e.current=t}var jr={},ze=Rr(jr),Xe=Rr(!1),Kr=jr;function Vn(e,t){var r=e.type.contextTypes;if(!r)return jr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in r)o[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ze(e){return e=e.childContextTypes,e!=null}function ki(){ie(Xe),ie(ze)}function Id(e,t,r){if(ze.current!==jr)throw Error(A(168));ne(ze,t),ne(Xe,r)}function vp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(A(108,Sy(e)||"Unknown",o));return fe({},r,n)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,Kr=ze.current,ne(ze,e),ne(Xe,Xe.current),!0}function Od(e,t,r){var n=e.stateNode;if(!n)throw Error(A(169));r?(e=vp(e,t,Kr),n.__reactInternalMemoizedMergedChildContext=e,ie(Xe),ie(ze),ne(ze,e)):ie(Xe),ne(Xe,r)}var Ht=null,Ji=!1,Fa=!1;function yp(e){Ht===null?Ht=[e]:Ht.push(e)}function U0(e){Ji=!0,yp(e)}function Tr(){if(!Fa&&Ht!==null){Fa=!0;var e=0,t=Z;try{var r=Ht;for(Z=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ht=null,Ji=!1}catch(o){throw Ht!==null&&(Ht=Ht.slice(e+1)),Wh(Uu,Tr),o}finally{Z=t,Fa=!1}}return null}var Pn=[],jn=0,Ci=null,Pi=0,dt=[],ft=0,Gr=null,qt=1,Kt="";function $r(e,t){Pn[jn++]=Pi,Pn[jn++]=Ci,Ci=e,Pi=t}function wp(e,t,r){dt[ft++]=qt,dt[ft++]=Kt,dt[ft++]=Gr,Gr=e;var n=qt;e=Kt;var o=32-Ct(n)-1;n&=~(1<<o),r+=1;var s=32-Ct(t)+o;if(30<s){var i=o-o%5;s=(n&(1<<i)-1).toString(32),n>>=i,o-=i,qt=1<<32-Ct(t)+o|r<<o|n,Kt=s+e}else qt=1<<s|r<<o|n,Kt=e}function Yu(e){e.return!==null&&($r(e,1),wp(e,1,0))}function Qu(e){for(;e===Ci;)Ci=Pn[--jn],Pn[jn]=null,Pi=Pn[--jn],Pn[jn]=null;for(;e===Gr;)Gr=dt[--ft],dt[ft]=null,Kt=dt[--ft],dt[ft]=null,qt=dt[--ft],dt[ft]=null}var it=null,st=null,ae=!1,Et=null;function xp(e,t){var r=ht(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ld(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,st=_r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gr!==null?{id:qt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ht(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,it=e,st=null,!0):!1;default:return!1}}function Vl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hl(e){if(ae){var t=st;if(t){var r=t;if(!Ld(e,t)){if(Vl(e))throw Error(A(418));t=_r(r.nextSibling);var n=it;t&&Ld(e,t)?xp(n,r):(e.flags=e.flags&-4097|2,ae=!1,it=e)}}else{if(Vl(e))throw Error(A(418));e.flags=e.flags&-4097|2,ae=!1,it=e}}}function $d(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function Is(e){if(e!==it)return!1;if(!ae)return $d(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ul(e.type,e.memoizedProps)),t&&(t=st)){if(Vl(e))throw bp(),Error(A(418));for(;t;)xp(e,t),t=_r(t.nextSibling)}if($d(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){st=_r(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}st=null}}else st=it?_r(e.stateNode.nextSibling):null;return!0}function bp(){for(var e=st;e;)e=_r(e.nextSibling)}function Hn(){st=it=null,ae=!1}function Ju(e){Et===null?Et=[e]:Et.push(e)}var F0=tr.ReactCurrentBatchConfig;function po(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,e));var o=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function Os(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dd(e){var t=e._init;return t(e._payload)}function _p(e){function t(m,g){if(e){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function r(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function o(m,g){return m=Cr(m,g),m.index=0,m.sibling=null,m}function s(m,g,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,v,_){return g===null||g.tag!==6?(g=Ga(v,m.mode,_),g.return=m,g):(g=o(g,v),g.return=m,g)}function l(m,g,v,_){var k=v.type;return k===bn?d(m,g,v.props.children,_,v.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fr&&Dd(k)===g.type)?(_=o(g,v.props),_.ref=po(m,g,v),_.return=m,_):(_=ci(v.type,v.key,v.props,null,m.mode,_),_.ref=po(m,g,v),_.return=m,_)}function u(m,g,v,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Ya(v,m.mode,_),g.return=m,g):(g=o(g,v.children||[]),g.return=m,g)}function d(m,g,v,_,k){return g===null||g.tag!==7?(g=Hr(v,m.mode,_,k),g.return=m,g):(g=o(g,v),g.return=m,g)}function c(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ga(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ss:return v=ci(g.type,g.key,g.props,null,m.mode,v),v.ref=po(m,null,g),v.return=m,v;case xn:return g=Ya(g,m.mode,v),g.return=m,g;case fr:var _=g._init;return c(m,_(g._payload),v)}if(_o(g)||lo(g))return g=Hr(g,m.mode,v,null),g.return=m,g;Os(m,g)}return null}function p(m,g,v,_){var k=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(m,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ss:return v.key===k?l(m,g,v,_):null;case xn:return v.key===k?u(m,g,v,_):null;case fr:return k=v._init,p(m,g,k(v._payload),_)}if(_o(v)||lo(v))return k!==null?null:d(m,g,v,_,null);Os(m,v)}return null}function x(m,g,v,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(v)||null,a(g,m,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ss:return m=m.get(_.key===null?v:_.key)||null,l(g,m,_,k);case xn:return m=m.get(_.key===null?v:_.key)||null,u(g,m,_,k);case fr:var E=_._init;return x(m,g,v,E(_._payload),k)}if(_o(_)||lo(_))return m=m.get(v)||null,d(g,m,_,k,null);Os(g,_)}return null}function b(m,g,v,_){for(var k=null,E=null,S=g,C=g=0,L=null;S!==null&&C<v.length;C++){S.index>C?(L=S,S=null):L=S.sibling;var P=p(m,S,v[C],_);if(P===null){S===null&&(S=L);break}e&&S&&P.alternate===null&&t(m,S),g=s(P,g,C),E===null?k=P:E.sibling=P,E=P,S=L}if(C===v.length)return r(m,S),ae&&$r(m,C),k;if(S===null){for(;C<v.length;C++)S=c(m,v[C],_),S!==null&&(g=s(S,g,C),E===null?k=S:E.sibling=S,E=S);return ae&&$r(m,C),k}for(S=n(m,S);C<v.length;C++)L=x(S,m,C,v[C],_),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?C:L.key),g=s(L,g,C),E===null?k=L:E.sibling=L,E=L);return e&&S.forEach(function(I){return t(m,I)}),ae&&$r(m,C),k}function y(m,g,v,_){var k=lo(v);if(typeof k!="function")throw Error(A(150));if(v=k.call(v),v==null)throw Error(A(151));for(var E=k=null,S=g,C=g=0,L=null,P=v.next();S!==null&&!P.done;C++,P=v.next()){S.index>C?(L=S,S=null):L=S.sibling;var I=p(m,S,P.value,_);if(I===null){S===null&&(S=L);break}e&&S&&I.alternate===null&&t(m,S),g=s(I,g,C),E===null?k=I:E.sibling=I,E=I,S=L}if(P.done)return r(m,S),ae&&$r(m,C),k;if(S===null){for(;!P.done;C++,P=v.next())P=c(m,P.value,_),P!==null&&(g=s(P,g,C),E===null?k=P:E.sibling=P,E=P);return ae&&$r(m,C),k}for(S=n(m,S);!P.done;C++,P=v.next())P=x(S,m,C,P.value,_),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?C:P.key),g=s(P,g,C),E===null?k=P:E.sibling=P,E=P);return e&&S.forEach(function(M){return t(m,M)}),ae&&$r(m,C),k}function w(m,g,v,_){if(typeof v=="object"&&v!==null&&v.type===bn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ss:e:{for(var k=v.key,E=g;E!==null;){if(E.key===k){if(k=v.type,k===bn){if(E.tag===7){r(m,E.sibling),g=o(E,v.props.children),g.return=m,m=g;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fr&&Dd(k)===E.type){r(m,E.sibling),g=o(E,v.props),g.ref=po(m,E,v),g.return=m,m=g;break e}r(m,E);break}else t(m,E);E=E.sibling}v.type===bn?(g=Hr(v.props.children,m.mode,_,v.key),g.return=m,m=g):(_=ci(v.type,v.key,v.props,null,m.mode,_),_.ref=po(m,g,v),_.return=m,m=_)}return i(m);case xn:e:{for(E=v.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(m,g.sibling),g=o(g,v.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else t(m,g);g=g.sibling}g=Ya(v,m.mode,_),g.return=m,m=g}return i(m);case fr:return E=v._init,w(m,g,E(v._payload),_)}if(_o(v))return b(m,g,v,_);if(lo(v))return y(m,g,v,_);Os(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(m,g.sibling),g=o(g,v),g.return=m,m=g):(r(m,g),g=Ga(v,m.mode,_),g.return=m,m=g),i(m)):r(m,g)}return w}var qn=_p(!0),Sp=_p(!1),ji=Rr(null),Ni=null,Nn=null,Xu=null;function Zu(){Xu=Nn=Ni=null}function ec(e){var t=ji.current;ie(ji),e._currentValue=t}function ql(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $n(e,t){Ni=e,Xu=Nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(Xu!==e)if(e={context:e,memoizedValue:t,next:null},Nn===null){if(Ni===null)throw Error(A(308));Nn=e,Ni.dependencies={lanes:0,firstContext:e}}else Nn=Nn.next=e;return t}var Br=null;function tc(e){Br===null?Br=[e]:Br.push(e)}function kp(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,tc(t)):(r.next=o.next,o.next=r),t.interleaved=r,Xt(e,n)}function Xt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var hr=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ep(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Q&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Xt(e,r)}return o=n.interleaved,o===null?(t.next=t,tc(n)):(t.next=o.next,o.next=t),n.interleaved=t,Xt(e,r)}function oi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fu(e,r)}}function Md(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?o=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?o=s=t:s=s.next=t}else o=s=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ri(e,t,r,n){var o=e.updateQueue;hr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?s=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var c=o.baseState;i=0,d=u=l=null,a=s;do{var p=a.lane,x=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,y=a;switch(p=t,x=r,y.tag){case 1:if(b=y.payload,typeof b=="function"){c=b.call(x,c,p);break e}c=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,p=typeof b=="function"?b.call(x,c,p):b,p==null)break e;c=fe({},c,p);break e;case 2:hr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else x={eventTime:x,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=x,l=c):d=d.next=x,i|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(d===null&&(l=c),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Qr|=i,e.lanes=i,e.memoizedState=c}}function zd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(A(191,o));o.call(n)}}}var ds={},$t=Rr(ds),Qo=Rr(ds),Jo=Rr(ds);function Wr(e){if(e===ds)throw Error(A(174));return e}function nc(e,t){switch(ne(Jo,t),ne(Qo,e),ne($t,ds),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cl(t,e)}ie($t),ne($t,t)}function Kn(){ie($t),ie(Qo),ie(Jo)}function Cp(e){Wr(Jo.current);var t=Wr($t.current),r=Cl(t,e.type);t!==r&&(ne(Qo,e),ne($t,r))}function oc(e){Qo.current===e&&(ie($t),ie(Qo))}var ue=Rr(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=[];function sc(){for(var e=0;e<Ba.length;e++)Ba[e]._workInProgressVersionPrimary=null;Ba.length=0}var si=tr.ReactCurrentDispatcher,Wa=tr.ReactCurrentBatchConfig,Yr=0,de=null,we=null,Pe=null,Ai=!1,Ao=!1,Xo=0,B0=0;function $e(){throw Error(A(321))}function ic(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jt(e[r],t[r]))return!1;return!0}function ac(e,t,r,n,o,s){if(Yr=s,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,si.current=e===null||e.memoizedState===null?q0:K0,e=r(n,o),Ao){s=0;do{if(Ao=!1,Xo=0,25<=s)throw Error(A(301));s+=1,Pe=we=null,t.updateQueue=null,si.current=G0,e=r(n,o)}while(Ao)}if(si.current=Ii,t=we!==null&&we.next!==null,Yr=0,Pe=we=de=null,Ai=!1,t)throw Error(A(300));return e}function lc(){var e=Xo!==0;return Xo=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?de.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function vt(){if(we===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Pe===null?de.memoizedState:Pe.next;if(t!==null)Pe=t,we=e;else{if(e===null)throw Error(A(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Pe===null?de.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Zo(e,t){return typeof t=="function"?t(e):t}function Va(e){var t=vt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=we,o=n.baseQueue,s=r.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}n.baseQueue=o=s,r.pending=null}if(o!==null){s=o.next,n=n.baseState;var a=i=null,l=null,u=s;do{var d=u.lane;if((Yr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,i=n):l=l.next=c,de.lanes|=d,Qr|=d}u=u.next}while(u!==null&&u!==s);l===null?i=n:l.next=a,jt(n,t.memoizedState)||(Je=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do s=o.lane,de.lanes|=s,Qr|=s,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ha(e){var t=vt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,s=t.memoizedState;if(o!==null){r.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);jt(s,t.memoizedState)||(Je=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Pp(){}function jp(e,t){var r=de,n=vt(),o=t(),s=!jt(n.memoizedState,o);if(s&&(n.memoizedState=o,Je=!0),n=n.queue,uc(Tp.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Pe!==null&&Pe.memoizedState.tag&1){if(r.flags|=2048,es(9,Rp.bind(null,r,n,o,t),void 0,null),je===null)throw Error(A(349));Yr&30||Np(r,t,o)}return o}function Np(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Rp(e,t,r,n){t.value=r,t.getSnapshot=n,Ap(t)&&Ip(e)}function Tp(e,t,r){return r(function(){Ap(t)&&Ip(e)})}function Ap(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jt(e,r)}catch{return!0}}function Ip(e){var t=Xt(e,1);t!==null&&Pt(t,e,1,-1)}function Ud(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},t.queue=e,e=e.dispatch=H0.bind(null,de,e),[t.memoizedState,e]}function es(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Op(){return vt().memoizedState}function ii(e,t,r,n){var o=At();de.flags|=e,o.memoizedState=es(1|t,r,void 0,n===void 0?null:n)}function Xi(e,t,r,n){var o=vt();n=n===void 0?null:n;var s=void 0;if(we!==null){var i=we.memoizedState;if(s=i.destroy,n!==null&&ic(n,i.deps)){o.memoizedState=es(t,r,s,n);return}}de.flags|=e,o.memoizedState=es(1|t,r,s,n)}function Fd(e,t){return ii(8390656,8,e,t)}function uc(e,t){return Xi(2048,8,e,t)}function Lp(e,t){return Xi(4,2,e,t)}function $p(e,t){return Xi(4,4,e,t)}function Dp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mp(e,t,r){return r=r!=null?r.concat([e]):null,Xi(4,4,Dp.bind(null,t,e),r)}function cc(){}function zp(e,t){var r=vt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ic(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Up(e,t){var r=vt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ic(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Fp(e,t,r){return Yr&21?(jt(r,t)||(r=qh(),de.lanes|=r,Qr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=r)}function W0(e,t){var r=Z;Z=r!==0&&4>r?r:4,e(!0);var n=Wa.transition;Wa.transition={};try{e(!1),t()}finally{Z=r,Wa.transition=n}}function Bp(){return vt().memoizedState}function V0(e,t,r){var n=Er(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wp(e))Vp(t,r);else if(r=kp(e,t,r,n),r!==null){var o=We();Pt(r,e,n,o),Hp(r,t,n)}}function H0(e,t,r){var n=Er(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wp(e))Vp(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,r);if(o.hasEagerState=!0,o.eagerState=a,jt(a,i)){var l=t.interleaved;l===null?(o.next=o,tc(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}r=kp(e,t,o,n),r!==null&&(o=We(),Pt(r,e,n,o),Hp(r,t,n))}}function Wp(e){var t=e.alternate;return e===de||t!==null&&t===de}function Vp(e,t){Ao=Ai=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Hp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fu(e,r)}}var Ii={readContext:gt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},q0={readContext:gt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Fd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ii(4194308,4,Dp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return ii(4,2,e,t)},useMemo:function(e,t){var r=At();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=At();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=V0.bind(null,de,e),[n.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:Ud,useDebugValue:cc,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=Ud(!1),t=e[0];return e=W0.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=de,o=At();if(ae){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),je===null)throw Error(A(349));Yr&30||Np(n,t,r)}o.memoizedState=r;var s={value:r,getSnapshot:t};return o.queue=s,Fd(Tp.bind(null,n,s,e),[e]),n.flags|=2048,es(9,Rp.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=At(),t=je.identifierPrefix;if(ae){var r=Kt,n=qt;r=(n&~(1<<32-Ct(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=B0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},K0={readContext:gt,useCallback:zp,useContext:gt,useEffect:uc,useImperativeHandle:Mp,useInsertionEffect:Lp,useLayoutEffect:$p,useMemo:Up,useReducer:Va,useRef:Op,useState:function(){return Va(Zo)},useDebugValue:cc,useDeferredValue:function(e){var t=vt();return Fp(t,we.memoizedState,e)},useTransition:function(){var e=Va(Zo)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Pp,useSyncExternalStore:jp,useId:Bp,unstable_isNewReconciler:!1},G0={readContext:gt,useCallback:zp,useContext:gt,useEffect:uc,useImperativeHandle:Mp,useInsertionEffect:Lp,useLayoutEffect:$p,useMemo:Up,useReducer:Ha,useRef:Op,useState:function(){return Ha(Zo)},useDebugValue:cc,useDeferredValue:function(e){var t=vt();return we===null?t.memoizedState=e:Fp(t,we.memoizedState,e)},useTransition:function(){var e=Ha(Zo)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Pp,useSyncExternalStore:jp,useId:Bp,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Kl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Zi={isMounted:function(e){return(e=e._reactInternals)?rn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=We(),o=Er(e),s=Gt(n,o);s.payload=t,r!=null&&(s.callback=r),t=Sr(e,s,o),t!==null&&(Pt(t,e,o,n),oi(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=We(),o=Er(e),s=Gt(n,o);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Sr(e,s,o),t!==null&&(Pt(t,e,o,n),oi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=We(),n=Er(e),o=Gt(r,n);o.tag=2,t!=null&&(o.callback=t),t=Sr(e,o,n),t!==null&&(Pt(t,e,n,r),oi(t,e,n))}};function Bd(e,t,r,n,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!qo(r,n)||!qo(o,s):!0}function qp(e,t,r){var n=!1,o=jr,s=t.contextType;return typeof s=="object"&&s!==null?s=gt(s):(o=Ze(t)?Kr:ze.current,n=t.contextTypes,s=(n=n!=null)?Vn(e,o):jr),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Wd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Zi.enqueueReplaceState(t,t.state,null)}function Gl(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},rc(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=gt(s):(s=Ze(t)?Kr:ze.current,o.context=Vn(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Kl(e,t,s,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Zi.enqueueReplaceState(o,o.state,null),Ri(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Gn(e,t){try{var r="",n=t;do r+=_y(n),n=n.return;while(n);var o=r}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function qa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Y0=typeof WeakMap=="function"?WeakMap:Map;function Kp(e,t,r){r=Gt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Li||(Li=!0,su=n),Yl(e,t)},r}function Gp(e,t,r){r=Gt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Yl(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Yl(e,t),typeof n!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Vd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Y0;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=uw.bind(null,e,t,r),t.then(e,e))}function Hd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qd(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gt(-1,1),t.tag=2,Sr(r,t,1))),r.lanes|=1),e)}var Q0=tr.ReactCurrentOwner,Je=!1;function Fe(e,t,r,n){t.child=e===null?Sp(t,null,r,n):qn(t,e.child,r,n)}function Kd(e,t,r,n,o){r=r.render;var s=t.ref;return $n(t,o),n=ac(e,t,r,n,s,o),r=lc(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(ae&&r&&Yu(t),t.flags|=1,Fe(e,t,n,o),t.child)}function Gd(e,t,r,n,o){if(e===null){var s=r.type;return typeof s=="function"&&!yc(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Yp(e,t,s,n,o)):(e=ci(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:qo,r(i,n)&&e.ref===t.ref)return Zt(e,t,o)}return t.flags|=1,e=Cr(s,n),e.ref=t.ref,e.return=t,t.child=e}function Yp(e,t,r,n,o){if(e!==null){var s=e.memoizedProps;if(qo(s,n)&&e.ref===t.ref)if(Je=!1,t.pendingProps=n=s,(e.lanes&o)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,Zt(e,t,o)}return Ql(e,t,r,n,o)}function Qp(e,t,r){var n=t.pendingProps,o=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(Tn,ot),ot|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(Tn,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ne(Tn,ot),ot|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,ne(Tn,ot),ot|=n;return Fe(e,t,o,r),t.child}function Jp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ql(e,t,r,n,o){var s=Ze(r)?Kr:ze.current;return s=Vn(t,s),$n(t,o),r=ac(e,t,r,n,s,o),n=lc(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(ae&&n&&Yu(t),t.flags|=1,Fe(e,t,r,o),t.child)}function Yd(e,t,r,n,o){if(Ze(r)){var s=!0;Ei(t)}else s=!1;if($n(t,o),t.stateNode===null)ai(e,t),qp(t,r,n),Gl(t,r,n,o),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=gt(u):(u=Ze(r)?Kr:ze.current,u=Vn(t,u));var d=r.getDerivedStateFromProps,c=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";c||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Wd(t,i,n,u),hr=!1;var p=t.memoizedState;i.state=p,Ri(t,n,i,o),l=t.memoizedState,a!==n||p!==l||Xe.current||hr?(typeof d=="function"&&(Kl(t,r,d,n),l=t.memoizedState),(a=hr||Bd(t,r,a,n,p,l,u))?(c||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Ep(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:_t(t.type,a),i.props=u,c=t.pendingProps,p=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=gt(l):(l=Ze(r)?Kr:ze.current,l=Vn(t,l));var x=r.getDerivedStateFromProps;(d=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==c||p!==l)&&Wd(t,i,n,l),hr=!1,p=t.memoizedState,i.state=p,Ri(t,n,i,o);var b=t.memoizedState;a!==c||p!==b||Xe.current||hr?(typeof x=="function"&&(Kl(t,r,x,n),b=t.memoizedState),(u=hr||Bd(t,r,u,n,p,b,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Jl(e,t,r,n,s,o)}function Jl(e,t,r,n,o,s){Jp(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return o&&Od(t,r,!1),Zt(e,t,s);n=t.stateNode,Q0.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=qn(t,e.child,null,s),t.child=qn(t,null,a,s)):Fe(e,t,a,s),t.memoizedState=n.state,o&&Od(t,r,!0),t.child}function Xp(e){var t=e.stateNode;t.pendingContext?Id(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Id(e,t.context,!1),nc(e,t.containerInfo)}function Qd(e,t,r,n,o){return Hn(),Ju(o),t.flags|=256,Fe(e,t,r,n),t.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function Zl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zp(e,t,r){var n=t.pendingProps,o=ue.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ne(ue,o&1),e===null)return Hl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=ra(i,n,0,null),e=Hr(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Zl(r),t.memoizedState=Xl,e):dc(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return J0(e,t,i,n,a,o,r);if(s){s=n.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Cr(o,l),n.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=Cr(a,s):(s=Hr(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?Zl(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=Xl,n}return s=e.child,e=s.sibling,n=Cr(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function dc(e,t){return t=ra({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ls(e,t,r,n){return n!==null&&Ju(n),qn(t,e.child,null,r),e=dc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function J0(e,t,r,n,o,s,i){if(r)return t.flags&256?(t.flags&=-257,n=qa(Error(A(422))),Ls(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,o=t.mode,n=ra({mode:"visible",children:n.children},o,0,null),s=Hr(s,o,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&qn(t,e.child,null,i),t.child.memoizedState=Zl(i),t.memoizedState=Xl,s);if(!(t.mode&1))return Ls(e,t,i,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(A(419)),n=qa(s,n,void 0),Ls(e,t,i,n)}if(a=(i&e.childLanes)!==0,Je||a){if(n=je,n!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Xt(e,o),Pt(n,e,o,-1))}return vc(),n=qa(Error(A(421))),Ls(e,t,i,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=cw.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,st=_r(o.nextSibling),it=t,ae=!0,Et=null,e!==null&&(dt[ft++]=qt,dt[ft++]=Kt,dt[ft++]=Gr,qt=e.id,Kt=e.overflow,Gr=t),t=dc(t,n.children),t.flags|=4096,t)}function Jd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ql(e.return,t,r)}function Ka(e,t,r,n,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=o)}function em(e,t,r){var n=t.pendingProps,o=n.revealOrder,s=n.tail;if(Fe(e,t,n.children,r),n=ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jd(e,r,t);else if(e.tag===19)Jd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ne(ue,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&Ti(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Ka(t,!1,o,r,s);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ti(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Ka(t,!0,r,null,s);break;case"together":Ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ai(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=Cr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Cr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function X0(e,t,r){switch(t.tag){case 3:Xp(t),Hn();break;case 5:Cp(t);break;case 1:Ze(t.type)&&Ei(t);break;case 4:nc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;ne(ji,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ne(ue,ue.current&1),t.flags|=128,null):r&t.child.childLanes?Zp(e,t,r):(ne(ue,ue.current&1),e=Zt(e,t,r),e!==null?e.sibling:null);ne(ue,ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return em(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ne(ue,ue.current),n)break;return null;case 22:case 23:return t.lanes=0,Qp(e,t,r)}return Zt(e,t,r)}var tm,eu,rm,nm;tm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};eu=function(){};rm=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Wr($t.current);var s=null;switch(r){case"input":o=_l(e,o),n=_l(e,n),s=[];break;case"select":o=fe({},o,{value:void 0}),n=fe({},n,{value:void 0}),s=[];break;case"textarea":o=El(e,o),n=El(e,n),s=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Si)}Pl(r,n);var i;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&se("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};nm=function(e,t,r,n){r!==n&&(t.flags|=4)};function mo(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Z0(e,t,r){var n=t.pendingProps;switch(Qu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return Ze(t.type)&&ki(),De(t),null;case 3:return n=t.stateNode,Kn(),ie(Xe),ie(ze),sc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(lu(Et),Et=null))),eu(e,t),De(t),null;case 5:oc(t);var o=Wr(Jo.current);if(r=t.type,e!==null&&t.stateNode!=null)rm(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(A(166));return De(t),null}if(e=Wr($t.current),Is(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[It]=t,n[Yo]=s,e=(t.mode&1)!==0,r){case"dialog":se("cancel",n),se("close",n);break;case"iframe":case"object":case"embed":se("load",n);break;case"video":case"audio":for(o=0;o<ko.length;o++)se(ko[o],n);break;case"source":se("error",n);break;case"img":case"image":case"link":se("error",n),se("load",n);break;case"details":se("toggle",n);break;case"input":id(n,s),se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},se("invalid",n);break;case"textarea":ld(n,s),se("invalid",n)}Pl(r,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&As(n.textContent,a,e),o=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&As(n.textContent,a,e),o=["children",""+a]):zo.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&se("scroll",n)}switch(r){case"input":ks(n),ad(n,s,!0);break;case"textarea":ks(n),ud(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Si)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Th(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[It]=t,e[Yo]=n,tm(e,t,!1,!1),t.stateNode=e;e:{switch(i=jl(r,n),r){case"dialog":se("cancel",e),se("close",e),o=n;break;case"iframe":case"object":case"embed":se("load",e),o=n;break;case"video":case"audio":for(o=0;o<ko.length;o++)se(ko[o],e);o=n;break;case"source":se("error",e),o=n;break;case"img":case"image":case"link":se("error",e),se("load",e),o=n;break;case"details":se("toggle",e),o=n;break;case"input":id(e,n),o=_l(e,n),se("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=fe({},n,{value:void 0}),se("invalid",e);break;case"textarea":ld(e,n),o=El(e,n),se("invalid",e);break;default:o=n}Pl(r,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Oh(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ah(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Uo(e,l):typeof l=="number"&&Uo(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&se("scroll",e):l!=null&&Lu(e,s,l,i))}switch(r){case"input":ks(e),ad(e,n,!1);break;case"textarea":ks(e),ud(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pr(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?An(e,!!n.multiple,s,!1):n.defaultValue!=null&&An(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Si)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)nm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(A(166));if(r=Wr(Jo.current),Wr($t.current),Is(t)){if(n=t.stateNode,r=t.memoizedProps,n[It]=t,(s=n.nodeValue!==r)&&(e=it,e!==null))switch(e.tag){case 3:As(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&As(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[It]=t,t.stateNode=n}return De(t),null;case 13:if(ie(ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&st!==null&&t.mode&1&&!(t.flags&128))bp(),Hn(),t.flags|=98560,s=!1;else if(s=Is(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(A(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));s[It]=t}else Hn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),s=!1}else Et!==null&&(lu(Et),Et=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?xe===0&&(xe=3):vc())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return Kn(),eu(e,t),e===null&&Ko(t.stateNode.containerInfo),De(t),null;case 10:return ec(t.type._context),De(t),null;case 17:return Ze(t.type)&&ki(),De(t),null;case 19:if(ie(ue),s=t.memoizedState,s===null)return De(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)mo(s,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ti(e),i!==null){for(t.flags|=128,mo(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ne(ue,ue.current&1|2),t.child}e=e.sibling}s.tail!==null&&pe()>Yn&&(t.flags|=128,n=!0,mo(s,!1),t.lanes=4194304)}else{if(!n)if(e=Ti(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),mo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ae)return De(t),null}else 2*pe()-s.renderingStartTime>Yn&&r!==1073741824&&(t.flags|=128,n=!0,mo(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=pe(),t.sibling=null,r=ue.current,ne(ue,n?r&1|2:r&1),t):(De(t),null);case 22:case 23:return gc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ot&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function ew(e,t){switch(Qu(t),t.tag){case 1:return Ze(t.type)&&ki(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kn(),ie(Xe),ie(ze),sc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return oc(t),null;case 13:if(ie(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ue),null;case 4:return Kn(),null;case 10:return ec(t.type._context),null;case 22:case 23:return gc(),null;case 24:return null;default:return null}}var $s=!1,Me=!1,tw=typeof WeakSet=="function"?WeakSet:Set,z=null;function Rn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){he(e,t,n)}else r.current=null}function tu(e,t,r){try{r()}catch(n){he(e,t,n)}}var Xd=!1;function rw(e,t){if(Ml=xi,e=lp(),Gu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,a=-1,l=-1,u=0,d=0,c=e,p=null;t:for(;;){for(var x;c!==r||o!==0&&c.nodeType!==3||(a=i+o),c!==s||n!==0&&c.nodeType!==3||(l=i+n),c.nodeType===3&&(i+=c.nodeValue.length),(x=c.firstChild)!==null;)p=c,c=x;for(;;){if(c===e)break t;if(p===r&&++u===o&&(a=i),p===s&&++d===n&&(l=i),(x=c.nextSibling)!==null)break;c=p,p=c.parentNode}c=x}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(zl={focusedElem:e,selectionRange:r},xi=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,w=b.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:_t(t.type,y),w);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(_){he(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return b=Xd,Xd=!1,b}function Io(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&tu(t,r,s)}o=o.next}while(o!==n)}}function ea(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ru(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function om(e){var t=e.alternate;t!==null&&(e.alternate=null,om(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Yo],delete t[Bl],delete t[M0],delete t[z0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sm(e){return e.tag===5||e.tag===3||e.tag===4}function Zd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Si));else if(n!==4&&(e=e.child,e!==null))for(nu(e,t,r),e=e.sibling;e!==null;)nu(e,t,r),e=e.sibling}function ou(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ou(e,t,r),e=e.sibling;e!==null;)ou(e,t,r),e=e.sibling}var Te=null,St=!1;function sr(e,t,r){for(r=r.child;r!==null;)im(e,t,r),r=r.sibling}function im(e,t,r){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(qi,r)}catch{}switch(r.tag){case 5:Me||Rn(r,t);case 6:var n=Te,o=St;Te=null,sr(e,t,r),Te=n,St=o,Te!==null&&(St?(e=Te,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Te.removeChild(r.stateNode));break;case 18:Te!==null&&(St?(e=Te,r=r.stateNode,e.nodeType===8?Ua(e.parentNode,r):e.nodeType===1&&Ua(e,r),Vo(e)):Ua(Te,r.stateNode));break;case 4:n=Te,o=St,Te=r.stateNode.containerInfo,St=!0,sr(e,t,r),Te=n,St=o;break;case 0:case 11:case 14:case 15:if(!Me&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&tu(r,t,i),o=o.next}while(o!==n)}sr(e,t,r);break;case 1:if(!Me&&(Rn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){he(r,t,a)}sr(e,t,r);break;case 21:sr(e,t,r);break;case 22:r.mode&1?(Me=(n=Me)||r.memoizedState!==null,sr(e,t,r),Me=n):sr(e,t,r);break;default:sr(e,t,r)}}function ef(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new tw),t.forEach(function(n){var o=dw.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function xt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Te=a.stateNode,St=!1;break e;case 3:Te=a.stateNode.containerInfo,St=!0;break e;case 4:Te=a.stateNode.containerInfo,St=!0;break e}a=a.return}if(Te===null)throw Error(A(160));im(s,i,o),Te=null,St=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){he(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)am(t,e),t=t.sibling}function am(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),Rt(e),n&4){try{Io(3,e,e.return),ea(3,e)}catch(y){he(e,e.return,y)}try{Io(5,e,e.return)}catch(y){he(e,e.return,y)}}break;case 1:xt(t,e),Rt(e),n&512&&r!==null&&Rn(r,r.return);break;case 5:if(xt(t,e),Rt(e),n&512&&r!==null&&Rn(r,r.return),e.flags&32){var o=e.stateNode;try{Uo(o,"")}catch(y){he(e,e.return,y)}}if(n&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Nh(o,s),jl(a,i);var u=jl(a,s);for(i=0;i<l.length;i+=2){var d=l[i],c=l[i+1];d==="style"?Oh(o,c):d==="dangerouslySetInnerHTML"?Ah(o,c):d==="children"?Uo(o,c):Lu(o,d,c,u)}switch(a){case"input":Sl(o,s);break;case"textarea":Rh(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?An(o,!!s.multiple,x,!1):p!==!!s.multiple&&(s.defaultValue!=null?An(o,!!s.multiple,s.defaultValue,!0):An(o,!!s.multiple,s.multiple?[]:"",!1))}o[Yo]=s}catch(y){he(e,e.return,y)}}break;case 6:if(xt(t,e),Rt(e),n&4){if(e.stateNode===null)throw Error(A(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(y){he(e,e.return,y)}}break;case 3:if(xt(t,e),Rt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vo(t.containerInfo)}catch(y){he(e,e.return,y)}break;case 4:xt(t,e),Rt(e);break;case 13:xt(t,e),Rt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(pc=pe())),n&4&&ef(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Me=(u=Me)||d,xt(t,e),Me=u):xt(t,e),Rt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(z=e,d=e.child;d!==null;){for(c=z=d;z!==null;){switch(p=z,x=p.child,p.tag){case 0:case 11:case 14:case 15:Io(4,p,p.return);break;case 1:Rn(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){he(n,r,y)}}break;case 5:Rn(p,p.return);break;case 22:if(p.memoizedState!==null){rf(c);continue}}x!==null?(x.return=p,z=x):rf(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{o=c.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,l=c.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ih("display",i))}catch(y){he(e,e.return,y)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){he(e,e.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:xt(t,e),Rt(e),n&4&&ef(e);break;case 21:break;default:xt(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sm(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Uo(o,""),n.flags&=-33);var s=Zd(e);ou(e,s,o);break;case 3:case 4:var i=n.stateNode.containerInfo,a=Zd(e);nu(e,a,i);break;default:throw Error(A(161))}}catch(l){he(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nw(e,t,r){z=e,lm(e)}function lm(e,t,r){for(var n=(e.mode&1)!==0;z!==null;){var o=z,s=o.child;if(o.tag===22&&n){var i=o.memoizedState!==null||$s;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Me;a=$s;var u=Me;if($s=i,(Me=l)&&!u)for(z=o;z!==null;)i=z,l=i.child,i.tag===22&&i.memoizedState!==null?nf(o):l!==null?(l.return=i,z=l):nf(o);for(;s!==null;)z=s,lm(s),s=s.sibling;z=o,$s=a,Me=u}tf(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,z=s):tf(e)}}function tf(e){for(;z!==null;){var t=z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||ea(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Me)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:_t(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&zd(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}zd(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Vo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Me||t.flags&512&&ru(t)}catch(p){he(t,t.return,p)}}if(t===e){z=null;break}if(r=t.sibling,r!==null){r.return=t.return,z=r;break}z=t.return}}function rf(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,z=r;break}z=t.return}}function nf(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ea(4,t)}catch(l){he(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(l){he(t,o,l)}}var s=t.return;try{ru(t)}catch(l){he(t,s,l)}break;case 5:var i=t.return;try{ru(t)}catch(l){he(t,i,l)}}}catch(l){he(t,t.return,l)}if(t===e){z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,z=a;break}z=t.return}}var ow=Math.ceil,Oi=tr.ReactCurrentDispatcher,fc=tr.ReactCurrentOwner,pt=tr.ReactCurrentBatchConfig,Q=0,je=null,ge=null,Ae=0,ot=0,Tn=Rr(0),xe=0,ts=null,Qr=0,ta=0,hc=0,Oo=null,Ye=null,pc=0,Yn=1/0,Bt=null,Li=!1,su=null,kr=null,Ds=!1,yr=null,$i=0,Lo=0,iu=null,li=-1,ui=0;function We(){return Q&6?pe():li!==-1?li:li=pe()}function Er(e){return e.mode&1?Q&2&&Ae!==0?Ae&-Ae:F0.transition!==null?(ui===0&&(ui=qh()),ui):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Zh(e.type)),e):1}function Pt(e,t,r,n){if(50<Lo)throw Lo=0,iu=null,Error(A(185));ls(e,r,n),(!(Q&2)||e!==je)&&(e===je&&(!(Q&2)&&(ta|=r),xe===4&&mr(e,Ae)),et(e,n),r===1&&Q===0&&!(t.mode&1)&&(Yn=pe()+500,Ji&&Tr()))}function et(e,t){var r=e.callbackNode;Fy(e,t);var n=wi(e,e===je?Ae:0);if(n===0)r!==null&&fd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&fd(r),t===1)e.tag===0?U0(of.bind(null,e)):yp(of.bind(null,e)),$0(function(){!(Q&6)&&Tr()}),r=null;else{switch(Kh(n)){case 1:r=Uu;break;case 4:r=Vh;break;case 16:r=yi;break;case 536870912:r=Hh;break;default:r=yi}r=gm(r,um.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function um(e,t){if(li=-1,ui=0,Q&6)throw Error(A(327));var r=e.callbackNode;if(Dn()&&e.callbackNode!==r)return null;var n=wi(e,e===je?Ae:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Di(e,n);else{t=n;var o=Q;Q|=2;var s=dm();(je!==e||Ae!==t)&&(Bt=null,Yn=pe()+500,Vr(e,t));do try{aw();break}catch(a){cm(e,a)}while(!0);Zu(),Oi.current=s,Q=o,ge!==null?t=0:(je=null,Ae=0,t=xe)}if(t!==0){if(t===2&&(o=Il(e),o!==0&&(n=o,t=au(e,o))),t===1)throw r=ts,Vr(e,0),mr(e,n),et(e,pe()),r;if(t===6)mr(e,n);else{if(o=e.current.alternate,!(n&30)&&!sw(o)&&(t=Di(e,n),t===2&&(s=Il(e),s!==0&&(n=s,t=au(e,s))),t===1))throw r=ts,Vr(e,0),mr(e,n),et(e,pe()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(A(345));case 2:Dr(e,Ye,Bt);break;case 3:if(mr(e,n),(n&130023424)===n&&(t=pc+500-pe(),10<t)){if(wi(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){We(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Fl(Dr.bind(null,e,Ye,Bt),t);break}Dr(e,Ye,Bt);break;case 4:if(mr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var i=31-Ct(n);s=1<<i,i=t[i],i>o&&(o=i),n&=~s}if(n=o,n=pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ow(n/1960))-n,10<n){e.timeoutHandle=Fl(Dr.bind(null,e,Ye,Bt),n);break}Dr(e,Ye,Bt);break;case 5:Dr(e,Ye,Bt);break;default:throw Error(A(329))}}}return et(e,pe()),e.callbackNode===r?um.bind(null,e):null}function au(e,t){var r=Oo;return e.current.memoizedState.isDehydrated&&(Vr(e,t).flags|=256),e=Di(e,t),e!==2&&(t=Ye,Ye=r,t!==null&&lu(t)),e}function lu(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function sw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],s=o.getSnapshot;o=o.value;try{if(!jt(s(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t){for(t&=~hc,t&=~ta,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ct(t),n=1<<r;e[r]=-1,t&=~n}}function of(e){if(Q&6)throw Error(A(327));Dn();var t=wi(e,0);if(!(t&1))return et(e,pe()),null;var r=Di(e,t);if(e.tag!==0&&r===2){var n=Il(e);n!==0&&(t=n,r=au(e,n))}if(r===1)throw r=ts,Vr(e,0),mr(e,t),et(e,pe()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dr(e,Ye,Bt),et(e,pe()),null}function mc(e,t){var r=Q;Q|=1;try{return e(t)}finally{Q=r,Q===0&&(Yn=pe()+500,Ji&&Tr())}}function Jr(e){yr!==null&&yr.tag===0&&!(Q&6)&&Dn();var t=Q;Q|=1;var r=pt.transition,n=Z;try{if(pt.transition=null,Z=1,e)return e()}finally{Z=n,pt.transition=r,Q=t,!(Q&6)&&Tr()}}function gc(){ot=Tn.current,ie(Tn)}function Vr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,L0(r)),ge!==null)for(r=ge.return;r!==null;){var n=r;switch(Qu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ki();break;case 3:Kn(),ie(Xe),ie(ze),sc();break;case 5:oc(n);break;case 4:Kn();break;case 13:ie(ue);break;case 19:ie(ue);break;case 10:ec(n.type._context);break;case 22:case 23:gc()}r=r.return}if(je=e,ge=e=Cr(e.current,null),Ae=ot=t,xe=0,ts=null,hc=ta=Qr=0,Ye=Oo=null,Br!==null){for(t=0;t<Br.length;t++)if(r=Br[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=o,n.next=i}r.pending=n}Br=null}return e}function cm(e,t){do{var r=ge;try{if(Zu(),si.current=Ii,Ai){for(var n=de.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Ai=!1}if(Yr=0,Pe=we=de=null,Ao=!1,Xo=0,fc.current=null,r===null||r.return===null){xe=1,ts=t,ge=null;break}e:{var s=e,i=r.return,a=r,l=t;if(t=Ae,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=Hd(i);if(x!==null){x.flags&=-257,qd(x,i,a,s,t),x.mode&1&&Vd(s,u,t),t=x,l=u;var b=t.updateQueue;if(b===null){var y=new Set;y.add(l),t.updateQueue=y}else b.add(l);break e}else{if(!(t&1)){Vd(s,u,t),vc();break e}l=Error(A(426))}}else if(ae&&a.mode&1){var w=Hd(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),qd(w,i,a,s,t),Ju(Gn(l,a));break e}}s=l=Gn(l,a),xe!==4&&(xe=2),Oo===null?Oo=[s]:Oo.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Kp(s,l,t);Md(s,m);break e;case 1:a=l;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(kr===null||!kr.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=Gp(s,a,t);Md(s,_);break e}}s=s.return}while(s!==null)}hm(r)}catch(k){t=k,ge===r&&r!==null&&(ge=r=r.return);continue}break}while(!0)}function dm(){var e=Oi.current;return Oi.current=Ii,e===null?Ii:e}function vc(){(xe===0||xe===3||xe===2)&&(xe=4),je===null||!(Qr&268435455)&&!(ta&268435455)||mr(je,Ae)}function Di(e,t){var r=Q;Q|=2;var n=dm();(je!==e||Ae!==t)&&(Bt=null,Vr(e,t));do try{iw();break}catch(o){cm(e,o)}while(!0);if(Zu(),Q=r,Oi.current=n,ge!==null)throw Error(A(261));return je=null,Ae=0,xe}function iw(){for(;ge!==null;)fm(ge)}function aw(){for(;ge!==null&&!Ay();)fm(ge)}function fm(e){var t=mm(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?hm(e):ge=t,fc.current=null}function hm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ew(r,t),r!==null){r.flags&=32767,ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,ge=null;return}}else if(r=Z0(r,t,ot),r!==null){ge=r;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);xe===0&&(xe=5)}function Dr(e,t,r){var n=Z,o=pt.transition;try{pt.transition=null,Z=1,lw(e,t,r,n)}finally{pt.transition=o,Z=n}return null}function lw(e,t,r,n){do Dn();while(yr!==null);if(Q&6)throw Error(A(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(By(e,s),e===je&&(ge=je=null,Ae=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ds||(Ds=!0,gm(yi,function(){return Dn(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=pt.transition,pt.transition=null;var i=Z;Z=1;var a=Q;Q|=4,fc.current=null,rw(e,r),am(r,e),j0(zl),xi=!!Ml,zl=Ml=null,e.current=r,nw(r),Iy(),Q=a,Z=i,pt.transition=s}else e.current=r;if(Ds&&(Ds=!1,yr=e,$i=o),s=e.pendingLanes,s===0&&(kr=null),$y(r.stateNode),et(e,pe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Li)throw Li=!1,e=su,su=null,e;return $i&1&&e.tag!==0&&Dn(),s=e.pendingLanes,s&1?e===iu?Lo++:(Lo=0,iu=e):Lo=0,Tr(),null}function Dn(){if(yr!==null){var e=Kh($i),t=pt.transition,r=Z;try{if(pt.transition=null,Z=16>e?16:e,yr===null)var n=!1;else{if(e=yr,yr=null,$i=0,Q&6)throw Error(A(331));var o=Q;for(Q|=4,z=e.current;z!==null;){var s=z,i=s.child;if(z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(z=u;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:Io(8,d,s)}var c=d.child;if(c!==null)c.return=d,z=c;else for(;z!==null;){d=z;var p=d.sibling,x=d.return;if(om(d),d===u){z=null;break}if(p!==null){p.return=x,z=p;break}z=x}}}var b=s.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}z=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,z=i;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Io(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,z=m;break e}z=s.return}}var g=e.current;for(z=g;z!==null;){i=z;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,z=v;else e:for(i=g;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ea(9,a)}}catch(k){he(a,a.return,k)}if(a===i){z=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,z=_;break e}z=a.return}}if(Q=o,Tr(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(qi,e)}catch{}n=!0}return n}finally{Z=r,pt.transition=t}}return!1}function sf(e,t,r){t=Gn(r,t),t=Kp(e,t,1),e=Sr(e,t,1),t=We(),e!==null&&(ls(e,1,t),et(e,t))}function he(e,t,r){if(e.tag===3)sf(e,e,r);else for(;t!==null;){if(t.tag===3){sf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kr===null||!kr.has(n))){e=Gn(r,e),e=Gp(t,e,1),t=Sr(t,e,1),e=We(),t!==null&&(ls(t,1,e),et(t,e));break}}t=t.return}}function uw(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&r,je===e&&(Ae&r)===r&&(xe===4||xe===3&&(Ae&130023424)===Ae&&500>pe()-pc?Vr(e,0):hc|=r),et(e,t)}function pm(e,t){t===0&&(e.mode&1?(t=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):t=1);var r=We();e=Xt(e,t),e!==null&&(ls(e,t,r),et(e,r))}function cw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pm(e,r)}function dw(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(t),pm(e,r)}var mm;mm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Je=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Je=!1,X0(e,t,r);Je=!!(e.flags&131072)}else Je=!1,ae&&t.flags&1048576&&wp(t,Pi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ai(e,t),e=t.pendingProps;var o=Vn(t,ze.current);$n(t,r),o=ac(null,t,n,e,o,r);var s=lc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(n)?(s=!0,Ei(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,rc(t),o.updater=Zi,t.stateNode=o,o._reactInternals=t,Gl(t,n,e,r),t=Jl(null,t,n,!0,s,r)):(t.tag=0,ae&&s&&Yu(t),Fe(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ai(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=hw(n),e=_t(n,e),o){case 0:t=Ql(null,t,n,e,r);break e;case 1:t=Yd(null,t,n,e,r);break e;case 11:t=Kd(null,t,n,e,r);break e;case 14:t=Gd(null,t,n,_t(n.type,e),r);break e}throw Error(A(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:_t(n,o),Ql(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:_t(n,o),Yd(e,t,n,o,r);case 3:e:{if(Xp(t),e===null)throw Error(A(387));n=t.pendingProps,s=t.memoizedState,o=s.element,Ep(e,t),Ri(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Gn(Error(A(423)),t),t=Qd(e,t,n,r,o);break e}else if(n!==o){o=Gn(Error(A(424)),t),t=Qd(e,t,n,r,o);break e}else for(st=_r(t.stateNode.containerInfo.firstChild),it=t,ae=!0,Et=null,r=Sp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hn(),n===o){t=Zt(e,t,r);break e}Fe(e,t,n,r)}t=t.child}return t;case 5:return Cp(t),e===null&&Hl(t),n=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Ul(n,o)?i=null:s!==null&&Ul(n,s)&&(t.flags|=32),Jp(e,t),Fe(e,t,i,r),t.child;case 6:return e===null&&Hl(t),null;case 13:return Zp(e,t,r);case 4:return nc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qn(t,null,n,r):Fe(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:_t(n,o),Kd(e,t,n,o,r);case 7:return Fe(e,t,t.pendingProps,r),t.child;case 8:return Fe(e,t,t.pendingProps.children,r),t.child;case 12:return Fe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,ne(ji,n._currentValue),n._currentValue=i,s!==null)if(jt(s.value,i)){if(s.children===o.children&&!Xe.current){t=Zt(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Gt(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),ql(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(A(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),ql(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Fe(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,$n(t,r),o=gt(o),n=n(o),t.flags|=1,Fe(e,t,n,r),t.child;case 14:return n=t.type,o=_t(n,t.pendingProps),o=_t(n.type,o),Gd(e,t,n,o,r);case 15:return Yp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:_t(n,o),ai(e,t),t.tag=1,Ze(n)?(e=!0,Ei(t)):e=!1,$n(t,r),qp(t,n,o),Gl(t,n,o,r),Jl(null,t,n,!0,e,r);case 19:return em(e,t,r);case 22:return Qp(e,t,r)}throw Error(A(156,t.tag))};function gm(e,t){return Wh(e,t)}function fw(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,r,n){return new fw(e,t,r,n)}function yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hw(e){if(typeof e=="function")return yc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Du)return 11;if(e===Mu)return 14}return 2}function Cr(e,t){var r=e.alternate;return r===null?(r=ht(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ci(e,t,r,n,o,s){var i=2;if(n=e,typeof e=="function")yc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case bn:return Hr(r.children,o,s,t);case $u:i=8,o|=8;break;case yl:return e=ht(12,r,t,o|2),e.elementType=yl,e.lanes=s,e;case wl:return e=ht(13,r,t,o),e.elementType=wl,e.lanes=s,e;case xl:return e=ht(19,r,t,o),e.elementType=xl,e.lanes=s,e;case Ch:return ra(r,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kh:i=10;break e;case Eh:i=9;break e;case Du:i=11;break e;case Mu:i=14;break e;case fr:i=16,n=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=ht(i,r,t,o),t.elementType=e,t.type=n,t.lanes=s,t}function Hr(e,t,r,n){return e=ht(7,e,n,t),e.lanes=r,e}function ra(e,t,r,n){return e=ht(22,e,n,t),e.elementType=Ch,e.lanes=r,e.stateNode={isHidden:!1},e}function Ga(e,t,r){return e=ht(6,e,null,t),e.lanes=r,e}function Ya(e,t,r){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pw(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Na(0),this.expirationTimes=Na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function wc(e,t,r,n,o,s,i,a,l){return e=new pw(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ht(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(s),e}function mw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vm(e){if(!e)return jr;e=e._reactInternals;e:{if(rn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(Ze(r))return vp(e,r,t)}return t}function ym(e,t,r,n,o,s,i,a,l){return e=wc(r,n,!0,e,o,s,i,a,l),e.context=vm(null),r=e.current,n=We(),o=Er(r),s=Gt(n,o),s.callback=t??null,Sr(r,s,o),e.current.lanes=o,ls(e,o,n),et(e,n),e}function na(e,t,r,n){var o=t.current,s=We(),i=Er(o);return r=vm(r),t.context===null?t.context=r:t.pendingContext=r,t=Gt(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Sr(o,t,i),e!==null&&(Pt(e,o,i,s),oi(e,o,i)),i}function Mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function af(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function xc(e,t){af(e,t),(e=e.alternate)&&af(e,t)}function gw(){return null}var wm=typeof reportError=="function"?reportError:function(e){console.error(e)};function bc(e){this._internalRoot=e}oa.prototype.render=bc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));na(e,t,null,null)};oa.prototype.unmount=bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jr(function(){na(null,e,null,null)}),t[Jt]=null}};function oa(e){this._internalRoot=e}oa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<pr.length&&t!==0&&t<pr[r].priority;r++);pr.splice(r,0,e),r===0&&Xh(e)}};function _c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lf(){}function vw(e,t,r,n,o){if(o){if(typeof n=="function"){var s=n;n=function(){var u=Mi(i);s.call(u)}}var i=ym(t,n,e,0,null,!1,!1,"",lf);return e._reactRootContainer=i,e[Jt]=i.current,Ko(e.nodeType===8?e.parentNode:e),Jr(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var a=n;n=function(){var u=Mi(l);a.call(u)}}var l=wc(e,0,!1,null,null,!1,!1,"",lf);return e._reactRootContainer=l,e[Jt]=l.current,Ko(e.nodeType===8?e.parentNode:e),Jr(function(){na(t,l,r,n)}),l}function ia(e,t,r,n,o){var s=r._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=Mi(i);a.call(l)}}na(t,i,e,o)}else i=vw(r,t,e,o,n);return Mi(i)}Gh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=So(t.pendingLanes);r!==0&&(Fu(t,r|1),et(t,pe()),!(Q&6)&&(Yn=pe()+500,Tr()))}break;case 13:Jr(function(){var n=Xt(e,1);if(n!==null){var o=We();Pt(n,e,1,o)}}),xc(e,1)}};Bu=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var r=We();Pt(t,e,134217728,r)}xc(e,134217728)}};Yh=function(e){if(e.tag===13){var t=Er(e),r=Xt(e,t);if(r!==null){var n=We();Pt(r,e,t,n)}xc(e,t)}};Qh=function(){return Z};Jh=function(e,t){var r=Z;try{return Z=e,t()}finally{Z=r}};Rl=function(e,t,r){switch(t){case"input":if(Sl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=Qi(n);if(!o)throw Error(A(90));jh(n),Sl(n,o)}}}break;case"textarea":Rh(e,r);break;case"select":t=r.value,t!=null&&An(e,!!r.multiple,t,!1)}};Dh=mc;Mh=Jr;var yw={usingClientEntryPoint:!1,Events:[cs,En,Qi,Lh,$h,mc]},go={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ww={bundleType:go.bundleType,version:go.version,rendererPackageName:go.rendererPackageName,rendererConfig:go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fh(e),e===null?null:e.stateNode},findFiberByHostInstance:go.findFiberByHostInstance||gw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{qi=Ms.inject(ww),Lt=Ms}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yw;lt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_c(t))throw Error(A(200));return mw(e,t,null,r)};lt.createRoot=function(e,t){if(!_c(e))throw Error(A(299));var r=!1,n="",o=wm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=wc(e,1,!1,null,null,r,!1,n,o),e[Jt]=t.current,Ko(e.nodeType===8?e.parentNode:e),new bc(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Fh(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return Jr(e)};lt.hydrate=function(e,t,r){if(!sa(t))throw Error(A(200));return ia(null,e,t,!0,r)};lt.hydrateRoot=function(e,t,r){if(!_c(e))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,o=!1,s="",i=wm;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=ym(t,null,e,1,r??null,o,!1,s,i),e[Jt]=t.current,Ko(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new oa(t)};lt.render=function(e,t,r){if(!sa(t))throw Error(A(200));return ia(null,e,t,!1,r)};lt.unmountComponentAtNode=function(e){if(!sa(e))throw Error(A(40));return e._reactRootContainer?(Jr(function(){ia(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1};lt.unstable_batchedUpdates=mc;lt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sa(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return ia(e,t,r,!1,n)};lt.version="18.3.1-next-f1338f8080-20240426";function xm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xm)}catch(e){console.error(e)}}xm(),xh.exports=lt;var Sc=xh.exports;const bm=lh(Sc);var uf=Sc;gl.createRoot=uf.createRoot,gl.hydrateRoot=uf.hydrateRoot;const xw="modulepreload",bw=function(e){return"/"+e},cf={},_e=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(r.map(l=>{if(l=bw(l),l in cf)return;cf[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":xw,u||(c.as="script"),c.crossOrigin="",c.href=l,a&&c.setAttribute("nonce",a),document.head.appendChild(c),u)return new Promise((p,x)=>{c.addEventListener("load",p),c.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var df="popstate";function _w(e={}){function t(n,o){let{pathname:s,search:i,hash:a}=n.location;return uu("",{pathname:s,search:i,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:rs(o)}return kw(t,r,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sw(){return Math.random().toString(36).substring(2,10)}function ff(e,t){return{usr:e.state,key:e.key,idx:t}}function uu(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?fs(t):t,state:r,key:t&&t.key||n||Sw()}}function rs({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function kw(e,t,r,n={}){let{window:o=document.defaultView,v5Compat:s=!1}=n,i=o.history,a="POP",l=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function c(){a="POP";let w=d(),m=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:m})}function p(w,m){a="PUSH";let g=uu(y.location,w,m);u=d()+1;let v=ff(g,u),_=y.createHref(g);try{i.pushState(v,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(_)}s&&l&&l({action:a,location:y.location,delta:1})}function x(w,m){a="REPLACE";let g=uu(y.location,w,m);u=d();let v=ff(g,u),_=y.createHref(g);i.replaceState(v,"",_),s&&l&&l({action:a,location:y.location,delta:0})}function b(w){return Ew(w)}let y={get action(){return a},get location(){return e(o,i)},listen(w){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(df,c),l=w,()=>{o.removeEventListener(df,c),l=null}},createHref(w){return t(o,w)},createURL:b,encodeLocation(w){let m=b(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:x,go(w){return i.go(w)}};return y}function Ew(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),be(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:rs(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function _m(e,t,r="/"){return Cw(e,t,r,!1)}function Cw(e,t,r,n){let o=typeof t=="string"?fs(t):t,s=er(o.pathname||"/",r);if(s==null)return null;let i=Sm(e);Pw(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=Mw(s);a=$w(i[l],u,n)}return a}function Sm(e,t=[],r=[],n="",o=!1){let s=(i,a,l=o,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&l)return;be(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let c=Yt([n,d.relativePath]),p=r.concat(d);i.children&&i.children.length>0&&(be(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Sm(i.children,t,p,c,l)),!(i.path==null&&!i.index)&&t.push({path:c,score:Ow(c,i.index),routesMeta:p})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let u of km(i.path))s(i,a,!0,u)}),t}function km(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return o?[s,""]:[s];let i=km(n.join("/")),a=[];return a.push(...i.map(l=>l===""?s:[s,l].join("/"))),o&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Pw(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Lw(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var jw=/^:[\w-]+$/,Nw=3,Rw=2,Tw=1,Aw=10,Iw=-2,hf=e=>e==="*";function Ow(e,t){let r=e.split("/"),n=r.length;return r.some(hf)&&(n+=Iw),t&&(n+=Rw),r.filter(o=>!hf(o)).reduce((o,s)=>o+(jw.test(s)?Nw:s===""?Tw:Aw),n)}function Lw(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function $w(e,t,r=!1){let{routesMeta:n}=e,o={},s="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",c=zi({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!c&&u&&r&&!n[n.length-1].route.index&&(c=zi({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!c)return null;Object.assign(o,c.params),i.push({params:o,pathname:Yt([s,c.pathname]),pathnameBase:Bw(Yt([s,c.pathnameBase])),route:p}),c.pathnameBase!=="/"&&(s=Yt([s,c.pathnameBase]))}return i}function zi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Dw(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let s=o[0],i=s.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:c},p)=>{if(d==="*"){let b=a[p]||"";i=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const x=a[p];return c&&!x?u[d]=void 0:u[d]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function Dw(e,t=!1,r=!0){Dt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function Mw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function er(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function zw(e,t="/"){let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?fs(e):e;return{pathname:r?r.startsWith("/")?r:Uw(r,t):t,search:Ww(n),hash:Vw(o)}}function Uw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Qa(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fw(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Em(e){let t=Fw(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Cm(e,t,r,n=!1){let o;typeof e=="string"?o=fs(e):(o={...e},be(!o.pathname||!o.pathname.includes("?"),Qa("?","pathname","search",o)),be(!o.pathname||!o.pathname.includes("#"),Qa("#","pathname","hash",o)),be(!o.search||!o.search.includes("#"),Qa("#","search","hash",o)));let s=e===""||o.pathname==="",i=s?"/":o.pathname,a;if(i==null)a=r;else{let c=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),c-=1;o.pathname=p.join("/")}a=c>=0?t[c]:"/"}let l=zw(o,a),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Yt=e=>e.join("/").replace(/\/\/+/g,"/"),Bw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ww=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Vw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Hw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Pm=["POST","PUT","PATCH","DELETE"];new Set(Pm);var qw=["GET",...Pm];new Set(qw);var eo=h.createContext(null);eo.displayName="DataRouter";var aa=h.createContext(null);aa.displayName="DataRouterState";h.createContext(!1);var jm=h.createContext({isTransitioning:!1});jm.displayName="ViewTransition";var Kw=h.createContext(new Map);Kw.displayName="Fetchers";var Gw=h.createContext(null);Gw.displayName="Await";var Mt=h.createContext(null);Mt.displayName="Navigation";var la=h.createContext(null);la.displayName="Location";var rr=h.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var kc=h.createContext(null);kc.displayName="RouteError";function Yw(e,{relative:t}={}){be(hs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=h.useContext(Mt),{hash:o,pathname:s,search:i}=ps(e,{relative:t}),a=s;return r!=="/"&&(a=s==="/"?r:Yt([r,s])),n.createHref({pathname:a,search:i,hash:o})}function hs(){return h.useContext(la)!=null}function nn(){return be(hs(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(la).location}var Nm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rm(e){h.useContext(Mt).static||h.useLayoutEffect(e)}function Qw(){let{isDataRoute:e}=h.useContext(rr);return e?ux():Jw()}function Jw(){be(hs(),"useNavigate() may be used only in the context of a <Router> component.");let e=h.useContext(eo),{basename:t,navigator:r}=h.useContext(Mt),{matches:n}=h.useContext(rr),{pathname:o}=nn(),s=JSON.stringify(Em(n)),i=h.useRef(!1);return Rm(()=>{i.current=!0}),h.useCallback((l,u={})=>{if(Dt(i.current,Nm),!i.current)return;if(typeof l=="number"){r.go(l);return}let d=Cm(l,JSON.parse(s),o,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Yt([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,o,e])}h.createContext(null);function ps(e,{relative:t}={}){let{matches:r}=h.useContext(rr),{pathname:n}=nn(),o=JSON.stringify(Em(r));return h.useMemo(()=>Cm(e,JSON.parse(o),n,t==="path"),[e,o,n,t])}function Xw(e,t,r,n,o){be(hs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=h.useContext(Mt),{matches:i}=h.useContext(rr),a=i[i.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",c=a&&a.route;{let g=c&&c.path||"";Tm(u,!c||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let p=nn(),x;x=p;let b=x.pathname||"/",y=b;if(d!=="/"){let g=d.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=_m(e,{pathname:y});return Dt(c||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Dt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nx(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Yt([d,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:Yt([d,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n,o)}function Zw(){let e=lx(),t=Hw(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=h.createElement(h.Fragment,null,h.createElement("p",null,"💿 Hey developer 👋"),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:s},"ErrorBoundary")," or"," ",h.createElement("code",{style:s},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:o},r):null,i)}var ex=h.createElement(Zw,null),tx=class extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?h.createElement(rr.Provider,{value:this.props.routeContext},h.createElement(kc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rx({routeContext:e,match:t,children:r}){let n=h.useContext(eo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),h.createElement(rr.Provider,{value:e},r)}function nx(e,t=[],r=null,n=null,o=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let u=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);be(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(r)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:c,errors:p}=r,x=d.route.loader&&!c.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||x){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,d,c)=>{let p,x=!1,b=null,y=null;r&&(p=i&&d.route.id?i[d.route.id]:void 0,b=d.route.errorElement||ex,a&&(l<0&&c===0?(Tm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,y=null):l===c&&(x=!0,y=d.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,c+1)),m=()=>{let g;return p?g=b:x?g=y:d.route.Component?g=h.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=u,h.createElement(rx,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||c===0)?h.createElement(tx,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:m(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):m()},null)}function Ec(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ox(e){let t=h.useContext(eo);return be(t,Ec(e)),t}function sx(e){let t=h.useContext(aa);return be(t,Ec(e)),t}function ix(e){let t=h.useContext(rr);return be(t,Ec(e)),t}function Cc(e){let t=ix(e),r=t.matches[t.matches.length-1];return be(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ax(){return Cc("useRouteId")}function lx(){var n;let e=h.useContext(kc),t=sx("useRouteError"),r=Cc("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function ux(){let{router:e}=ox("useNavigate"),t=Cc("useNavigate"),r=h.useRef(!1);return Rm(()=>{r.current=!0}),h.useCallback(async(o,s={})=>{Dt(r.current,Nm),r.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...s}))},[e,t])}var pf={};function Tm(e,t,r){!t&&!pf[e]&&(pf[e]=!0,Dt(!1,r))}h.memo(cx);function cx({routes:e,future:t,state:r,unstable_onError:n}){return Xw(e,void 0,r,n,t)}function dx({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:o,static:s=!1}){be(!hs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),a=h.useMemo(()=>({basename:i,navigator:o,static:s,future:{}}),[i,o,s]);typeof r=="string"&&(r=fs(r));let{pathname:l="/",search:u="",hash:d="",state:c=null,key:p="default"}=r,x=h.useMemo(()=>{let b=er(l,i);return b==null?null:{location:{pathname:b,search:u,hash:d,state:c,key:p},navigationType:n}},[i,l,u,d,c,p,n]);return Dt(x!=null,`<Router basename="${i}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:h.createElement(Mt.Provider,{value:a},h.createElement(la.Provider,{children:t,value:x}))}var di="get",fi="application/x-www-form-urlencoded";function ua(e){return e!=null&&typeof e.tagName=="string"}function fx(e){return ua(e)&&e.tagName.toLowerCase()==="button"}function hx(e){return ua(e)&&e.tagName.toLowerCase()==="form"}function px(e){return ua(e)&&e.tagName.toLowerCase()==="input"}function mx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gx(e,t){return e.button===0&&(!t||t==="_self")&&!mx(e)}var zs=null;function vx(){if(zs===null)try{new FormData(document.createElement("form"),0),zs=!1}catch{zs=!0}return zs}var yx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ja(e){return e!=null&&!yx.has(e)?(Dt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fi}"`),null):e}function wx(e,t){let r,n,o,s,i;if(hx(e)){let a=e.getAttribute("action");n=a?er(a,t):null,r=e.getAttribute("method")||di,o=Ja(e.getAttribute("enctype"))||fi,s=new FormData(e)}else if(fx(e)||px(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(n=l?er(l,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||di,o=Ja(e.getAttribute("formenctype"))||Ja(a.getAttribute("enctype"))||fi,s=new FormData(a,e),!vx()){let{name:u,type:d,value:c}=e;if(d==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,c)}}else{if(ua(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=di,n=null,o=fi,i=e}return s&&o==="text/plain"&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:o,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xx(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&er(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function bx(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _x(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Sx(e,t,r){let n=await Promise.all(e.map(async o=>{let s=t.routes[o.route.id];if(s){let i=await bx(s,r);return i.links?i.links():[]}return[]}));return Px(n.flat(1).filter(_x).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mf(e,t,r,n,o,s){let i=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,a=(l,u)=>{var d;return r[u].pathname!==l.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,u)=>i(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{var c;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(i(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((c=r[0])==null?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function kx(e,t,{includeHydrateFallback:r}={}){return Ex(e.map(n=>{let o=t.routes[n.route.id];if(!o)return[];let s=[o.module];return o.clientActionModule&&(s=s.concat(o.clientActionModule)),o.clientLoaderModule&&(s=s.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(s=s.concat(o.hydrateFallbackModule)),o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function Ex(e){return[...new Set(e)]}function Cx(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Px(e,t){let r=new Set;return new Set(t),e.reduce((n,o)=>{let s=JSON.stringify(Cx(o));return r.has(s)||(r.add(s),n.push({key:s,link:o})),n},[])}function Am(){let e=h.useContext(eo);return Pc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function jx(){let e=h.useContext(aa);return Pc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jc=h.createContext(void 0);jc.displayName="FrameworkContext";function Im(){let e=h.useContext(jc);return Pc(e,"You must render this element inside a <HydratedRouter> element"),e}function Nx(e,t){let r=h.useContext(jc),[n,o]=h.useState(!1),[s,i]=h.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:c}=t,p=h.useRef(null);h.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let y=m=>{m.forEach(g=>{i(g.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),h.useEffect(()=>{if(n){let y=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(y)}}},[n]);let x=()=>{o(!0)},b=()=>{o(!1),i(!1)};return r?e!=="intent"?[s,p,{}]:[s,p,{onFocus:vo(a,x),onBlur:vo(l,b),onMouseEnter:vo(u,x),onMouseLeave:vo(d,b),onTouchStart:vo(c,x)}]:[!1,p,{}]}function vo(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Rx({page:e,...t}){let{router:r}=Am(),n=h.useMemo(()=>_m(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?h.createElement(Ax,{page:e,matches:n,...t}):null}function Tx(e){let{manifest:t,routeModules:r}=Im(),[n,o]=h.useState([]);return h.useEffect(()=>{let s=!1;return Sx(e,t,r).then(i=>{s||o(i)}),()=>{s=!0}},[e,t,r]),n}function Ax({page:e,matches:t,...r}){let n=nn(),{manifest:o,routeModules:s}=Im(),{basename:i}=Am(),{loaderData:a,matches:l}=jx(),u=h.useMemo(()=>mf(e,t,l,o,n,"data"),[e,t,l,o,n]),d=h.useMemo(()=>mf(e,t,l,o,n,"assets"),[e,t,l,o,n]),c=h.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,y=!1;if(t.forEach(m=>{var v;let g=o.routes[m.route.id];!g||!g.hasLoader||(!u.some(_=>_.route.id===m.route.id)&&m.route.id in a&&((v=s[m.route.id])!=null&&v.shouldRevalidate)||g.hasClientLoader?y=!0:b.add(m.route.id))}),b.size===0)return[];let w=xx(e,i,"data");return y&&b.size>0&&w.searchParams.set("_routes",t.filter(m=>b.has(m.route.id)).map(m=>m.route.id).join(",")),[w.pathname+w.search]},[i,a,n,o,u,t,e,s]),p=h.useMemo(()=>kx(d,o),[d,o]),x=Tx(d);return h.createElement(h.Fragment,null,c.map(b=>h.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),p.map(b=>h.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),x.map(({key:b,link:y})=>h.createElement("link",{key:b,nonce:r.nonce,...y})))}function Ix(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Om=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Om&&(window.__reactRouterVersion="7.8.2")}catch{}function Ox({basename:e,children:t,window:r}){let n=h.useRef();n.current==null&&(n.current=_w({window:r,v5Compat:!0}));let o=n.current,[s,i]=h.useState({action:o.action,location:o.location}),a=h.useCallback(l=>{h.startTransition(()=>i(l))},[i]);return h.useLayoutEffect(()=>o.listen(a),[o,a]),h.createElement(dx,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o})}var Lm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$m=h.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:o,reloadDocument:s,replace:i,state:a,target:l,to:u,preventScrollReset:d,viewTransition:c,...p},x){let{basename:b}=h.useContext(Mt),y=typeof u=="string"&&Lm.test(u),w,m=!1;if(typeof u=="string"&&y&&(w=u,Om))try{let L=new URL(window.location.href),P=u.startsWith("//")?new URL(L.protocol+u):new URL(u),I=er(P.pathname,b);P.origin===L.origin&&I!=null?u=I+P.search+P.hash:m=!0}catch{Dt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=Yw(u,{relative:o}),[v,_,k]=Nx(n,p),E=Mx(u,{replace:i,state:a,target:l,preventScrollReset:d,relative:o,viewTransition:c});function S(L){t&&t(L),L.defaultPrevented||E(L)}let C=h.createElement("a",{...p,...k,href:w||g,onClick:m||s?t:S,ref:Ix(x,_),target:l,"data-discover":!y&&r==="render"?"true":void 0});return v&&!y?h.createElement(h.Fragment,null,C,h.createElement(Rx,{page:g})):C});$m.displayName="Link";var Lx=h.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:o=!1,style:s,to:i,viewTransition:a,children:l,...u},d){let c=ps(i,{relative:u.relative}),p=nn(),x=h.useContext(aa),{navigator:b,basename:y}=h.useContext(Mt),w=x!=null&&Wx(c)&&a===!0,m=b.encodeLocation?b.encodeLocation(c).pathname:c.pathname,g=p.pathname,v=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(g=g.toLowerCase(),v=v?v.toLowerCase():null,m=m.toLowerCase()),v&&y&&(v=er(v,y)||v);const _=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let k=g===m||!o&&g.startsWith(m)&&g.charAt(_)==="/",E=v!=null&&(v===m||!o&&v.startsWith(m)&&v.charAt(m.length)==="/"),S={isActive:k,isPending:E,isTransitioning:w},C=k?t:void 0,L;typeof n=="function"?L=n(S):L=[n,k?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(S):s;return h.createElement($m,{...u,"aria-current":C,className:L,ref:d,style:P,to:i,viewTransition:a},typeof l=="function"?l(S):l)});Lx.displayName="NavLink";var $x=h.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:o,state:s,method:i=di,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:c,...p},x)=>{let b=Fx(),y=Bx(a,{relative:u}),w=i.toLowerCase()==="get"?"get":"post",m=typeof a=="string"&&Lm.test(a),g=v=>{if(l&&l(v),v.defaultPrevented)return;v.preventDefault();let _=v.nativeEvent.submitter,k=(_==null?void 0:_.getAttribute("formmethod"))||i;b(_||v.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:o,state:s,relative:u,preventScrollReset:d,viewTransition:c})};return h.createElement("form",{ref:x,method:w,action:y,onSubmit:n?l:g,...p,"data-discover":!m&&e==="render"?"true":void 0})});$x.displayName="Form";function Dx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dm(e){let t=h.useContext(eo);return be(t,Dx(e)),t}function Mx(e,{target:t,replace:r,state:n,preventScrollReset:o,relative:s,viewTransition:i}={}){let a=Qw(),l=nn(),u=ps(e,{relative:s});return h.useCallback(d=>{if(gx(d,t)){d.preventDefault();let c=r!==void 0?r:rs(l)===rs(u);a(e,{replace:c,state:n,preventScrollReset:o,relative:s,viewTransition:i})}},[l,a,u,r,n,t,e,o,s,i])}var zx=0,Ux=()=>`__${String(++zx)}__`;function Fx(){let{router:e}=Dm("useSubmit"),{basename:t}=h.useContext(Mt),r=ax();return h.useCallback(async(n,o={})=>{let{action:s,method:i,encType:a,formData:l,body:u}=wx(n,t);if(o.navigate===!1){let d=o.fetcherKey||Ux();await e.fetch(d,r,o.action||s,{preventScrollReset:o.preventScrollReset,formData:l,body:u,formMethod:o.method||i,formEncType:o.encType||a,flushSync:o.flushSync})}else await e.navigate(o.action||s,{preventScrollReset:o.preventScrollReset,formData:l,body:u,formMethod:o.method||i,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,r])}function Bx(e,{relative:t}={}){let{basename:r}=h.useContext(Mt),n=h.useContext(rr);be(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),s={...ps(e||".",{relative:t})},i=nn();if(e==null){s.search=i.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(c=>c).forEach(c=>a.append("index",c));let d=a.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Yt([r,s.pathname])),rs(s)}function Wx(e,{relative:t}={}){let r=h.useContext(jm);be(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Dm("useViewTransitionState"),o=ps(e,{relative:t});if(!r.isTransitioning)return!1;let s=er(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=er(r.nextLocation.pathname,n)||r.nextLocation.pathname;return zi(o.pathname,i)!=null||zi(o.pathname,s)!=null}const Vx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_e(async()=>{const{default:n}=await Promise.resolve().then(()=>to);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Nc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Hx extends Nc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gf extends Nc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vf extends Nc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var cu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(cu||(cu={}));var qx=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{u(n.next(d))}catch(c){i(c)}}function l(d){try{u(n.throw(d))}catch(c){i(c)}}function u(d){d.done?s(d.value):o(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class Kx{constructor(t,{headers:r={},customFetch:n,region:o=cu.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=Vx(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return qx(this,void 0,void 0,function*(){try{const{headers:o,method:s,body:i}=r;let a={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;i&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(a["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(a["Content-Type"]="application/json",d=JSON.stringify(i)));const c=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:d}).catch(y=>{throw new Hx(y)}),p=c.headers.get("x-relay-error");if(p&&p==="true")throw new gf(c);if(!c.ok)throw new vf(c);let x=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield c.json():x==="application/octet-stream"?b=yield c.blob():x==="text/event-stream"?b=c:x==="multipart/form-data"?b=yield c.formData():b=yield c.text(),{data:b,error:null,response:c}}catch(o){return{data:null,error:o,response:o instanceof vf||o instanceof gf?o.context:void 0}}})}}var Qe={},Rc={},ca={},ms={},da={},fa={},Gx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qn=Gx();const Yx=Qn.fetch,Mm=Qn.fetch.bind(Qn),zm=Qn.Headers,Qx=Qn.Request,Jx=Qn.Response,to=Object.freeze(Object.defineProperty({__proto__:null,Headers:zm,Request:Qx,Response:Jx,default:Mm,fetch:Yx},Symbol.toStringTag,{value:"Module"})),Xx=Kv(to);var ha={};Object.defineProperty(ha,"__esModule",{value:!0});let Zx=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ha.default=Zx;var Um=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fa,"__esModule",{value:!0});const eb=Um(Xx),tb=Um(ha);let rb=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=eb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let o=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var i,a,l;let u=null,d=null,c=null,p=s.status,x=s.statusText;if(s.ok){if(this.method!=="HEAD"){const m=await s.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const y=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&w&&w.length>1&&(c=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,c=null,p=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await s.text();try{u=JSON.parse(y),Array.isArray(u)&&s.status===404&&(d=[],u=null,p=200,x="OK")}catch{s.status===404&&y===""?(p=204,x="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,x="OK"),u&&this.shouldThrowOnError)throw new tb.default(u)}return{error:u,data:d,count:c,status:p,statusText:x}});return this.shouldThrowOnError||(o=o.catch(s=>{var i,a,l;return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,r)}returns(){return this}overrideTypes(){return this}};fa.default=rb;var nb=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(da,"__esModule",{value:!0});const ob=nb(fa);let sb=class extends ob.default{select(t){let r=!1;const n=(t??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:o,referencedTable:s=o}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:o=n}={}){const s=typeof o>"u"?"offset":`${o}.offset`,i=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:o=!1,wal:s=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,o?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};da.default=sb;var ib=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ms,"__esModule",{value:!0});const ab=ib(da);let lb=class extends ab.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:o}={}){let s="";o==="plain"?s="pl":o==="phrase"?s="ph":o==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ms.default=lb;var ub=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ca,"__esModule",{value:!0});const yo=ub(ms);let cb=class{constructor(t,{headers:r={},schema:n,fetch:o}){this.url=t,this.headers=r,this.schema=n,this.fetch=o}select(t,{head:r=!1,count:n}={}){const o=r?"HEAD":"GET";let s=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new yo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const o="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const i=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new yo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:o,defaultToNull:s=!0}={}){const i="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new yo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),this.headers.Prefer=o.join(","),new yo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new yo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ca.default=cb;var pa={},ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.version=void 0;ma.version="0.0.0-automated";Object.defineProperty(pa,"__esModule",{value:!0});pa.DEFAULT_HEADERS=void 0;const db=ma;pa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${db.version}`};var Fm=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rc,"__esModule",{value:!0});const fb=Fm(ca),hb=Fm(ms),pb=pa;let mb=class Bm{constructor(t,{headers:r={},schema:n,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},pb.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=o}from(t){const r=new URL(`${this.url}/${t}`);return new fb.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Bm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:o=!1,count:s}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let l;n||o?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,c])=>c!==void 0).map(([d,c])=>[d,Array.isArray(c)?`{${c.join(",")}}`:`${c}`]).forEach(([d,c])=>{a.searchParams.append(d,c)})):(i="POST",l=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new hb.default({method:i,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Rc.default=mb;var ro=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.PostgrestError=Qe.PostgrestBuilder=Qe.PostgrestTransformBuilder=Qe.PostgrestFilterBuilder=Qe.PostgrestQueryBuilder=Qe.PostgrestClient=void 0;const Wm=ro(Rc);Qe.PostgrestClient=Wm.default;const Vm=ro(ca);Qe.PostgrestQueryBuilder=Vm.default;const Hm=ro(ms);Qe.PostgrestFilterBuilder=Hm.default;const qm=ro(da);Qe.PostgrestTransformBuilder=qm.default;const Km=ro(fa);Qe.PostgrestBuilder=Km.default;const Gm=ro(ha);Qe.PostgrestError=Gm.default;var gb=Qe.default={PostgrestClient:Wm.default,PostgrestQueryBuilder:Vm.default,PostgrestFilterBuilder:Hm.default,PostgrestTransformBuilder:qm.default,PostgrestBuilder:Km.default,PostgrestError:Gm.default};const{PostgrestClient:vb,PostgrestQueryBuilder:oP,PostgrestFilterBuilder:sP,PostgrestTransformBuilder:iP,PostgrestBuilder:aP,PostgrestError:lP}=gb;class yb{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const wb="2.15.1",xb=`realtime-js/${wb}`,bb="1.0.0",du=1e4,_b=1e3,Sb=100;var $o;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($o||($o={}));var ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ye||(ye={}));var kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kt||(kt={}));var fu;(function(e){e.websocket="websocket"})(fu||(fu={}));var Ur;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ur||(Ur={}));class kb{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const o=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(t.slice(i,i+o));i=i+o;const l=n.decode(t.slice(i,i+s));i=i+s;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ym{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const yf=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,i)=>(s[i]=Eb(i,e,t,o),s),{})},Eb=(e,t,r,n)=>{const o=t.find(a=>a.name===e),s=o==null?void 0:o.type,i=r[e];return s&&!n.includes(s)?Qm(s,i):hu(i)},Qm=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Nb(t,r)}switch(e){case re.bool:return Cb(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return Pb(t);case re.json:case re.jsonb:return jb(t);case re.timestamp:return Rb(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return hu(t);default:return hu(t)}},hu=e=>e,Cb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Pb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},jb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Nb=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(a=>Qm(t,a))}return e},Rb=e=>typeof e=="string"?e.replace(" ","T"):e,Jm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xa{constructor(t,r,n={},o=du){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wf||(wf={}));class Do{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:s,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Do.syncState(this.state,o,s,i),this.pendingDiffs.forEach(l=>{this.state=Do.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},o=>{const{onJoin:s,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Do.syncDiff(this.state,o,s,i),a())}),this.onJoin((o,s,i)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:i})}),this.onLeave((o,s,i)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const s=this.cloneDeep(t),i=this.transformState(r),a={},l={};return this.map(s,(u,d)=>{i[u]||(l[u]=d)}),this.map(i,(u,d)=>{const c=s[u];if(c){const p=d.map(w=>w.presence_ref),x=c.map(w=>w.presence_ref),b=d.filter(w=>x.indexOf(w.presence_ref)<0),y=c.filter(w=>p.indexOf(w.presence_ref)<0);b.length>0&&(a[u]=b),y.length>0&&(l[u]=y)}else a[u]=d}),this.syncDiff(s,{joins:a,leaves:l},n,o)}static syncDiff(t,r,n,o){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(s,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const c=t[a].map(x=>x.presence_ref),p=d.filter(x=>c.indexOf(x.presence_ref)<0);t[a].unshift(...p)}n(a,d,l)}),this.map(i,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(c=>c.presence_ref);u=u.filter(c=>d.indexOf(c.presence_ref)<0),t[a]=u,o(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xf||(xf={}));var Mo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mo||(Mo={}));var Wt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Wt||(Wt={}));class Tc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xa(this,kt.join,this.params,this.timeout),this.rejoinTimer=new Ym(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kt.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Do(this),this.broadcastEndpointURL=Jm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:s,presence:i,private:a}}=this.params,l=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&o!==void 0?o:[],u=!!this.bindings[Mo.PRESENCE]&&this.bindings[Mo.PRESENCE].length>0,d={},c={broadcast:s,presence:Object.assign(Object.assign({},i),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Wt.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Wt.CLOSED)),this.updateJoinPayload(Object.assign({config:c},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){t==null||t(Wt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,w=[];for(let m=0;m<y;m++){const g=b[m],{filter:{event:v,schema:_,table:k,filter:E}}=g,S=p&&p[m];if(S&&S.event===v&&S.schema===_&&S.table===k&&S.filter===E)w.push(Object.assign(Object.assign({},g),{id:S.id}));else{this.unsubscribe(),this.state=ye.errored,t==null||t(Wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Wt.SUBSCRIBED);return}}).receive("error",p=>{this.state=ye.errored,t==null||t(Wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ye.joined&&t===Mo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new Xa(this,kt.leave,{},t),n.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ye.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const o=new AbortController,s=setTimeout(()=>o.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Xa(this,t,r,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Sb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,s;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=kt;if(n&&[a,l,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var b,y,w;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(y=x.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(x=>x.callback(p,n)):(s=this.bindings[i])===null||s===void 0||s.filter(x=>{var b,y,w,m,g,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in x){const _=x.id,k=(b=x.filter)===null||b===void 0?void 0:b.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(g=(m=x==null?void 0:x.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===i}).map(x=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:y,table:w,commit_timestamp:m,type:g,errors:v}=b;p=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:m,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(b))}x.callback(p,n)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),s={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Tc.isEqual(o.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kt.close,{},t)}_onError(t){this._on(kt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=yf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=yf(t.columns,t.old_record)),r}}const bf=()=>{},Us={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Tb=[1e3,2e3,5e3,1e4],Ab=1e4,Ib=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ob{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=du,this.transport=null,this.heartbeatIntervalMs=Us.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bf,this.ref=0,this.reconnectTimer=null,this.logger=bf,this.conn=null,this.sendBuffer=[],this.serializer=new kb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...i)=>_e(async()=>{const{default:a}=await Promise.resolve().then(()=>to);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...i)=>s(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${fu.websocket}`,this.httpEndpoint=Jm(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yb.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bb}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $o.connecting:return Ur.Connecting;case $o.open:return Ur.Open;case $o.closing:return Ur.Closing;default:return Ur.Closed}}isConnected(){return this.connectionState()===Ur.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,o=this.getChannels().find(s=>s.topic===n);if(o)return o;{const s=new Tc(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:o,ref:s}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,o),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_b,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Us.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:o,payload:s,ref:i}=r,a=i?`(${i})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${o} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(o,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(kt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Ib],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const o={access_token:r,version:xb};r&&n.updateJoinPayload(o),n.joinedOnce&&n._isJoined()&&n._push(kt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ym(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Us.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,o,s,i,a,l,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:du,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:Us.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t==null?void 0:t.reconnectAfterMs)!==null&&a!==void 0?a:d=>Tb[d-1]||Ab,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(d,c)=>c(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ac extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Lb extends Ac{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pu extends Ac{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var $b=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{u(n.next(d))}catch(c){i(c)}}function l(d){try{u(n.throw(d))}catch(c){i(c)}}function u(d){d.done?s(d.value):o(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Xm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_e(async()=>{const{default:n}=await Promise.resolve().then(()=>to);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Db=()=>$b(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _e(()=>Promise.resolve().then(()=>to),void 0)).Response:Response}),mu=e=>{if(Array.isArray(e))return e.map(r=>mu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[o]=mu(n)}),t},Mb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var on=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{u(n.next(d))}catch(c){i(c)}}function l(d){try{u(n.throw(d))}catch(c){i(c)}}function u(d){d.done?s(d.value):o(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Za=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zb=(e,t,r)=>on(void 0,void 0,void 0,function*(){const n=yield Db();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(o=>{const s=e.status||500,i=(o==null?void 0:o.statusCode)||s+"";t(new Lb(Za(o),s,i))}).catch(o=>{t(new pu(Za(o),o))}):t(new pu(Za(e),e))}),Ub=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?o:(Mb(n)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(n)):o.body=n,t!=null&&t.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),r))};function gs(e,t,r,n,o,s){return on(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,Ub(t,n,o,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>zb(l,a,n))})})}function Ui(e,t,r,n){return on(this,void 0,void 0,function*(){return gs(e,"GET",t,r,n)})}function Vt(e,t,r,n,o){return on(this,void 0,void 0,function*(){return gs(e,"POST",t,n,o,r)})}function gu(e,t,r,n,o){return on(this,void 0,void 0,function*(){return gs(e,"PUT",t,n,o,r)})}function Fb(e,t,r,n){return on(this,void 0,void 0,function*(){return gs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Zm(e,t,r,n,o){return on(this,void 0,void 0,function*(){return gs(e,"DELETE",t,n,o,r)})}var Ke=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{u(n.next(d))}catch(c){i(c)}}function l(d){try{u(n.throw(d))}catch(c){i(c)}}function u(d){d.done?s(d.value):o(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Bb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_f={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wb{constructor(t,r={},n,o){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Xm(o)}uploadOrUpdate(t,r,n,o){return Ke(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},_f),o);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),o!=null&&o.headers&&(a=Object.assign(Object.assign({},a),o.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),c=yield(t=="PUT"?gu:Vt)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:c.Id,fullPath:c.Key},error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,o){return Ke(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:_f.upsert},o),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const c=yield gu(this.fetch,a.toString(),l,{headers:d});return{data:{path:s,fullPath:c.Key},error:null}}catch(l){if(Ce(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const s=yield Vt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),i=new URL(this.url+s.url),a=i.searchParams.get("token");if(!a)throw new Ac("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ke(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Ce(o))return{data:null,error:o};throw o}})}copy(t,r,n){return Ke(this,void 0,void 0,function*(){try{return{data:{path:(yield Vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Ce(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,n){return Ke(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),s=yield Vt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(o){if(Ce(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,n){return Ke(this,void 0,void 0,function*(){try{const o=yield Vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(o){if(Ce(o))return{data:null,error:o};throw o}})}download(t,r){return Ke(this,void 0,void 0,function*(){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ui(this.fetch,`${this.url}/${o}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ce(a))return{data:null,error:a};throw a}})}info(t){return Ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ui(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mu(n),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}exists(t){return Ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Fb(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ce(n)&&n instanceof pu){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),o=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&o.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&o.push(l);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ke(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Bb),r),{prefix:t||""});return{data:yield Vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(Ce(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Vb="2.10.5",Hb={"X-Client-Info":`storage-js/${Vb}`};var cn=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{u(n.next(d))}catch(c){i(c)}}function l(d){try{u(n.throw(d))}catch(c){i(c)}}function u(d){d.done?s(d.value):o(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class qb{constructor(t,r={},n,o){const s=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},Hb),r),this.fetch=Xm(n)}listBuckets(){return cn(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ce(t))return{data:null,error:t};throw t}})}getBucket(t){return cn(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return cn(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return cn(this,void 0,void 0,function*(){try{return{data:yield gu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}emptyBucket(t){return cn(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}deleteBucket(t){return cn(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}}class Kb extends qb{constructor(t,r={},n,o){super(t,r,n,o)}from(t){return new Wb(this.url,this.headers,t,this.fetch)}}const Gb="2.55.0";let Eo="";typeof Deno<"u"?Eo="deno":typeof document<"u"?Eo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Eo="react-native":Eo="node";const Yb={"X-Client-Info":`supabase-js-${Eo}/${Gb}`},Qb={headers:Yb},Jb={schema:"public"},Xb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zb={};var e_=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{u(n.next(d))}catch(c){i(c)}}function l(d){try{u(n.throw(d))}catch(c){i(c)}}function u(d){d.done?s(d.value):o(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const t_=e=>{let t;return e?t=e:typeof fetch>"u"?t=Mm:t=fetch,(...r)=>t(...r)},r_=()=>typeof Headers>"u"?zm:Headers,n_=(e,t,r)=>{const n=t_(r),o=r_();return(s,i)=>e_(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new o(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},i),{headers:u}))})};var o_=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{u(n.next(d))}catch(c){i(c)}}function l(d){try{u(n.throw(d))}catch(c){i(c)}}function u(d){d.done?s(d.value):o(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function s_(e){return e.endsWith("/")?e:e+"/"}function i_(e,t){var r,n;const{db:o,auth:s,realtime:i,global:a}=e,{db:l,auth:u,realtime:d,global:c}=t,p={db:Object.assign(Object.assign({},l),o),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},c),a),{headers:Object.assign(Object.assign({},(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>o_(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const eg="2.71.1",yn=30*1e3,vu=3,el=vu*yn,a_="http://localhost:9999",l_="supabase.auth.token",u_={"X-Client-Info":`gotrue-js/${eg}`},yu="X-Supabase-Api-Version",tg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},c_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,d_=10*60*1e3;class Ic extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class f_ extends Ic{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function h_(e){return W(e)&&e.name==="AuthApiError"}class rg extends Ic{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ar extends Ic{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class cr extends Ar{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function p_(e){return W(e)&&e.name==="AuthSessionMissingError"}class Fs extends Ar{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bs extends Ar{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ws extends Ar{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function m_(e){return W(e)&&e.name==="AuthImplicitGrantRedirectError"}class Sf extends Ar{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wu extends Ar{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function tl(e){return W(e)&&e.name==="AuthRetryableFetchError"}class kf extends Ar{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xu extends Ar{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ef=` 	
\r=`.split(""),g_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ef.length;t+=1)e[Ef[t].charCodeAt(0)]=-2;for(let t=0;t<Fi.length;t+=1)e[Fi[t].charCodeAt(0)]=t;return e})();function Cf(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fi[n]),t.queuedBits-=6}}function ng(e,t,r){const n=g_[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Pf(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},s=i=>{w_(i,n,r)};for(let i=0;i<e.length;i+=1)ng(e.charCodeAt(i),o,s);return t.join("")}function v_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function y_(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}v_(n,t)}}function w_(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function x_(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)ng(e.charCodeAt(o),r,n);return new Uint8Array(t)}function b_(e){const t=[];return y_(e,r=>t.push(r)),new Uint8Array(t)}function __(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};return e.forEach(o=>Cf(o,r,n)),Cf(null,r,n),t.join("")}function S_(e){return Math.round(Date.now()/1e3)+e}function k_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const bt=()=>typeof window<"u"&&typeof document<"u",Or={tested:!1,writable:!1},og=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Or.tested)return Or.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Or.tested=!0,Or.writable=!0}catch{Or.tested=!0,Or.writable=!1}return Or.writable};function E_(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,s)=>{t[s]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const sg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_e(async()=>{const{default:n}=await Promise.resolve().then(()=>to);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},C_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Lr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ir=async(e,t)=>{await e.removeItem(t)};class ga{constructor(){this.promise=new ga.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ga.promiseConstructor=Promise;function rl(e){const t=e.split(".");if(t.length!==3)throw new xu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!c_.test(t[n]))throw new xu("JWT not in base64url format");return{header:JSON.parse(Pf(t[0])),payload:JSON.parse(Pf(t[1])),signature:x_(t[2]),raw:{header:t[0],payload:t[1]}}}async function P_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function j_(e,t){return new Promise((n,o)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){o(i);return}}})()})}function N_(e){return("0"+e.toString(16)).substr(-2)}function R_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let s=0;s<56;s++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,N_).join("")}async function T_(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(s=>String.fromCharCode(s)).join("")}async function A_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await T_(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dn(e,t,r=!1){const n=R_();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await wn(e,`${t}-code-verifier`,o);const s=await A_(n);return[s,n===s?"plain":"s256"]}const I_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function O_(e){const t=e.headers.get(yu);if(!t||!t.match(I_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function L_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const D_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fn(e){if(!D_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nl(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jf(e){return JSON.parse(JSON.stringify(e))}var M_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Mr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),z_=[502,503,504];async function Nf(e){var t;if(!C_(e))throw new wu(Mr(e),0);if(z_.includes(e.status))throw new wu(Mr(e),e.status);let r;try{r=await e.json()}catch(s){throw new rg(Mr(s),s)}let n;const o=O_(e);if(o&&o.getTime()>=tg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new kf(Mr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new cr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new kf(Mr(r),e.status,r.weak_password.reasons);throw new f_(Mr(r),e.status||500,n)}const U_=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function G(e,t,r,n){var o;const s=Object.assign({},n==null?void 0:n.headers);s[yu]||(s[yu]=tg["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await F_(e,t,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function F_(e,t,r,n,o,s){const i=U_(t,n,o,s);let a;try{a=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new wu(Mr(l),0)}if(a.ok||await Nf(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Nf(l)}}function Ft(e){var t;let r=null;H_(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=S_(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Rf(e){const t=Ft(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function B_(e){return{data:e,error:null}}function W_(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:s}=e,i=M_(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:s},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function V_(e){return e}function H_(e){return e.access_token&&e.refresh_token&&e.expires_in}const ol=["global","local","others"];var q_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class K_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=sg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ol[0]){if(ol.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ol.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=q_(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:W_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,s,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:V_});if(d.error)throw d.error;const c=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,x=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return x.length>0&&(x.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},c),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){fn(t);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){fn(t);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:gr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){fn(t);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:gr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){fn(t.userId);try{const{data:r,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(t){fn(t.userId),fn(t.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}}function Tf(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function G_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hn={debug:!!(globalThis&&og()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ig extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Y_ extends ig{}async function Q_(e,t,r){hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),hn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Y_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}G_();const J_={url:a_,storageKey:l_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Af(e,t,r){return await r()}const pn={};class ns{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ns.nextInstanceID,ns.nextInstanceID+=1,this.instanceID>0&&bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},J_),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new K_({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=sg(o.fetch),this.lock=o.lock||Af,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:bt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Q_:this.lock=Af,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:og()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Tf(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=pn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=pn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=E_(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),bt()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),m_(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:a}=o;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?{error:r}:{error:new rg("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const s=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ft}),{data:i,error:a}=s;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,o;try{let s;if("email"in t){const{email:d,password:c,options:p}=t;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await dn(this.storage,this.storageKey)),s=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:c,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:x,code_challenge_method:b},xform:Ft})}else if("phone"in t){const{phone:d,password:c,options:p}=t;s=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:c,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(o=p==null?void 0:p.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ft})}else throw new Bs("You must provide either an email or phone number and a password");const{data:i,error:a}=s;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:a}=t;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rf})}else if("phone"in t){const{phone:s,password:i,options:a}=t;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rf})}else throw new Bs("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Fs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,o,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,o,s,i,a,l,u,d,c,p,x;let b,y;if("message"in t)b=t.message,y=t.signature;else{const{chain:w,wallet:m,statement:g,options:v}=t;let _;if(bt())if(typeof m=="object")_=m;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const k=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),g?{statement:g}:null));let S;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")S=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)S=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)b=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(o=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((c=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||c===void 0)&&c.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:w,error:m}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:__(y)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ft});if(m)throw m;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Fs}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:m})}catch(w){if(W(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Lr(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:s,error:i}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ft});if(await ir(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Fs}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:i})}catch(s){if(W(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:s,nonce:i}=t,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ft}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Fs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,o,s,i;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await dn(this.storage,this.storageKey));const{error:c}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(o=l==null?void 0:l.data)!==null&&o!==void 0?o:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Bs("You must provide either an email or phone number.")}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Ft});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(W(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,n,o;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await dn(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:B_})}catch(s){if(W(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new cr;const{error:o}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:s}=t,{error:i}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:o,options:s}=t,{data:i,error:a}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new Bs("You must provide either an email or phone number and a type")}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<el:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Lr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=nl()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gr}):await this._useSession(async r=>{var n,o,s;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cr}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=i.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:gr})})}catch(r){if(W(r))return p_(r)&&(await this._removeSession(),await ir(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:s}=n;if(s)throw s;if(!o.session)throw new cr;const i=o.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await dn(this.storage,this.storageKey));const{data:u,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:gr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new cr;const r=Date.now()/1e3;let n=r,o=!0,s=null;const{payload:i}=rl(t.access_token);if(i.exp&&(n=i.exp,o=n<=r),o){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(W(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new cr;const{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!bt())throw new Ws("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ws(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Sf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ws("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sf("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:s,refresh_token:i,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!i||!u)throw new Ws("No session defined in URL");const d=Math.round(Date.now()/1e3),c=parseInt(a);let p=d+c;l&&(p=parseInt(l));const x=p-d;x*1e3<=yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${c}s`);const b=p-c;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,d);const{data:y,error:w}=await this._getUser(s);if(w)throw w;const m={provider_token:n,provider_refresh_token:o,access_token:s,expires_in:c,expires_at:p,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(W(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Lr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:s}=r;if(s)return{error:s};const i=(n=o.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(h_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ir(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=k_(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await dn(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(W(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:o}=await this._useSession(async s=>{var i,a,l,u,d;const{data:c,error:p}=s;if(p)throw p;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=c.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return bt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(W(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:s,error:i}=r;if(i)throw i;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await j_(async o=>(o>0&&await P_(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ft})),(o,s)=>{const i=200*Math.pow(2,o);return s&&tl(s)&&Date.now()+i-n<yn})}catch(n){if(this._debug(r,"error",n),W(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),bt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await Lr(this.storage,this.storageKey);if(o&&this.userStorage){let i=await Lr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:o.user},await wn(this.userStorage,this.storageKey+"-user",i)),o.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:nl()}else if(o&&!o.user&&!o.user){const i=await Lr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(o.user=i.user,await ir(this.storage,this.storageKey+"-user"),await wn(this.storage,this.storageKey,o)):o.user=nl()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<el;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${el}s`),s){if(this.autoRefreshToken&&o.refresh_token){const{error:i}=await this._callRefreshToken(o.refresh_token);i&&(console.error(i),tl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(o.access_token);!a&&(i!=null&&i.user)?(o.user=i.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ga;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new cr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(o,"error",s),W(s)){const i={session:null,error:s};return tl(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wn(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const s=jf(o);await wn(this.storage,this.storageKey,s)}else{const o=jf(r);await wn(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ir(this.storage,this.storageKey),await ir(this.storage,this.storageKey+"-code-verifier"),await ir(this.storage,this.storageKey+"-user"),this.userStorage&&await ir(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${yn}ms, refresh threshold is ${vu} ticks`),o<=vu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ig)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await dn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});o.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);o.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:s}=r;return s?{data:null,error:s}:await G(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:s,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((o=l==null?void 0:l.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:s}=r;if(s)return{data:null,error:s};const{data:i,error:a}=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:s}=r;return s?{data:null,error:s}:await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],o=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:o,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=rl(o.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+d_>o)return n;const{data:s,error:i}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,n=s.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:b}=await this.getSession();if(b||!x.session)return{data:null,error:b};n=x.session.access_token}const{header:o,payload:s,signature:i,raw:{header:a,payload:l}}=rl(n);r!=null&&r.allowExpired||L_(s.exp);const u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:s,header:o,signature:i},error:null}}const d=$_(o.alg),c=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,c,i,b_(`${a}.${l}`)))throw new xu("Invalid JWT signature");return{data:{claims:s,header:o,signature:i},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}}ns.nextInstanceID=0;const X_=ns;class Z_ extends X_{constructor(t){super(t)}}var e1=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{u(n.next(d))}catch(c){i(c)}}function l(d){try{u(n.throw(d))}catch(c){i(c)}}function u(d){d.done?s(d.value):o(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class t1{constructor(t,r,n){var o,s,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=s_(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Jb,realtime:Zb,auth:Object.assign(Object.assign({},Xb),{storageKey:u}),global:Qb},c=i_(n??{},d);this.storageKey=(o=c.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(p,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=c.auth)!==null&&i!==void 0?i:{},this.headers,c.global.fetch),this.fetch=n_(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new vb(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Kb(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Kx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return e1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,storageKey:s,flowType:i,lock:a,debug:l},u,d){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z_({url:this.authUrl.href,headers:Object.assign(Object.assign({},c),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,flowType:i,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Ob(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const r1=(e,t,r)=>new t1(e,t,r);function n1(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}n1()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const o1="https://deaddzylotqdckublfed.supabase.co",ag="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRlYWRkenlsb3RxZGNrdWJsZmVkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU3OTU4NjEsImV4cCI6MjA3MTM3MTg2MX0.ktxZ0H7mI9NVdxu48sPd90kqPerSP-vkysQlIM1JpG8",s1="placeholder_anon_key",i1=ag!==s1,Bi={url:o1,anonKey:ag},lg={isDevelopment:window.location.hostname==="localhost",isProduction:window.location.hostname!=="localhost"},Mn=(()=>{const e=lg.isProduction,t=i1;return e&&!t&&console.error(`[Supabase] ERROR: VITE_SUPABASE_URL and/or VITE_SUPABASE_ANON_KEY are not set in production.
Configure these variables in your hosting provider (e.g., Vercel) and redeploy.
Do NOT use hard-coded keys in the repository.`),{isProd:e,usedFallback:!t,urlInUse:Bi.url,hasEnv:t}})(),a1={timeoutMs:11e3,maxRetries:2,retryDelayBaseMs:300,retryOnStatus:[408,429,500,502,503,504],slowThresholdMs:1500};class l1{constructor(t){Sa(this,"queue",[]);Sa(this,"active",0);this.max=t}async acquire(){return this.active<this.max?(this.active++,()=>this.release()):new Promise(t=>{this.queue.push(()=>{this.active++,t(()=>this.release())})})}release(){this.active--;const t=this.queue.shift();t&&t()}}const u1=new l1(6);function If(e){return new Promise(t=>setTimeout(t,e))}function c1(e){const t=(e||"GET").toUpperCase();return t==="GET"||t==="HEAD"||t==="OPTIONS"}async function d1(e,t){var b;const r={...a1},n=await u1.acquire(),o=new AbortController,s=setTimeout(()=>o.abort(),r.timeoutMs),i=Date.now(),a={...t,signal:t!=null&&t.signal?p(t.signal,o.signal):o.signal,cache:(t==null?void 0:t.cache)??"no-store"},l=typeof e=="string"?e:e.toString(),u=(a.method||"GET").toUpperCase(),d=c1(u);let c=0;for(;;)try{const y=await globalThis.fetch(e,a),w=Date.now()-i;if(w>r.slowThresholdMs&&console.warn(`[net] Slow ${u} ${x(l)} ${w}ms`),!y.ok&&d&&r.retryOnStatus.includes(y.status)&&c<r.maxRetries){c++;const m=r.retryDelayBaseMs*Math.pow(2,c-1);console.warn(`[net] Retry ${c}/${r.maxRetries} ${u} ${x(l)} after status ${y.status}`),await If(m);continue}return n(),y}catch(y){if(d&&c<r.maxRetries&&((y==null?void 0:y.name)==="AbortError"||(y==null?void 0:y.code)==="ECONNRESET"||(b=y==null?void 0:y.message)!=null&&b.includes("NetworkError"))){c++;const w=r.retryDelayBaseMs*Math.pow(2,c-1);console.warn(`[net] Retry ${c}/${r.maxRetries} ${u} ${x(l)} after error: ${(y==null?void 0:y.name)||y}`),await If(w);continue}throw n(),y}finally{clearTimeout(s)}function p(y,w){if(y===w)return y;const m=new AbortController,g=()=>m.abort(y.reason),v=()=>m.abort(w.reason);return y.aborted?m.abort(y.reason):y.addEventListener("abort",g,{once:!0}),w.aborted?m.abort(w.reason):w.addEventListener("abort",v,{once:!0}),m.signal.addEventListener("abort",()=>{y.removeEventListener("abort",g),w.removeEventListener("abort",v)},{once:!0}),m.signal}function x(y){try{const w=new URL(y,window.location.origin),m=w.pathname+(w.search?"?"+w.search.slice(1,40)+(w.search.length>40?"…":""):"");return w.hostname.replace(/^([a-z0-9-]){3,}\./,"…")+m}catch{return y}}}const B=r1(Bi.url,Bi.anonKey,{global:{fetch:d1}}),f1=window.__SUPABASE_MISCONFIGURED__===!0,h1=3,Of=5e3,ug=h.createContext(void 0);function p1({children:e}){const[t,r]=h.useState(null),[n,o]=h.useState(null),[s,i]=h.useState(!0),[a,l]=h.useState(!1),[u,d]=h.useState(0),[c,p]=h.useState(""),[x,b]=h.useState(null),[y,w]=h.useState([]),m=T.useRef(null);T.useRef(0);const g=T.useRef(null),v=T.useRef(a),_=T.useRef(0),k=T.useRef(0),E=T.useRef(null);h.useEffect(()=>{v.current=a},[a]);const S=$=>{const j=`${new Date().toISOString()} - ${$}`;console.log("[AuthLog]",j),w(N=>[...N.slice(-50),j]);try{const N=window;N.__TRATO_AUTH_LOGS__=N.__TRATO_AUTH_LOGS__||[],N.__TRATO_AUTH_LOGS__.push(j)}catch{}},C=async $=>{if(!($!=null&&$.id)){console.warn("fetchUserProfile: No hay ID de usuario");return}try{console.log("Actualizando perfil para:",$.id);const{data:{session:j}}=await B.auth.getSession();j||(S("No hay sesión activa, reintentando autenticación..."),await B.auth.signInWithPassword({email:$.email||"",password:""}).catch(()=>null),await new Promise(N=>setTimeout(N,1e3)));for(let N=0;N<3;N++){N>0&&(await new Promise(D=>setTimeout(D,1500)),console.log("Reintentando obtener perfil..."));const{data:O,error:R}=await B.from("users").select("*").eq("id",$.id).maybeSingle();if(R){if(console.error(`Error al actualizar perfil (intento ${N+1}):`,R),S(`Error de perfil: ${R.message}`),R.message.includes("permission denied")||R.code==="42501"){await B.auth.refreshSession();continue}continue}if(O){console.log("Perfil obtenido exitosamente"),r(O),b(null),S("Perfil actualizado");return}}console.log("No se encontró perfil después de reintentos"),b($),S("Usuario sin perfil después de reintentos")}catch(j){console.error("Error inesperado en fetchUserProfile:",j),S(`Error inesperado: ${j}`)}},L=async $=>{var j,N;try{const O={id:$.id,email:$.email||"",name:((j=$.user_metadata)==null?void 0:j.name)||($.email||"Usuario").split("@")[0],role:((N=$.user_metadata)==null?void 0:N.role)||"comprador",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{error:R}=await B.from("users").upsert([O],{onConflict:"id",ignoreDuplicates:!0});R&&(R.code==="23505"||/duplicate key/i.test(R.message)||(console.warn("ensureProfileExists: upsert error:",R),S(`Error al asegurar perfil: ${R.message}`)))}catch(O){console.warn("ensureProfileExists: error:",O),S(`Error al crear perfil mínimo: ${O.message}`)}},P=async($,j,N)=>{var O,R;if(!Mn.hasEnv)return{success:!1,error:"Configuración de Supabase requerida. Revisa las variables de entorno."};try{if(i(!0),l(!0),d(10),p("Creando cuenta..."),console.log("Starting signup for:",$),S("Iniciando registro de usuario..."),n!=null&&n.user){console.log("Session already exists, fetching profile"),d(30),p("Cargando perfil existente..."),C(n.user);const X=n.user;return setTimeout(()=>{if(v.current){const ee={id:X.id,email:X.email||"",name:N.name,role:N.role,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Using existing session for registration"),S("Usando sesión existente"),r(ee),b(null),l(!1),d(100),p("¡Completado!"),L(X)}},4e3),{success:!0}}let D,U;const q=2;for(let X=0;X<=q;X++){X>0&&(console.log(`Retry attempt ${X} for auth signup`),S(`Reintentando registro (intento ${X})...`),await new Promise(le=>setTimeout(le,1e3*X)));const ee=await B.auth.signUp({email:$,password:j,options:{emailRedirectTo:void 0,data:{name:N.name,role:N.role,phone:N.phone??null}}});if(D=ee.data,U=ee.error,!U||(U==null?void 0:U.status)===422)break}if(U)return console.error("Auth signup error:",U),S(`Error en registro: ${U.message}`),U.status===422||/already registered/i.test(U.message)?(console.log("Account exists, attempting sign in"),S("Cuenta existente, intentando inicio de sesión..."),p("Cuenta existe, iniciando sesión..."),await I($,j)):(l(!1),d(0),p(""),{success:!1,error:U.message});if(!(D!=null&&D.user))return console.error("No user data returned"),S("Error: No se recibieron datos de usuario"),l(!1),d(0),p(""),{success:!1,error:"Error al crear usuario"};const te=D.user;console.log("Auth user created:",te.id),S("Usuario creado exitosamente"),d(30),p("Configurando perfil..."),await new Promise(X=>setTimeout(X,500));const K={id:te.id,email:$,name:N.name,role:N.role,phone:N.phone,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Creating user profile"),d(50),S("Creando perfil de usuario...");let ve=null;try{const X=B.from("users").insert([K]),ee=2e3;await Promise.race([X.then(({error:le})=>{ve=le}),new Promise(le=>setTimeout(le,ee))])}catch(X){ve=X,console.error("Profile creation error:",X),S(`Error al crear perfil: ${X.message}`)}if(ve&&(console.warn("Profile creation issue:",ve),S(`Problema al crear perfil: ${ve.message}`),ve.code==="23505"||/duplicate key/i.test(ve.message)||console.error("Non-duplicate profile error:",ve)),console.log("User profile stage complete"),d(70),p("Configurando perfil específico..."),N.role==="vendedor"){const X={id:te.id,business_name:N.businessName||"Mi Negocio",business_description:N.businessDescription,is_verified:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Creating seller profile"),S("Creando perfil de vendedor...");let ee;for(let le=0;le<3&&(le>0&&(console.log(`Retry attempt ${le} for seller profile`),S(`Reintentando crear perfil de vendedor (intento ${le})...`),await new Promise(io=>setTimeout(io,1e3*le))),ee=(await B.from("sellers").insert([X])).error,!!ee);le++)console.error(`Seller profile error (attempt ${le}):`,ee);if(ee&&(console.error("Final seller profile error:",ee),S(`Error al crear perfil de vendedor: ${ee.message}`),(O=ee.message)!=null&&O.includes("foreign key")))return{success:!1,error:"Error al vincular perfil de vendedor. Por favor intenta de nuevo."}}else if(N.role==="repartidor"){const X={id:te.id,vehicle_type:N.vehicleType||"Moto",license_number:N.licenseNumber||"TEMP-"+Date.now(),is_active:!1,is_verified:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Creating driver profile"),S("Creando perfil de repartidor...");let ee;for(let le=0;le<3&&(le>0&&(console.log(`Retry attempt ${le} for driver profile`),S(`Reintentando crear perfil de repartidor (intento ${le})...`),await new Promise(io=>setTimeout(io,1e3*le))),ee=(await B.from("drivers").insert([X])).error,!!ee);le++)console.error(`Driver profile error (attempt ${le}):`,ee);if(ee&&(console.error("Final driver profile error:",ee),S(`Error al crear perfil de repartidor: ${ee.message}`),(R=ee.message)!=null&&R.includes("foreign key")))return{success:!1,error:"Error al vincular perfil de repartidor. Por favor intenta de nuevo."}}d(85),p("Finalizando configuración..."),console.log("Proceeding with authenticated user"),S("Configurando sesión final..."),d(95),p("Finalizando...");const nr={id:te.id,email:te.email||"",name:N.name,role:N.role,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return console.log("Iniciando con perfil temporal"),S("Iniciando con perfil temporal"),r(nr),b(null),C(te),l(!1),d(100),p("¡Bienvenido!"),setTimeout(()=>{L(te)},1e3),{success:!0}}catch(D){return console.error("Unexpected registration error:",D),S(`Error inesperado en registro: ${D.message}`),{success:!1,error:"Error inesperado durante el registro"}}finally{i(!1)}},I=async($,j)=>{if(!Mn.hasEnv)return{success:!1,error:"Configuración de Supabase requerida. Revisa las variables de entorno."};if(m.current)return m.current;const N=(async()=>{try{i(!0);let O=$;if(/^\d{8}$/.test($.trim()))O=`+502${$.trim()}@trato.app`,console.log("Login con teléfono detectado, convirtiendo a:",O),S(`Login con teléfono: ${$} → ${O}`);else if($.includes("@"))O=$.trim(),console.log("Login con email detectado:",O),S(`Login con email: ${O}`);else return{success:!1,error:"Ingresa un email válido o un número de teléfono de 8 dígitos"};const{data:{user:R},error:D}=await B.auth.signInWithPassword({email:O,password:j});return D?O.includes("@trato.app")?{success:!1,error:"Número de teléfono o contraseña incorrectos"}:{success:!1,error:D.message}:R?(S("Inicio de sesión exitoso"),{success:!0}):{success:!1,error:"Error al iniciar sesión"}}finally{i(!1),m.current=null}})();return m.current=N,N},M=async()=>{try{await B.auth.signOut(),r(null),o(null),b(null),l(!1)}catch($){console.error("Error signing out:",$)}},J=async $=>{try{i(!0);const{error:j}=await B.from("users").update($).eq("id",t==null?void 0:t.id);return j?{success:!1,error:j.message}:(r(N=>N?{...N,...$}:null),{success:!0})}finally{i(!1)}},Oe=async $=>{var j,N,O;if(!x)return{success:!1,error:"No hay usuario huérfano"};try{i(!0),l(!0),d(20),p("Creando perfil faltante...");const R={id:x.id,email:x.email,name:$.name,role:$.role,phone:$.phone,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Creating missing profile:",R),S("Creando perfil faltante..."),d(50);const{error:D}=await B.from("users").insert([R]);if(D)if(console.error("Profile creation error:",D),S(`Error al crear perfil: ${D.message}`),(j=D.message)!=null&&j.includes("violates row-level security")){console.log("RLS error detected, retrying..."),S("Error RLS detectado, reintentando..."),await new Promise(q=>setTimeout(q,1e3));const{error:U}=await B.from("users").insert([R]);if(U)return console.error("Profile creation retry failed:",U),{success:!1,error:`Error al crear perfil: ${U.message}`}}else return{success:!1,error:`Error al crear perfil: ${D.message}`};if(console.log("User profile created successfully"),S("Perfil de usuario creado exitosamente"),d(70),p("Configurando datos específicos..."),$.role==="vendedor"&&$.businessName){const U={id:x.id,business_name:$.businessName,business_description:$.businessDescription,is_verified:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Creating seller profile:",U),S("Creando perfil de vendedor...");const{error:q}=await B.from("sellers").insert([U]);if(q&&(console.error("Seller profile error:",q),S(`Error al crear perfil de vendedor: ${q.message}`),(N=q.message)!=null&&N.includes("foreign key")))return{success:!1,error:"Error al vincular perfil de vendedor"}}if($.role==="repartidor"&&$.vehicleType){const U={id:x.id,vehicle_type:$.vehicleType,license_number:$.licenseNumber||"TEMP-"+Date.now(),is_active:!1,is_verified:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Creating driver profile:",U),S("Creando perfil de repartidor...");const{error:q}=await B.from("drivers").insert([U]);if(q&&(console.error("Driver profile error:",q),S(`Error al crear perfil de repartidor: ${q.message}`),(O=q.message)!=null&&O.includes("foreign key")))return{success:!1,error:"Error al vincular perfil de repartidor"}}return d(95),p("Cargando perfil..."),await C(x),d(100),p("¡Perfil recuperado!"),{success:!0}}catch(R){return console.error("Error creating missing profile:",R),S(`Error inesperado: ${R.message}`),{success:!1,error:"Error inesperado al crear el perfil"}}finally{l(!1),i(!1)}};h.useEffect(()=>{!n&&!s&&!a&&(console.log("Limpiando estado por falta de sesión"),r(null),b(null),g.current=null)},[n,s,a]),h.useEffect(()=>{if(!Mn.hasEnv){console.warn("Configuración de Supabase no válida, saltando autenticación"),i(!1),r(null),o(null),b(null);return}if(f1){console.log("Supabase está mal configurado, saltando inicialización"),i(!1);return}console.log("Iniciando efecto de autenticación");const $=async(O,R)=>{var q;const D=Date.now();if(D-k.current<Of){console.log("En período de cooldown, ignorando cambio de autenticación");return}if(_.current>=h1){console.log("Límite de reintentos alcanzado, pausando autenticación"),S("Límite de reintentos alcanzado, pausando..."),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{_.current=0,console.log("Cooldown terminado, reintentos reseteados")},Of*2),i(!1);return}if(console.log("Cambio de autenticación:",O,(q=R==null?void 0:R.user)==null?void 0:q.id),S(`Cambio de autenticación: ${O} (intento ${_.current+1})`),k.current=D,_.current++,o(R),O==="SIGNED_OUT"){console.log("Usuario cerró sesión"),r(null),b(null),g.current=null,i(!1),_.current=0;return}if(!(R!=null&&R.user)){console.log("No hay usuario en la sesión"),i(!1);return}const U=R.user;if(g.current===U.id&&t){console.log("Usuario ya procesado, saltando"),i(!1),_.current--;return}g.current=U.id;try{if(O==="SIGNED_IN"||O==="TOKEN_REFRESHED"||O==="INITIAL_SESSION"){console.log("Obteniendo perfil para usuario autenticado");const{data:te,error:K}=await B.from("users").select("*").eq("id",U.id).maybeSingle();if(K&&K.code!=="PGRST116"){console.error("Error al buscar perfil:",K),S(`Error al buscar perfil: ${K.message}`),i(!1);return}te?(console.log("Perfil encontrado:",te),S("Perfil cargado exitosamente"),r(te),b(null),_.current=0):(console.log("No se encontró perfil, marcando como huérfano"),S("Usuario sin perfil detectado"),b(U),r(null))}}catch(te){console.error("Error en handleAuthChange:",te),S(`Error en cambio de autenticación: ${te}`)}finally{i(!1)}};(async()=>{var O;try{console.log("Obteniendo sesión inicial..."),i(!0);const{data:{session:R},error:D}=await B.auth.getSession();if(D){console.error("Error obteniendo sesión inicial:",D),S(`Error en sesión inicial: ${D.message}`),i(!1);return}console.log("Sesión inicial obtenida:",((O=R==null?void 0:R.user)==null?void 0:O.id)||"sin sesión"),R!=null&&R.user?await $("INITIAL_SESSION",R):i(!1)}catch(R){console.error("Error inesperado obteniendo sesión inicial:",R),S(`Error inesperado en sesión inicial: ${R}`),i(!1)}})();const{data:{subscription:N}}=B.auth.onAuthStateChange((O,R)=>{setTimeout(()=>{$(O,R)},100)});return()=>{E.current&&clearTimeout(E.current),N.unsubscribe()}},[]);const F={user:t,session:n,loading:s,isRegistering:a,registrationProgress:u,registrationStep:c,orphanedUser:x,authLogs:y,signUp:P,signIn:I,signOut:M,updateProfile:J,createMissingProfile:Oe,resetAuthRetries:()=>{_.current=0,k.current=0,E.current&&(clearTimeout(E.current),E.current=null),console.log("Contadores de autenticación reseteados manualmente"),S("Contadores de autenticación reseteados")}};return f.jsx(ug.Provider,{value:F,children:e})}const no=()=>{const e=h.useContext(ug);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function Be(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Lf(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cg(...e){return t=>{let r=!1;const n=e.map(o=>{const s=Lf(o,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let o=0;o<n.length;o++){const s=n[o];typeof s=="function"?s():Lf(e[o],null)}}}}function Ve(...e){return h.useCallback(cg(...e),e)}function m1(e,t){const r=h.createContext(t),n=s=>{const{children:i,...a}=s,l=h.useMemo(()=>a,Object.values(a));return f.jsx(r.Provider,{value:l,children:i})};n.displayName=e+"Provider";function o(s){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,o]}function vs(e,t=[]){let r=[];function n(s,i){const a=h.createContext(i),l=r.length;r=[...r,i];const u=c=>{var m;const{scope:p,children:x,...b}=c,y=((m=p==null?void 0:p[e])==null?void 0:m[l])||a,w=h.useMemo(()=>b,Object.values(b));return f.jsx(y.Provider,{value:w,children:x})};u.displayName=s+"Provider";function d(c,p){var y;const x=((y=p==null?void 0:p[e])==null?void 0:y[l])||a,b=h.useContext(x);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${c}\` must be used within \`${s}\``)}return[u,d]}const o=()=>{const s=r.map(i=>h.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[n,g1(o,...t)]}function g1(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=n.reduce((a,{useScope:l,scopeName:u})=>{const c=l(s)[`__scope${u}`];return{...a,...c}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var os=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},v1=uy.useId||(()=>{}),y1=0;function sl(e){const[t,r]=h.useState(v1());return os(()=>{r(n=>n??String(y1++))},[e]),e||(t?`radix-${t}`:"")}function Xr(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Oc({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,o]=w1({defaultProp:t,onChange:r}),s=e!==void 0,i=s?e:n,a=Xr(r),l=h.useCallback(u=>{if(s){const c=typeof u=="function"?u(e):u;c!==e&&a(c)}else o(u)},[s,e,o,a]);return[i,l]}function w1({defaultProp:e,onChange:t}){const r=h.useState(e),[n]=r,o=h.useRef(n),s=Xr(t);return h.useEffect(()=>{o.current!==n&&(s(n),o.current=n)},[n,o,s]),r}var Zr=h.forwardRef((e,t)=>{const{children:r,...n}=e,o=h.Children.toArray(r),s=o.find(b1);if(s){const i=s.props.children,a=o.map(l=>l===s?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:l);return f.jsx(bu,{...n,ref:t,children:h.isValidElement(i)?h.cloneElement(i,void 0,a):null})}return f.jsx(bu,{...n,ref:t,children:r})});Zr.displayName="Slot";var bu=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const o=S1(r),s=_1(n,r.props);return r.type!==h.Fragment&&(s.ref=t?cg(t,o):o),h.cloneElement(r,s)}return h.Children.count(r)>1?h.Children.only(null):null});bu.displayName="SlotClone";var x1=({children:e})=>f.jsx(f.Fragment,{children:e});function b1(e){return h.isValidElement(e)&&e.type===x1}function _1(e,t){const r={...t};for(const n in t){const o=e[n],s=t[n];/^on[A-Z]/.test(n)?o&&s?r[n]=(...a)=>{s(...a),o(...a)}:o&&(r[n]=o):n==="style"?r[n]={...o,...s}:n==="className"&&(r[n]=[o,s].filter(Boolean).join(" "))}return{...e,...r}}function S1(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var k1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Se=k1.reduce((e,t)=>{const r=h.forwardRef((n,o)=>{const{asChild:s,...i}=n,a=s?Zr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...i,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function E1(e,t){e&&Sc.flushSync(()=>e.dispatchEvent(t))}function C1(e,t=globalThis==null?void 0:globalThis.document){const r=Xr(e);h.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var P1="DismissableLayer",_u="dismissableLayer.update",j1="dismissableLayer.pointerDownOutside",N1="dismissableLayer.focusOutside",$f,dg=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fg=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,u=h.useContext(dg),[d,c]=h.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=h.useState({}),b=Ve(t,S=>c(S)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),m=y.indexOf(w),g=d?y.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=m,k=A1(S=>{const C=S.target,L=[...u.branches].some(P=>P.contains(C));!_||L||(o==null||o(S),i==null||i(S),S.defaultPrevented||a==null||a())},p),E=I1(S=>{const C=S.target;[...u.branches].some(P=>P.contains(C))||(s==null||s(S),i==null||i(S),S.defaultPrevented||a==null||a())},p);return C1(S=>{g===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},p),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($f=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Df(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=$f)}},[d,p,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Df())},[d,u]),h.useEffect(()=>{const S=()=>x({});return document.addEventListener(_u,S),()=>document.removeEventListener(_u,S)},[]),f.jsx(Se.div,{...l,ref:b,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:Be(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Be(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Be(e.onPointerDownCapture,k.onPointerDownCapture)})});fg.displayName=P1;var R1="DismissableLayerBranch",T1=h.forwardRef((e,t)=>{const r=h.useContext(dg),n=h.useRef(null),o=Ve(t,n);return h.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),f.jsx(Se.div,{...e,ref:o})});T1.displayName=R1;function A1(e,t=globalThis==null?void 0:globalThis.document){const r=Xr(e),n=h.useRef(!1),o=h.useRef(()=>{});return h.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let l=function(){hg(j1,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function I1(e,t=globalThis==null?void 0:globalThis.document){const r=Xr(e),n=h.useRef(!1);return h.useEffect(()=>{const o=s=>{s.target&&!n.current&&hg(N1,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Df(){const e=new CustomEvent(_u);document.dispatchEvent(e)}function hg(e,t,r,{discrete:n}){const o=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?E1(o,s):o.dispatchEvent(s)}var il="focusScope.autoFocusOnMount",al="focusScope.autoFocusOnUnmount",Mf={bubbles:!1,cancelable:!0},O1="FocusScope",pg=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=h.useState(null),u=Xr(o),d=Xr(s),c=h.useRef(null),p=Ve(t,y=>l(y)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let y=function(v){if(x.paused||!a)return;const _=v.target;a.contains(_)?c.current=_:dr(c.current,{select:!0})},w=function(v){if(x.paused||!a)return;const _=v.relatedTarget;_!==null&&(a.contains(_)||dr(c.current,{select:!0}))},m=function(v){if(document.activeElement===document.body)for(const k of v)k.removedNodes.length>0&&dr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const g=new MutationObserver(m);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),g.disconnect()}}},[n,a,x.paused]),h.useEffect(()=>{if(a){Uf.add(x);const y=document.activeElement;if(!a.contains(y)){const m=new CustomEvent(il,Mf);a.addEventListener(il,u),a.dispatchEvent(m),m.defaultPrevented||(L1(U1(mg(a)),{select:!0}),document.activeElement===y&&dr(a))}return()=>{a.removeEventListener(il,u),setTimeout(()=>{const m=new CustomEvent(al,Mf);a.addEventListener(al,d),a.dispatchEvent(m),m.defaultPrevented||dr(y??document.body,{select:!0}),a.removeEventListener(al,d),Uf.remove(x)},0)}}},[a,u,d,x]);const b=h.useCallback(y=>{if(!r&&!n||x.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,m=document.activeElement;if(w&&m){const g=y.currentTarget,[v,_]=$1(g);v&&_?!y.shiftKey&&m===_?(y.preventDefault(),r&&dr(v,{select:!0})):y.shiftKey&&m===v&&(y.preventDefault(),r&&dr(_,{select:!0})):m===g&&y.preventDefault()}},[r,n,x.paused]);return f.jsx(Se.div,{tabIndex:-1,...i,ref:p,onKeyDown:b})});pg.displayName=O1;function L1(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(dr(n,{select:t}),document.activeElement!==r)return}function $1(e){const t=mg(e),r=zf(t,e),n=zf(t.reverse(),e);return[r,n]}function mg(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zf(e,t){for(const r of e)if(!D1(r,{upTo:t}))return r}function D1(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function M1(e){return e instanceof HTMLInputElement&&"select"in e}function dr(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&M1(e)&&t&&e.select()}}var Uf=z1();function z1(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ff(e,t),e.unshift(t)},remove(t){var r;e=Ff(e,t),(r=e[0])==null||r.resume()}}}function Ff(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function U1(e){return e.filter(t=>t.tagName!=="A")}var F1="Portal",gg=h.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[o,s]=h.useState(!1);os(()=>s(!0),[]);const i=r||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?bm.createPortal(f.jsx(Se.div,{...n,ref:t}),i):null});gg.displayName=F1;function B1(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var va=e=>{const{present:t,children:r}=e,n=W1(t),o=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),s=Ve(n.ref,V1(o));return typeof r=="function"||n.isPresent?h.cloneElement(o,{ref:s}):null};va.displayName="Presence";function W1(e){const[t,r]=h.useState(),n=h.useRef({}),o=h.useRef(e),s=h.useRef("none"),i=e?"mounted":"unmounted",[a,l]=B1(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Vs(n.current);s.current=a==="mounted"?u:"none"},[a]),os(()=>{const u=n.current,d=o.current;if(d!==e){const p=s.current,x=Vs(u);e?l("MOUNT"):x==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),os(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,c=x=>{const y=Vs(n.current).includes(x.animationName);if(x.target===t&&y&&(l("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=x=>{x.target===t&&(s.current=Vs(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Vs(e){return(e==null?void 0:e.animationName)||"none"}function V1(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ll=0;function H1(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bf()),document.body.insertAdjacentElement("beforeend",e[1]??Bf()),ll++,()=>{ll===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ll--}},[])}function Bf(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ot=function(){return Ot=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ot.apply(this,arguments)};function vg(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function q1(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var hi="right-scroll-bar-position",pi="width-before-scroll-bar",K1="with-scroll-bars-hidden",G1="--removed-body-scroll-bar-size";function ul(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Y1(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var Q1=typeof window<"u"?h.useLayoutEffect:h.useEffect,Wf=new WeakMap;function J1(e,t){var r=Y1(null,function(n){return e.forEach(function(o){return ul(o,n)})});return Q1(function(){var n=Wf.get(r);if(n){var o=new Set(n),s=new Set(e),i=r.current;o.forEach(function(a){s.has(a)||ul(a,null)}),s.forEach(function(a){o.has(a)||ul(a,i)})}Wf.set(r,e)},[e]),r}function X1(e){return e}function Z1(e,t){t===void 0&&(t=X1);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(s),i=r}var l=function(){var d=i;i=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return o}function eS(e){e===void 0&&(e={});var t=Z1(null);return t.options=Ot({async:!0,ssr:!1},e),t}var yg=function(e){var t=e.sideCar,r=vg(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,Ot({},r))};yg.isSideCarExport=!0;function tS(e,t){return e.useMedium(t),yg}var wg=eS(),cl=function(){},ya=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:cl,onWheelCapture:cl,onTouchMoveCapture:cl}),o=n[0],s=n[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,c=e.shards,p=e.sideCar,x=e.noRelative,b=e.noIsolation,y=e.inert,w=e.allowPinchZoom,m=e.as,g=m===void 0?"div":m,v=e.gapMode,_=vg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,E=J1([r,t]),S=Ot(Ot({},_),o);return h.createElement(h.Fragment,null,d&&h.createElement(k,{sideCar:wg,removeScrollBar:u,shards:c,noRelative:x,noIsolation:b,inert:y,setCallbacks:s,allowPinchZoom:!!w,lockRef:r,gapMode:v}),i?h.cloneElement(h.Children.only(a),Ot(Ot({},S),{ref:E})):h.createElement(g,Ot({},S,{className:l,ref:E}),a))});ya.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ya.classNames={fullWidth:pi,zeroRight:hi};var rS=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nS(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rS();return t&&e.setAttribute("nonce",t),e}function oS(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function sS(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iS=function(){var e=0,t=null;return{add:function(r){e==0&&(t=nS())&&(oS(t,r),sS(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},aS=function(){var e=iS();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},xg=function(){var e=aS(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},lS={left:0,top:0,right:0,gap:0},dl=function(e){return parseInt(e||"",10)||0},uS=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[dl(r),dl(n),dl(o)]},cS=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lS;var t=uS(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},dS=xg(),zn="data-scroll-locked",fS=function(e,t,r,n){var o=e.left,s=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(K1,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(zn,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hi,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(pi,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(hi," .").concat(hi,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(pi," .").concat(pi,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(zn,`] {
    `).concat(G1,": ").concat(a,`px;
  }
`)},Vf=function(){var e=parseInt(document.body.getAttribute(zn)||"0",10);return isFinite(e)?e:0},hS=function(){h.useEffect(function(){return document.body.setAttribute(zn,(Vf()+1).toString()),function(){var e=Vf()-1;e<=0?document.body.removeAttribute(zn):document.body.setAttribute(zn,e.toString())}},[])},pS=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;hS();var s=h.useMemo(function(){return cS(o)},[o]);return h.createElement(dS,{styles:fS(s,!t,o,r?"":"!important")})},Su=!1;if(typeof window<"u")try{var Hs=Object.defineProperty({},"passive",{get:function(){return Su=!0,!0}});window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Su=!1}var mn=Su?{passive:!1}:!1,mS=function(e){return e.tagName==="TEXTAREA"},bg=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!mS(e)&&r[t]==="visible")},gS=function(e){return bg(e,"overflowY")},vS=function(e){return bg(e,"overflowX")},Hf=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=_g(e,n);if(o){var s=Sg(e,n),i=s[1],a=s[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},yS=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},wS=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},_g=function(e,t){return e==="v"?gS(t):vS(t)},Sg=function(e,t){return e==="v"?yS(t):wS(t)},xS=function(e,t){return e==="h"&&t==="rtl"?-1:1},bS=function(e,t,r,n,o){var s=xS(e,window.getComputedStyle(t).direction),i=s*n,a=r.target,l=t.contains(a),u=!1,d=i>0,c=0,p=0;do{if(!a)break;var x=Sg(e,a),b=x[0],y=x[1],w=x[2],m=y-w-s*b;(b||m)&&_g(e,a)&&(c+=m,p+=b);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(c)<1||!d&&Math.abs(p)<1)&&(u=!0),u},qs=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qf=function(e){return[e.deltaX,e.deltaY]},Kf=function(e){return e&&"current"in e?e.current:e},_S=function(e,t){return e[0]===t[0]&&e[1]===t[1]},SS=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},kS=0,gn=[];function ES(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),o=h.useState(kS++)[0],s=h.useState(xg)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var y=q1([e.lockRef.current],(e.shards||[]).map(Kf),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var m=qs(y),g=r.current,v="deltaX"in y?y.deltaX:g[0]-m[0],_="deltaY"in y?y.deltaY:g[1]-m[1],k,E=y.target,S=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in y&&S==="h"&&E.type==="range")return!1;var C=Hf(S,E);if(!C)return!0;if(C?k=S:(k=S==="v"?"h":"v",C=Hf(S,E)),!C)return!1;if(!n.current&&"changedTouches"in y&&(v||_)&&(n.current=k),!k)return!0;var L=n.current||k;return bS(L,w,y,L==="h"?v:_)},[]),l=h.useCallback(function(y){var w=y;if(!(!gn.length||gn[gn.length-1]!==s)){var m="deltaY"in w?qf(w):qs(w),g=t.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&_S(k.delta,m)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var v=(i.current.shards||[]).map(Kf).filter(Boolean).filter(function(k){return k.contains(w.target)}),_=v.length>0?a(w,v[0]):!i.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=h.useCallback(function(y,w,m,g){var v={name:y,delta:w,target:m,should:g,shadowParent:CS(m)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),d=h.useCallback(function(y){r.current=qs(y),n.current=void 0},[]),c=h.useCallback(function(y){u(y.type,qf(y),y.target,a(y,e.lockRef.current))},[]),p=h.useCallback(function(y){u(y.type,qs(y),y.target,a(y,e.lockRef.current))},[]);h.useEffect(function(){return gn.push(s),e.setCallbacks({onScrollCapture:c,onWheelCapture:c,onTouchMoveCapture:p}),document.addEventListener("wheel",l,mn),document.addEventListener("touchmove",l,mn),document.addEventListener("touchstart",d,mn),function(){gn=gn.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,mn),document.removeEventListener("touchmove",l,mn),document.removeEventListener("touchstart",d,mn)}},[]);var x=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(s,{styles:SS(o)}):null,x?h.createElement(pS,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function CS(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const PS=tS(wg,ES);var kg=h.forwardRef(function(e,t){return h.createElement(ya,Ot({},e,{ref:t,sideCar:PS}))});kg.classNames=ya.classNames;var jS=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vn=new WeakMap,Ks=new WeakMap,Gs={},fl=0,Eg=function(e){return e&&(e.host||Eg(e.parentNode))},NS=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Eg(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},RS=function(e,t,r,n){var o=NS(t,Array.isArray(e)?e:[e]);Gs[r]||(Gs[r]=new WeakMap);var s=Gs[r],i=[],a=new Set,l=new Set(o),u=function(c){!c||a.has(c)||(a.add(c),u(c.parentNode))};o.forEach(u);var d=function(c){!c||l.has(c)||Array.prototype.forEach.call(c.children,function(p){if(a.has(p))d(p);else try{var x=p.getAttribute(n),b=x!==null&&x!=="false",y=(vn.get(p)||0)+1,w=(s.get(p)||0)+1;vn.set(p,y),s.set(p,w),i.push(p),y===1&&b&&Ks.set(p,!0),w===1&&p.setAttribute(r,"true"),b||p.setAttribute(n,"true")}catch(m){console.error("aria-hidden: cannot operate on ",p,m)}})};return d(t),a.clear(),fl++,function(){i.forEach(function(c){var p=vn.get(c)-1,x=s.get(c)-1;vn.set(c,p),s.set(c,x),p||(Ks.has(c)||c.removeAttribute(n),Ks.delete(c)),x||c.removeAttribute(r)}),fl--,fl||(vn=new WeakMap,vn=new WeakMap,Ks=new WeakMap,Gs={})}},TS=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=jS(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),RS(n,o,r,"aria-hidden")):function(){return null}},Lc="Dialog",[Cg,uP]=vs(Lc),[AS,Nt]=Cg(Lc),Pg=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=h.useRef(null),l=h.useRef(null),[u=!1,d]=Oc({prop:n,defaultProp:o,onChange:s});return f.jsx(AS,{scope:t,triggerRef:a,contentRef:l,contentId:sl(),titleId:sl(),descriptionId:sl(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(c=>!c),[d]),modal:i,children:r})};Pg.displayName=Lc;var jg="DialogTrigger",Ng=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Nt(jg,r),s=Ve(t,o.triggerRef);return f.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Mc(o.open),...n,ref:s,onClick:Be(e.onClick,o.onOpenToggle)})});Ng.displayName=jg;var $c="DialogPortal",[IS,Rg]=Cg($c,{forceMount:void 0}),Tg=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,s=Nt($c,t);return f.jsx(IS,{scope:t,forceMount:r,children:h.Children.map(n,i=>f.jsx(va,{present:r||s.open,children:f.jsx(gg,{asChild:!0,container:o,children:i})}))})};Tg.displayName=$c;var Wi="DialogOverlay",Ag=h.forwardRef((e,t)=>{const r=Rg(Wi,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,s=Nt(Wi,e.__scopeDialog);return s.modal?f.jsx(va,{present:n||s.open,children:f.jsx(OS,{...o,ref:t})}):null});Ag.displayName=Wi;var OS=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Nt(Wi,r);return f.jsx(kg,{as:Zr,allowPinchZoom:!0,shards:[o.contentRef],children:f.jsx(Se.div,{"data-state":Mc(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),en="DialogContent",Ig=h.forwardRef((e,t)=>{const r=Rg(en,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,s=Nt(en,e.__scopeDialog);return f.jsx(va,{present:n||s.open,children:s.modal?f.jsx(LS,{...o,ref:t}):f.jsx($S,{...o,ref:t})})});Ig.displayName=en;var LS=h.forwardRef((e,t)=>{const r=Nt(en,e.__scopeDialog),n=h.useRef(null),o=Ve(t,r.contentRef,n);return h.useEffect(()=>{const s=n.current;if(s)return TS(s)},[]),f.jsx(Og,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Be(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Be(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:Be(e.onFocusOutside,s=>s.preventDefault())})}),$S=h.forwardRef((e,t)=>{const r=Nt(en,e.__scopeDialog),n=h.useRef(!1),o=h.useRef(!1);return f.jsx(Og,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),Og=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=Nt(en,r),l=h.useRef(null),u=Ve(t,l);return H1(),f.jsxs(f.Fragment,{children:[f.jsx(pg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:s,children:f.jsx(fg,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Mc(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(DS,{titleId:a.titleId}),f.jsx(zS,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Dc="DialogTitle",Lg=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Nt(Dc,r);return f.jsx(Se.h2,{id:o.titleId,...n,ref:t})});Lg.displayName=Dc;var $g="DialogDescription",Dg=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Nt($g,r);return f.jsx(Se.p,{id:o.descriptionId,...n,ref:t})});Dg.displayName=$g;var Mg="DialogClose",zg=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Nt(Mg,r);return f.jsx(Se.button,{type:"button",...n,ref:t,onClick:Be(e.onClick,()=>o.onOpenChange(!1))})});zg.displayName=Mg;function Mc(e){return e?"open":"closed"}var Ug="DialogTitleWarning",[cP,Fg]=m1(Ug,{contentName:en,titleName:Dc,docsSlug:"dialog"}),DS=({titleId:e})=>{const t=Fg(Ug),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},MS="DialogDescriptionWarning",zS=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Fg(MS).contentName}}.`;return h.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},US=Pg,dP=Ng,FS=Tg,Bg=Ag,Wg=Ig,Vg=Lg,Hg=Dg,BS=zg;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VS=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Gf=e=>{const t=VS(e);return t.charAt(0).toUpperCase()+t.slice(1)},qg=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:s,iconNode:i,...a},l)=>h.createElement("svg",{ref:l,...HS,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:qg("lucide",o),...a},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const r=h.forwardRef(({className:n,...o},s)=>h.createElement(qS,{ref:s,iconNode:t,className:qg(`lucide-${WS(Gf(e))}`,`lucide-${e}`,n),...o}));return r.displayName=Gf(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],GS=Ue("bell",KS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Co=Ue("circle-alert",YS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],JS=Ue("circle-check-big",QS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ZS=Ue("database",XS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],tk=Ue("download",ek);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ys=Ue("eye",rk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],nt=Ue("loader-circle",nk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Kg=Ue("refresh-cw",ok);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],ik=Ue("rotate-cw",sk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lk=Ue("settings",ak);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Yf=Ue("stethoscope",uk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],dk=Ue("test-tube",ck);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gg=Ue("x",fk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pk=Ue("zap",hk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],gk=Ue("zoom-in",mk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],yk=Ue("zoom-out",vk);function Yg(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Yg(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Qg(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Yg(e))&&(n&&(n+=" "),n+=t);return n}const zc="-",wk=e=>{const t=bk(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(zc);return a[0]===""&&a.length!==1&&a.shift(),Jg(a,t)||xk(i)},getConflictingClassGroupIds:(i,a)=>{const l=r[i]||[];return a&&n[i]?[...l,...n[i]]:l}}},Jg=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?Jg(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(zc);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},Qf=/^\[(.+)\]$/,xk=e=>{if(Qf.test(e)){const t=Qf.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},bk=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Sk(Object.entries(e.classGroups),r).forEach(([s,i])=>{ku(i,n,s,t)}),n},ku=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Jf(t,o);s.classGroupId=r;return}if(typeof o=="function"){if(_k(o)){ku(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([s,i])=>{ku(i,Jf(t,s),r,n)})})},Jf=(e,t)=>{let r=e;return t.split(zc).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},_k=e=>e.isThemeGetter,Sk=(e,t)=>t?e.map(([r,n])=>{const o=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[r,o]}):e,kk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return o(s,i),i},set(s,i){r.has(s)?r.set(s,i):o(s,i)}}},Xg="!",Ek=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],s=t.length,i=a=>{const l=[];let u=0,d=0,c;for(let w=0;w<a.length;w++){let m=a[w];if(u===0){if(m===o&&(n||a.slice(w,w+s)===t)){l.push(a.slice(d,w)),d=w+s;continue}if(m==="/"){c=w;continue}}m==="["?u++:m==="]"&&u--}const p=l.length===0?a:a.substring(d),x=p.startsWith(Xg),b=x?p.substring(1):p,y=c&&c>d?c-d:void 0;return{modifiers:l,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:y}};return r?a=>r({className:a,parseClassName:i}):i},Ck=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Pk=e=>({cache:kk(e.cacheSize),parseClassName:Ek(e),...wk(e)}),jk=/\s+/,Nk=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(jk);let a="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:d,hasImportantModifier:c,baseClassName:p,maybePostfixModifierPosition:x}=r(u);let b=!!x,y=n(b?p.substring(0,x):p);if(!y){if(!b){a=u+(a.length>0?" "+a:a);continue}if(y=n(p),!y){a=u+(a.length>0?" "+a:a);continue}b=!1}const w=Ck(d).join(":"),m=c?w+Xg:w,g=m+y;if(s.includes(g))continue;s.push(g);const v=o(y,b);for(let _=0;_<v.length;++_){const k=v[_];s.push(m+k)}a=u+(a.length>0?" "+a:a)}return a};function Rk(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Zg(t))&&(n&&(n+=" "),n+=r);return n}const Zg=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Zg(e[n]))&&(r&&(r+=" "),r+=t);return r};function Tk(e,...t){let r,n,o,s=i;function i(l){const u=t.reduce((d,c)=>c(d),e());return r=Pk(u),n=r.cache.get,o=r.cache.set,s=a,a(l)}function a(l){const u=n(l);if(u)return u;const d=Nk(l,r);return o(l,d),d}return function(){return s(Rk.apply(null,arguments))}}const oe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ev=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ak=/^\d+\/\d+$/,Ik=new Set(["px","full","screen"]),Ok=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$k=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Dk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ut=e=>Un(e)||Ik.has(e)||Ak.test(e),ar=e=>oo(e,"length",qk),Un=e=>!!e&&!Number.isNaN(Number(e)),hl=e=>oo(e,"number",Un),wo=e=>!!e&&Number.isInteger(Number(e)),zk=e=>e.endsWith("%")&&Un(e.slice(0,-1)),V=e=>ev.test(e),lr=e=>Ok.test(e),Uk=new Set(["length","size","percentage"]),Fk=e=>oo(e,Uk,tv),Bk=e=>oo(e,"position",tv),Wk=new Set(["image","url"]),Vk=e=>oo(e,Wk,Gk),Hk=e=>oo(e,"",Kk),xo=()=>!0,oo=(e,t,r)=>{const n=ev.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},qk=e=>Lk.test(e)&&!$k.test(e),tv=()=>!1,Kk=e=>Dk.test(e),Gk=e=>Mk.test(e),Yk=()=>{const e=oe("colors"),t=oe("spacing"),r=oe("blur"),n=oe("brightness"),o=oe("borderColor"),s=oe("borderRadius"),i=oe("borderSpacing"),a=oe("borderWidth"),l=oe("contrast"),u=oe("grayscale"),d=oe("hueRotate"),c=oe("invert"),p=oe("gap"),x=oe("gradientColorStops"),b=oe("gradientColorStopPositions"),y=oe("inset"),w=oe("margin"),m=oe("opacity"),g=oe("padding"),v=oe("saturate"),_=oe("scale"),k=oe("sepia"),E=oe("skew"),S=oe("space"),C=oe("translate"),L=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",V,t],M=()=>[V,t],J=()=>["",Ut,ar],Oe=()=>["auto",Un,V],me=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",V],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[Un,V];return{cacheSize:500,separator:":",theme:{colors:[xo],spacing:[Ut,ar],blur:["none","",lr,V],brightness:R(),borderColor:[e],borderRadius:["none","","full",lr,V],borderSpacing:M(),borderWidth:J(),contrast:R(),grayscale:N(),hueRotate:R(),invert:N(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[zk,ar],inset:I(),margin:I(),opacity:R(),padding:M(),saturate:R(),scale:R(),sepia:N(),skew:R(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",V]}],container:["container"],columns:[{columns:[lr]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...me(),V]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wo,V]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",V]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",wo,V]}],"grid-cols":[{"grid-cols":[xo]}],"col-start-end":[{col:["auto",{span:["full",wo,V]},V]}],"col-start":[{"col-start":Oe()}],"col-end":[{"col-end":Oe()}],"grid-rows":[{"grid-rows":[xo]}],"row-start-end":[{row:["auto",{span:[wo,V]},V]}],"row-start":[{"row-start":Oe()}],"row-end":[{"row-end":Oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",V]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",V]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",V,t]}],"min-w":[{"min-w":[V,t,"min","max","fit"]}],"max-w":[{"max-w":[V,t,"none","full","min","max","fit","prose",{screen:[lr]},lr]}],h:[{h:[V,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[V,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[V,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[V,t,"auto","min","max","fit"]}],"font-size":[{text:["base",lr,ar]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hl]}],"font-family":[{font:[xo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",V]}],"line-clamp":[{"line-clamp":["none",Un,hl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ut,V]}],"list-image":[{"list-image":["none",V]}],"list-style-type":[{list:["none","disc","decimal",V]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ut,ar]}],"underline-offset":[{"underline-offset":["auto",Ut,V]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",V]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",V]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...me(),Bk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Fk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Vk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:F()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Ut,V]}],"outline-w":[{outline:[Ut,ar]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Ut,ar]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",lr,Hk]}],"shadow-color":[{shadow:[xo]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",lr,V]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[c]}],saturate:[{saturate:[v]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",V]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",V]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",V]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[wo,V]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",V]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",V]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",V]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ut,ar,hl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Qk=Tk(Yk);function Ne(...e){return Qk(Qg(e))}const Jk=US,Xk=FS,Uc=h.forwardRef(({className:e,...t},r)=>f.jsx(Bg,{ref:r,className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Uc.displayName=Bg.displayName;const rv=h.forwardRef(({className:e,children:t,description:r,...n},o)=>f.jsxs(Xk,{children:[f.jsx(Uc,{}),f.jsxs(Wg,{ref:o,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),"aria-describedby":r?"dialog-description":void 0,...n,children:[t,r&&f.jsx("div",{id:"dialog-description",className:"sr-only",children:r}),f.jsxs(BS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(Gg,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rv.displayName=Wg.displayName;const Zk=({className:e,...t})=>f.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Zk.displayName="DialogHeader";const nv=h.forwardRef(({className:e,...t},r)=>f.jsx(Vg,{ref:r,className:Ne("text-lg font-semibold leading-none tracking-tight",e),...t}));nv.displayName=Vg.displayName;const eE=h.forwardRef(({className:e,...t},r)=>f.jsx(Hg,{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));eE.displayName=Hg.displayName;const Xf=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Zf=Qg,ov=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Zf(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(u=>{const d=r==null?void 0:r[u],c=s==null?void 0:s[u];if(d===null)return null;const p=Xf(d)||Xf(c);return o[u][p]}),a=r&&Object.entries(r).reduce((u,d)=>{let[c,p]=d;return p===void 0||(u[c]=p),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:c,className:p,...x}=d;return Object.entries(x).every(b=>{let[y,w]=b;return Array.isArray(w)?w.includes({...s,...a}[y]):{...s,...a}[y]===w})?[...u,c,p]:u},[]);return Zf(e,i,l,r==null?void 0:r.class,r==null?void 0:r.className)},tE=ov("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive touch-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 min-h-[44px] has-[>svg]:px-3",sm:"h-9 rounded-md gap-1.5 px-3 min-h-[40px] has-[>svg]:px-2.5",lg:"h-11 rounded-md px-6 min-h-[48px] has-[>svg]:px-4",icon:"size-10 min-h-[44px] min-w-[44px] rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ce=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},s)=>{const i=n?Zr:"button";return f.jsx(i,{"data-slot":"button",className:Ne(tE({variant:t,size:r,className:e})),ref:s,...o})});ce.displayName="Button";const pl="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function rE({expandable:e=!1,onExpand:t,...r}){const[n,o]=h.useState(!1),[s,i]=h.useState(!1),[a,l]=h.useState(!0),u=()=>{console.log("Image failed to load:",r.src),o(!0),l(!1)},d=()=>{l(!1)},c=_=>{if(e&&t&&r.src){_.preventDefault(),_.stopPropagation();const k=n?pl:r.src,E=r.alt||"Imagen";t(k,E)}},{src:p,alt:x,style:b,className:y,onClick:w,onError:m,onLoad:g,...v}=r;return console.log("ImageWithFallback rendering with src:",p),!p||p.trim()===""?(console.log("No src provided, showing fallback"),f.jsxs("div",{className:`relative inline-block bg-gray-100 text-center align-middle ${y??""} ${e?"cursor-pointer group":""}`,style:b,onClick:e?c:w,onMouseEnter:e?()=>i(!0):void 0,onMouseLeave:e?()=>i(!1):void 0,children:[f.jsx("div",{className:"flex items-center justify-center w-full h-full",children:f.jsx("img",{src:pl,alt:"No image available",...v})}),e&&f.jsx("div",{className:`absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-200 flex items-center justify-center ${s?"opacity-100":"opacity-0"}`,children:f.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg transform scale-0 group-hover:scale-100 transition-transform duration-200",children:f.jsx(Ys,{className:"w-4 h-4 text-gray-800"})})})]})):n?f.jsxs("div",{className:`relative inline-block bg-gray-100 text-center align-middle ${y??""} ${e?"cursor-pointer group":""}`,style:b,onClick:e?c:w,onMouseEnter:e?()=>i(!0):void 0,onMouseLeave:e?()=>i(!1):void 0,children:[f.jsx("div",{className:"flex items-center justify-center w-full h-full",children:f.jsx("img",{src:pl,alt:"Error loading image",...v,"data-original-url":p})}),e&&f.jsx("div",{className:`absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-200 flex items-center justify-center ${s?"opacity-100":"opacity-0"}`,children:f.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg transform scale-0 group-hover:scale-100 transition-transform duration-200",children:f.jsx(Ys,{className:"w-4 h-4 text-gray-800"})})})]}):f.jsxs("div",{className:`relative ${e?"cursor-pointer group":""}`,onClick:e?c:w,onMouseEnter:e?()=>i(!0):void 0,onMouseLeave:e?()=>i(!1):void 0,children:[a&&f.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse rounded"}),f.jsx("img",{src:p,alt:x,className:`${y??""} ${a?"opacity-0":"opacity-100"} transition-all duration-200 ${e?"group-hover:scale-105":""}`,style:b,...v,onError:u,onLoad:d}),e&&!a&&f.jsx("div",{className:`absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-200 flex items-center justify-center ${s?"opacity-100":"opacity-0"}`,children:f.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg transform scale-0 group-hover:scale-100 transition-transform duration-200",children:f.jsx(Ys,{className:"w-4 h-4 text-gray-800"})})}),e&&!a&&f.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:f.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-full p-1",children:f.jsx(Ys,{className:"w-3 h-3 text-white"})})})]})}var nE="VisuallyHidden",sv=h.forwardRef((e,t)=>f.jsx(Se.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));sv.displayName=nE;function oE({isOpen:e,onClose:t,imageUrl:r,imageAlt:n}){const[o,s]=h.useState(1),[i,a]=h.useState(0),[l,u]=h.useState(!1),[d,c]=h.useState({x:0,y:0}),[p,x]=h.useState({x:0,y:0});h.useEffect(()=>{e&&(s(1),a(0),c({x:0,y:0}))},[e]),h.useEffect(()=>{if(!e||window.innerWidth<768)return;const S=C=>{switch(C.key){case"Escape":t();break;case"+":case"=":b();break;case"-":y();break;case"r":case"R":w();break}};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[e,t]);const b=()=>{s(S=>Math.min(S*1.2,5))},y=()=>{s(S=>Math.max(S/1.2,.5))},w=()=>{a(S=>(S+90)%360)},m=()=>{s(1),a(0),c({x:0,y:0})},g=()=>{const S=document.createElement("a");S.href=r,S.download=n||"imagen",document.body.appendChild(S),S.click(),document.body.removeChild(S)},v=S=>{o<=1||(u(!0),x({x:S.clientX-d.x,y:S.clientY-d.y}))},_=S=>{!l||o<=1||c({x:S.clientX-p.x,y:S.clientY-p.y})},k=()=>{u(!1)},E=S=>{S.preventDefault(),S.deltaY<0?b():y()};return e?f.jsxs(Jk,{open:e,onOpenChange:t,children:[f.jsx(Uc,{className:"bg-black/90 backdrop-blur-sm"}),f.jsxs(rv,{className:"max-w-[95vw] max-h-[95vh] w-auto h-auto p-0 border-0 bg-transparent shadow-none",onPointerDownOutside:t,children:[f.jsx(sv,{children:f.jsxs(nv,{children:["Imagen ampliada: ",n]})}),f.jsxs("div",{className:"hidden md:absolute md:top-4 md:left-1/2 md:transform md:-translate-x-1/2 md:z-50 md:bg-black/70 md:backdrop-blur-sm md:rounded-lg md:p-2 md:flex md:items-center md:gap-2",children:[f.jsx(ce,{variant:"ghost",size:"sm",onClick:y,disabled:o<=.5,className:"text-white hover:bg-white/20",children:f.jsx(yk,{className:"w-4 h-4"})}),f.jsxs("div",{className:"text-white text-sm px-2",children:[Math.round(o*100),"%"]}),f.jsx(ce,{variant:"ghost",size:"sm",onClick:b,disabled:o>=5,className:"text-white hover:bg-white/20",children:f.jsx(gk,{className:"w-4 h-4"})}),f.jsx("div",{className:"w-px h-6 bg-white/30 mx-1"}),f.jsx(ce,{variant:"ghost",size:"sm",onClick:w,className:"text-white hover:bg-white/20",children:f.jsx(ik,{className:"w-4 h-4"})}),f.jsx(ce,{variant:"ghost",size:"sm",onClick:g,className:"text-white hover:bg-white/20",children:f.jsx(tk,{className:"w-4 h-4"})}),f.jsx("div",{className:"w-px h-6 bg-white/30 mx-1"}),f.jsx(ce,{variant:"ghost",size:"sm",onClick:m,className:"text-white hover:bg-white/20 text-xs",children:"Reset"})]}),f.jsx(ce,{variant:"ghost",size:"sm",onClick:t,className:"absolute top-4 right-4 z-50 text-white hover:bg-white/20",children:f.jsx(Gg,{className:"w-5 h-5"})}),f.jsx("div",{className:`relative max-w-[90vw] max-h-[90vh] flex items-center justify-center ${o>1&&window.innerWidth>=768?"cursor-grab":"cursor-auto"} ${l?"cursor-grabbing":""}`,onMouseDown:window.innerWidth>=768?v:void 0,onMouseMove:window.innerWidth>=768?_:void 0,onMouseUp:window.innerWidth>=768?k:void 0,onMouseLeave:window.innerWidth>=768?k:void 0,onWheel:window.innerWidth>=768?E:void 0,children:f.jsx(rE,{src:r,alt:n,className:"max-w-full max-h-full object-contain select-none",style:{transform:window.innerWidth>=768?`scale(${o}) rotate(${i}deg) translate(${d.x}px, ${d.y}px)`:"none",transition:l?"none":"transform 0.2s ease-out"},draggable:!1})}),f.jsx("div",{className:"hidden md:absolute md:bottom-4 md:left-1/2 md:transform md:-translate-x-1/2 md:z-50 md:bg-black/70 md:backdrop-blur-sm md:rounded-lg md:px-3 md:py-1",children:f.jsx("p",{className:"text-white/70 text-xs text-center",children:"Scroll para zoom • Arrastra para mover • R para rotar • Esc para cerrar"})})]})]}):null}function sE(){const[e,t]=h.useState({isOpen:!1,imageUrl:"",imageAlt:""}),r=h.useCallback((o,s="")=>{t({isOpen:!0,imageUrl:o,imageAlt:s})},[]),n=h.useCallback(()=>{t({isOpen:!1,imageUrl:"",imageAlt:""})},[]);return{...e,openModal:r,closeModal:n}}const iv=h.createContext(void 0);function iE({children:e}){const{isOpen:t,imageUrl:r,imageAlt:n,openModal:o,closeModal:s}=sE(),i={openImageModal:o,closeImageModal:s,isOpen:t};return f.jsxs(iv.Provider,{value:i,children:[e,f.jsx(oE,{isOpen:t,onClose:s,imageUrl:r,imageAlt:n})]})}function fP(){const e=h.useContext(iv);if(e===void 0)throw new Error("useImageModalContext must be used within an ImageModalProvider");return e}const av=h.createContext(void 0);function aE({children:e}){const{user:t}=no(),[r,n]=h.useState([]),[o,s]=h.useState(!1),i=async()=>{var w;if(!t){n([]);return}try{s(!0);const{error:m}=await B.from("cart_items").select("count",{count:"exact",head:!0});if((m==null?void 0:m.code)==="PGRST205"){console.log("cart_items table does not exist yet"),n([]);return}try{await B.rpc("cleanup_invalid_cart_items")}catch(k){console.warn("Could not run cleanup function (this is normal during initial setup):",k)}const{data:g,error:v}=await B.from("cart_items").select("*").eq("user_id",t.id).order("created_at",{ascending:!0});if(v){if(v.code==="PGRST200"&&v.message.includes("relationship between")){console.warn("Foreign key relationship issue detected - using simplified query"),n([]);return}console.error("Error fetching cart items:",v);return}const _=(g||[]).map(k=>({...k,product:k.product_name?{id:k.product_id,name:k.product_name,price:k.product_price||0,image_url:k.product_image,seller_id:k.seller_id}:void 0}));n(_)}catch(m){(m==null?void 0:m.code)==="PGRST200"||(w=m==null?void 0:m.message)!=null&&w.includes("relationship between")?(console.warn("Database relationships not fully configured yet (this is normal during setup)"),n([])):console.error("Unexpected error fetching cart:",m)}finally{s(!1)}},a=async(w,m,g="regular")=>{var v,_;if(!t)return{success:!1,message:"Debes iniciar sesión para agregar productos al carrito"};try{console.log("Adding to cart:",{productId:w,quantity:m,productType:g,userId:t.id});const{data:k,error:E}=await B.rpc("add_to_cart_safe",{p_user_id:t.id,p_product_id:w,p_quantity:m,p_product_type:g});if(console.log("RPC response:",{data:k,error:E}),E)return console.error("Error adding to cart:",E),E.message.includes("overloading")||E.message.includes("function")?{success:!1,message:"Error de configuración de la función. Contacta al administrador."}:{success:!1,message:`Error al agregar al carrito: ${E.message}`};if(k&&k.length>0){const S=k[0];return console.log("Cart operation result:",S),S.success?(await i(),{success:!0,message:S.message||"Producto agregado al carrito"}):{success:!1,message:S.message||"No se pudo agregar el producto al carrito"}}return{success:!1,message:"Respuesta inesperada del servidor"}}catch(k){return console.error("Unexpected error adding to cart:",k),(v=k.message)!=null&&v.includes("NetworkError")||(_=k.message)!=null&&_.includes("fetch")?{success:!1,message:"Error de conexión. Verifica tu internet e intenta nuevamente."}:{success:!1,message:"Error inesperado al agregar al carrito"}}},l=async(w,m)=>{if(!(!t||m<0))try{if(m===0){await u(w);return}const{error:g}=await B.from("cart_items").update({quantity:m,updated_at:new Date().toISOString()}).eq("id",w).eq("user_id",t.id);if(g){console.error("Error updating cart item:",g);return}await i()}catch(g){console.error("Unexpected error updating cart item:",g)}},u=async w=>{if(t)try{const{error:m}=await B.from("cart_items").delete().eq("id",w).eq("user_id",t.id);if(m){console.error("Error removing from cart:",m);return}await i()}catch(m){console.error("Unexpected error removing from cart:",m)}},d=async()=>{if(t)try{const{error:w}=await B.from("cart_items").delete().eq("user_id",t.id);if(w){console.error("Error clearing cart:",w);return}n([])}catch(w){console.error("Unexpected error clearing cart:",w)}},c=()=>r.reduce((w,m)=>{var v;const g=m.product_price||((v=m.product)==null?void 0:v.price)||0;return w+g*m.quantity},0),p=()=>r.reduce((w,m)=>w+m.quantity,0),x=()=>r.length===0?{sellerId:null,sellerName:null}:{sellerId:r[0].seller_id||null,sellerName:null},b=async()=>{await i()};h.useEffect(()=>{i()},[t]),h.useEffect(()=>{if(!t)return;const w=setInterval(()=>{i()},3e4);return()=>clearInterval(w)},[t]);const y={items:r,loading:o,addToCart:a,updateCartItem:l,removeFromCart:u,clearCart:d,getCartTotal:c,getCartItemCount:p,refreshCart:b,getSellerInfo:x};return f.jsx(av.Provider,{value:y,children:e})}function hP(){const e=h.useContext(av);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e}function lE(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const uE=e=>{switch(e){case"success":return fE;case"info":return pE;case"warning":return hE;case"error":return mE;default:return null}},cE=Array(12).fill(0),dE=({visible:e,className:t})=>T.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},T.createElement("div",{className:"sonner-spinner"},cE.map((r,n)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),fE=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hE=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),pE=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mE=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gE=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vE=()=>{const[e,t]=T.useState(document.hidden);return T.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Eu=1;class yE{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Eu++,i=this.toasts.find(l=>l.id===s),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:n}),{...l,...t,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...o,dismissible:a,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,i;const a=o.then(async u=>{if(i=["resolve",u],T.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(xE(u)&&!u.ok){s=!1;const c=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,b=typeof c=="object"&&!T.isValidElement(c)?c:{message:c};this.create({id:n,type:"error",description:p,...b})}else if(u instanceof Error){s=!1;const c=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,b=typeof c=="object"&&!T.isValidElement(c)?c:{message:c};this.create({id:n,type:"error",description:p,...b})}else if(r.success!==void 0){s=!1;const c=typeof r.success=="function"?await r.success(u):r.success,p=typeof r.description=="function"?await r.description(u):r.description,b=typeof c=="object"&&!T.isValidElement(c)?c:{message:c};this.create({id:n,type:"success",description:p,...b})}}).catch(async u=>{if(i=["reject",u],r.error!==void 0){s=!1;const d=typeof r.error=="function"?await r.error(u):r.error,c=typeof r.description=="function"?await r.description(u):r.description,x=typeof d=="object"&&!T.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:c,...x})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((u,d)=>a.then(()=>i[0]==="reject"?d(i[1]):u(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Eu++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ge=new yE,wE=(e,t)=>{const r=(t==null?void 0:t.id)||Eu++;return Ge.addToast({title:e,...t,id:r}),r},xE=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",bE=wE,_E=()=>Ge.toasts,SE=()=>Ge.getActiveToasts(),qr=Object.assign(bE,{success:Ge.success,info:Ge.info,warning:Ge.warning,error:Ge.error,custom:Ge.custom,message:Ge.message,promise:Ge.promise,dismiss:Ge.dismiss,loading:Ge.loading},{getHistory:_E,getToasts:SE});lE("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qs(e){return e.label!==void 0}const kE=3,EE="24px",CE="16px",eh=4e3,PE=356,jE=14,NE=45,RE=200;function Tt(...e){return e.filter(Boolean).join(" ")}function TE(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const AE=e=>{var t,r,n,o,s,i,a,l,u;const{invert:d,toast:c,unstyled:p,interacting:x,setHeights:b,visibleToasts:y,heights:w,index:m,toasts:g,expanded:v,removeToast:_,defaultRichColors:k,closeButton:E,style:S,cancelButtonStyle:C,actionButtonStyle:L,className:P="",descriptionClassName:I="",duration:M,position:J,gap:Oe,expandByDefault:me,classNames:F,icons:$,closeButtonAriaLabel:j="Close toast"}=e,[N,O]=T.useState(null),[R,D]=T.useState(null),[U,q]=T.useState(!1),[te,K]=T.useState(!1),[ve,nr]=T.useState(!1),[X,ee]=T.useState(!1),[le,ys]=T.useState(!1),[io,xa]=T.useState(0),[Iv,Hc]=T.useState(0),ao=T.useRef(c.duration||M||eh),qc=T.useRef(null),zt=T.useRef(null),Ov=m===0,Lv=m+1<=y,tt=c.type,sn=c.dismissible!==!1,$v=c.className||"",Dv=c.descriptionClassName||"",ws=T.useMemo(()=>w.findIndex(H=>H.toastId===c.id)||0,[w,c.id]),Mv=T.useMemo(()=>{var H;return(H=c.closeButton)!=null?H:E},[c.closeButton,E]),Kc=T.useMemo(()=>c.duration||M||eh,[c.duration,M]),ba=T.useRef(0),an=T.useRef(0),Gc=T.useRef(0),ln=T.useRef(null),[zv,Uv]=J.split("-"),Yc=T.useMemo(()=>w.reduce((H,ke,Le)=>Le>=ws?H:H+ke.height,0),[w,ws]),Qc=vE(),Fv=c.invert||d,_a=tt==="loading";an.current=T.useMemo(()=>ws*Oe+Yc,[ws,Yc]),T.useEffect(()=>{ao.current=Kc},[Kc]),T.useEffect(()=>{q(!0)},[]),T.useEffect(()=>{const H=zt.current;if(H){const ke=H.getBoundingClientRect().height;return Hc(ke),b(Le=>[{toastId:c.id,height:ke,position:c.position},...Le]),()=>b(Le=>Le.filter(rt=>rt.toastId!==c.id))}},[b,c.id]),T.useLayoutEffect(()=>{if(!U)return;const H=zt.current,ke=H.style.height;H.style.height="auto";const Le=H.getBoundingClientRect().height;H.style.height=ke,Hc(Le),b(rt=>rt.find(Re=>Re.toastId===c.id)?rt.map(Re=>Re.toastId===c.id?{...Re,height:Le}:Re):[{toastId:c.id,height:Le,position:c.position},...rt])},[U,c.title,c.description,b,c.id]);const or=T.useCallback(()=>{K(!0),xa(an.current),b(H=>H.filter(ke=>ke.toastId!==c.id)),setTimeout(()=>{_(c)},RE)},[c,_,b,an]);T.useEffect(()=>{if(c.promise&&tt==="loading"||c.duration===1/0||c.type==="loading")return;let H;return v||x||Qc?(()=>{if(Gc.current<ba.current){const rt=new Date().getTime()-ba.current;ao.current=ao.current-rt}Gc.current=new Date().getTime()})():(()=>{ao.current!==1/0&&(ba.current=new Date().getTime(),H=setTimeout(()=>{c.onAutoClose==null||c.onAutoClose.call(c,c),or()},ao.current))})(),()=>clearTimeout(H)},[v,x,c,tt,Qc,or]),T.useEffect(()=>{c.delete&&or()},[or,c.delete]);function Bv(){var H;if($!=null&&$.loading){var ke;return T.createElement("div",{className:Tt(F==null?void 0:F.loader,c==null||(ke=c.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":tt==="loading"},$.loading)}return T.createElement(dE,{className:Tt(F==null?void 0:F.loader,c==null||(H=c.classNames)==null?void 0:H.loader),visible:tt==="loading"})}const Wv=c.icon||($==null?void 0:$[tt])||uE(tt);var Jc,Xc;return T.createElement("li",{tabIndex:0,ref:zt,className:Tt(P,$v,F==null?void 0:F.toast,c==null||(t=c.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[tt],c==null||(r=c.classNames)==null?void 0:r[tt]),"data-sonner-toast":"","data-rich-colors":(Jc=c.richColors)!=null?Jc:k,"data-styled":!(c.jsx||c.unstyled||p),"data-mounted":U,"data-promise":!!c.promise,"data-swiped":le,"data-removed":te,"data-visible":Lv,"data-y-position":zv,"data-x-position":Uv,"data-index":m,"data-front":Ov,"data-swiping":ve,"data-dismissible":sn,"data-type":tt,"data-invert":Fv,"data-swipe-out":X,"data-swipe-direction":R,"data-expanded":!!(v||me&&U),style:{"--index":m,"--toasts-before":m,"--z-index":g.length-m,"--offset":`${te?io:an.current}px`,"--initial-height":me?"auto":`${Iv}px`,...S,...c.style},onDragEnd:()=>{nr(!1),O(null),ln.current=null},onPointerDown:H=>{_a||!sn||(qc.current=new Date,xa(an.current),H.target.setPointerCapture(H.pointerId),H.target.tagName!=="BUTTON"&&(nr(!0),ln.current={x:H.clientX,y:H.clientY}))},onPointerUp:()=>{var H,ke,Le;if(X||!sn)return;ln.current=null;const rt=Number(((H=zt.current)==null?void 0:H.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xs=Number(((ke=zt.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Re=new Date().getTime()-((Le=qc.current)==null?void 0:Le.getTime()),ct=N==="x"?rt:xs,bs=Math.abs(ct)/Re;if(Math.abs(ct)>=NE||bs>.11){xa(an.current),c.onDismiss==null||c.onDismiss.call(c,c),D(N==="x"?rt>0?"right":"left":xs>0?"down":"up"),or(),ee(!0);return}else{var yt,wt;(yt=zt.current)==null||yt.style.setProperty("--swipe-amount-x","0px"),(wt=zt.current)==null||wt.style.setProperty("--swipe-amount-y","0px")}ys(!1),nr(!1),O(null)},onPointerMove:H=>{var ke,Le,rt;if(!ln.current||!sn||((ke=window.getSelection())==null?void 0:ke.toString().length)>0)return;const Re=H.clientY-ln.current.y,ct=H.clientX-ln.current.x;var bs;const yt=(bs=e.swipeDirections)!=null?bs:TE(J);!N&&(Math.abs(ct)>1||Math.abs(Re)>1)&&O(Math.abs(ct)>Math.abs(Re)?"x":"y");let wt={x:0,y:0};const Zc=Ir=>1/(1.5+Math.abs(Ir)/20);if(N==="y"){if(yt.includes("top")||yt.includes("bottom"))if(yt.includes("top")&&Re<0||yt.includes("bottom")&&Re>0)wt.y=Re;else{const Ir=Re*Zc(Re);wt.y=Math.abs(Ir)<Math.abs(Re)?Ir:Re}}else if(N==="x"&&(yt.includes("left")||yt.includes("right")))if(yt.includes("left")&&ct<0||yt.includes("right")&&ct>0)wt.x=ct;else{const Ir=ct*Zc(ct);wt.x=Math.abs(Ir)<Math.abs(ct)?Ir:ct}(Math.abs(wt.x)>0||Math.abs(wt.y)>0)&&ys(!0),(Le=zt.current)==null||Le.style.setProperty("--swipe-amount-x",`${wt.x}px`),(rt=zt.current)==null||rt.style.setProperty("--swipe-amount-y",`${wt.y}px`)}},Mv&&!c.jsx&&tt!=="loading"?T.createElement("button",{"aria-label":j,"data-disabled":_a,"data-close-button":!0,onClick:_a||!sn?()=>{}:()=>{or(),c.onDismiss==null||c.onDismiss.call(c,c)},className:Tt(F==null?void 0:F.closeButton,c==null||(n=c.classNames)==null?void 0:n.closeButton)},(Xc=$==null?void 0:$.close)!=null?Xc:gE):null,(tt||c.icon||c.promise)&&c.icon!==null&&(($==null?void 0:$[tt])!==null||c.icon)?T.createElement("div",{"data-icon":"",className:Tt(F==null?void 0:F.icon,c==null||(o=c.classNames)==null?void 0:o.icon)},c.promise||c.type==="loading"&&!c.icon?c.icon||Bv():null,c.type!=="loading"?Wv:null):null,T.createElement("div",{"data-content":"",className:Tt(F==null?void 0:F.content,c==null||(s=c.classNames)==null?void 0:s.content)},T.createElement("div",{"data-title":"",className:Tt(F==null?void 0:F.title,c==null||(i=c.classNames)==null?void 0:i.title)},c.jsx?c.jsx:typeof c.title=="function"?c.title():c.title),c.description?T.createElement("div",{"data-description":"",className:Tt(I,Dv,F==null?void 0:F.description,c==null||(a=c.classNames)==null?void 0:a.description)},typeof c.description=="function"?c.description():c.description):null),T.isValidElement(c.cancel)?c.cancel:c.cancel&&Qs(c.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:c.cancelButtonStyle||C,onClick:H=>{Qs(c.cancel)&&sn&&(c.cancel.onClick==null||c.cancel.onClick.call(c.cancel,H),or())},className:Tt(F==null?void 0:F.cancelButton,c==null||(l=c.classNames)==null?void 0:l.cancelButton)},c.cancel.label):null,T.isValidElement(c.action)?c.action:c.action&&Qs(c.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:c.actionButtonStyle||L,onClick:H=>{Qs(c.action)&&(c.action.onClick==null||c.action.onClick.call(c.action,H),!H.defaultPrevented&&or())},className:Tt(F==null?void 0:F.actionButton,c==null||(u=c.classNames)==null?void 0:u.actionButton)},c.action.label):null)};function th(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function IE(e,t){const r={};return[e,t].forEach((n,o)=>{const s=o===1,i=s?"--mobile-offset":"--offset",a=s?CE:EE;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=a:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(a)}),r}const OE=T.forwardRef(function(t,r){const{invert:n,position:o="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:u,mobileOffset:d,theme:c="light",richColors:p,duration:x,style:b,visibleToasts:y=kE,toastOptions:w,dir:m=th(),gap:g=jE,icons:v,containerAriaLabel:_="Notifications"}=t,[k,E]=T.useState([]),S=T.useMemo(()=>Array.from(new Set([o].concat(k.filter(R=>R.position).map(R=>R.position)))),[k,o]),[C,L]=T.useState([]),[P,I]=T.useState(!1),[M,J]=T.useState(!1),[Oe,me]=T.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=T.useRef(null),$=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=T.useRef(null),N=T.useRef(!1),O=T.useCallback(R=>{E(D=>{var U;return(U=D.find(q=>q.id===R.id))!=null&&U.delete||Ge.dismiss(R.id),D.filter(({id:q})=>q!==R.id)})},[]);return T.useEffect(()=>Ge.subscribe(R=>{if(R.dismiss){requestAnimationFrame(()=>{E(D=>D.map(U=>U.id===R.id?{...U,delete:!0}:U))});return}setTimeout(()=>{bm.flushSync(()=>{E(D=>{const U=D.findIndex(q=>q.id===R.id);return U!==-1?[...D.slice(0,U),{...D[U],...R},...D.slice(U+1)]:[R,...D]})})})}),[k]),T.useEffect(()=>{if(c!=="system"){me(c);return}if(c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?me("dark"):me("light")),typeof window>"u")return;const R=window.matchMedia("(prefers-color-scheme: dark)");try{R.addEventListener("change",({matches:D})=>{me(D?"dark":"light")})}catch{R.addListener(({matches:U})=>{try{me(U?"dark":"light")}catch(q){console.error(q)}})}},[c]),T.useEffect(()=>{k.length<=1&&I(!1)},[k]),T.useEffect(()=>{const R=D=>{var U;if(s.every(K=>D[K]||D.code===K)){var te;I(!0),(te=F.current)==null||te.focus()}D.code==="Escape"&&(document.activeElement===F.current||(U=F.current)!=null&&U.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[s]),T.useEffect(()=>{if(F.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,N.current=!1)}},[F.current]),T.createElement("section",{ref:r,"aria-label":`${_} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((R,D)=>{var U;const[q,te]=R.split("-");return k.length?T.createElement("ol",{key:R,dir:m==="auto"?th():m,tabIndex:-1,ref:F,className:l,"data-sonner-toaster":!0,"data-sonner-theme":Oe,"data-y-position":q,"data-lifted":P&&k.length>1&&!i,"data-x-position":te,style:{"--front-toast-height":`${((U=C[0])==null?void 0:U.height)||0}px`,"--width":`${PE}px`,"--gap":`${g}px`,...b,...IE(u,d)},onBlur:K=>{N.current&&!K.currentTarget.contains(K.relatedTarget)&&(N.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||N.current||(N.current=!0,j.current=K.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{M||I(!1)},onDragEnd:()=>I(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},k.filter(K=>!K.position&&D===0||K.position===R).map((K,ve)=>{var nr,X;return T.createElement(AE,{key:K.id,icons:v,index:ve,toast:K,defaultRichColors:p,duration:(nr=w==null?void 0:w.duration)!=null?nr:x,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:y,closeButton:(X=w==null?void 0:w.closeButton)!=null?X:a,interacting:M,position:R,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:O,toasts:k.filter(ee=>ee.position==K.position),heights:C.filter(ee=>ee.position==K.position),setHeights:L,expandByDefault:i,gap:g,expanded:P,swipeDirections:t.swipeDirections})})):null}))}),LE=h.createContext(void 0);function Js({children:e}){const{user:t}=no(),[r,n]=h.useState([]),[o,s]=h.useState([]),[i,a]=h.useState(null),[l,u]=h.useState(!1),[d,c]=h.useState(null),[p,x]=h.useState(!1),b=async()=>{try{c(null);const{data:k,error:E}=await B.from("conversations").select("id").limit(1),{data:S,error:C}=await B.from("messages").select("id").limit(1),{data:L,error:P}=await B.from("users").select("id, name, role").limit(1);E||C||P?(console.log("Chat tables check errors:",{conversationsError:E,messagesError:C,usersError:P?{message:P.message}:null}),(E==null?void 0:E.code)==="42P01"||(C==null?void 0:C.code)==="42P01"?c("Las tablas de chat no están configuradas. Ejecuta el script de configuración."):c(P?"Error en tabla de usuarios para chat.":"Error de configuración en sistema de chat."),x(!1)):(x(!0),c(null))}catch(k){console.error("Error checking chat tables:",k),c("No se pudieron verificar las tablas de chat."),x(!1)}};h.useEffect(()=>{b()},[]);const y=async()=>{if(!(!t||!p))try{u(!0),c(null);const{data:k,error:E}=await B.from("conversations").select(`
          *,
          participant1:users!participant1_id (id, name, role),
          participant2:users!participant2_id (id, name, role),
          messages!last_message_id (content, created_at)
        `).or(`participant1_id.eq.${t.id},participant2_id.eq.${t.id}`).order("last_message_at",{ascending:!1});if(E)throw E;const S=await Promise.all((k||[]).map(async C=>{const{count:L}=await B.from("messages").select("*",{count:"exact",head:!0}).eq("conversation_id",C.id).not("read_by","cs",`{"${t.id}": true}`);return{...C,last_message:C.messages,unread_count:L||0}}));n(S)}catch(k){console.error("Error loading conversations:",k),c("Error al cargar conversaciones: "+k.message)}finally{u(!1)}},w=async k=>{if(!(!t||!p))try{u(!0),c(null);const{data:E,error:S}=await B.from("messages").select(`
          *,
          sender:users!sender_id (id, name, role)
        `).eq("conversation_id",k).order("created_at",{ascending:!0});if(S)throw S;s(E||[])}catch(E){console.error("Error loading messages:",E),c("Error al cargar mensajes: "+E.message)}finally{u(!1)}},m=async(k,E)=>{if(!(!t||!p))try{c(null);const{data:S,error:C}=await B.from("messages").insert({conversation_id:k,sender_id:t.id,content:E.trim(),message_type:"text",read_by:{[t.id]:!0}}).select(`
          *,
          sender:users!sender_id (id, name, role)
        `).single();if(C)throw C;s(L=>[...L,S]),await B.from("conversations").update({last_message_id:S.id,last_message_at:new Date().toISOString()}).eq("id",k),y()}catch(S){console.error("Error sending message:",S),c("Error al enviar mensaje: "+S.message),qr.error("Error al enviar mensaje")}},g=async k=>{if(!t||!p)return null;try{c(null);const{data:E}=await B.from("conversations").select("id").or(`and(participant1_id.eq.${t.id},participant2_id.eq.${k}),and(participant1_id.eq.${k},participant2_id.eq.${t.id})`).single();if(E)return E.id;const{data:S,error:C}=await B.from("conversations").insert({participant1_id:t.id,participant2_id:k,last_message_at:new Date().toISOString()}).select("id").single();if(C)throw C;return y(),S.id}catch(E){return console.error("Error creating conversation:",E),c("Error al crear conversación: "+E.message),qr.error("Error al crear conversación"),null}},v=async k=>{if(!(!t||!p))try{c(null);const{error:E}=await B.from("messages").update({read_by:{[t.id]:!0}}).eq("conversation_id",k).neq("sender_id",t.id).not("read_by","cs",`{"${t.id}": true}`);if(E)throw E;y()}catch(E){console.error("Error marking messages as read:",E),c("Error al marcar mensajes como leídos: "+E.message)}};h.useEffect(()=>{t&&p&&y()},[t,p]),h.useEffect(()=>{if(!t||!p||!i)return;const k=B.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${i}`},E=>{console.log("New message received:",E),w(i),y()}).subscribe();return()=>{k.unsubscribe()}},[t,p,i]);const _={conversations:r,messages:o,activeConversation:i,loading:l,error:d,hasChatTables:p,loadConversations:y,loadMessages:w,sendMessage:m,createConversation:g,setActiveConversation:a,markMessagesAsRead:v,checkChatTables:b};return f.jsx(LE.Provider,{value:_,children:e})}const $E=ov("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function DE({className:e,variant:t,asChild:r=!1,...n}){const o=r?Zr:"span";return f.jsx(o,{"data-slot":"badge",className:Ne($E({variant:t}),e),...n})}const ME=T.createContext(void 0);function Xs({children:e}){const[t,r]=T.useState({}),n=T.useCallback(a=>t[a]||"offline",[t]),o=T.useCallback((a,l)=>{r(u=>({...u,[a]:l}))},[]),s=T.useCallback(a=>n(a)==="online",[n]),i={getUserStatus:n,setUserStatus:o,isUserOnline:s};return f.jsx(ME.Provider,{value:i,children:e})}function zE(){const{user:e}=no(),[t,r]=h.useState("default"),[n,o]=h.useState(!1);h.useEffect(()=>{o("Notification"in window),"Notification"in window&&r(Notification.permission)},[]);const s=h.useCallback(async()=>{if(!n)return console.warn("Las notificaciones no están soportadas en este navegador"),!1;if(t==="granted")return!0;try{const d=await Notification.requestPermission();return r(d),d==="granted"}catch(d){return console.error("Error al solicitar permisos de notificación:",d),!1}},[n,t]),i=h.useCallback(async(d,c={})=>{if(!n||t!=="granted")return console.warn("No se pueden mostrar notificaciones:",{supported:n,permission:t}),null;try{const p=new Notification(d,{icon:"/assets/trato-logo.png",badge:"/assets/trato-logo.png",tag:"trato-notification",requireInteraction:!0,...c});return c.requireInteraction||setTimeout(()=>{p.close()},1e4),p}catch(p){return console.error("Error al mostrar notificación:",p),null}},[n,t]),a=h.useCallback(async d=>{const c={pickup:"Recoger en tienda","dine-in":"Comer en el lugar",delivery:"Servicio a domicilio"}[d.delivery_type]||d.delivery_type;return await i("🛒 Nueva Orden Recibida",{body:`${d.customer_name} - Q${d.total.toFixed(2)}
${c}`,icon:"/assets/trato-logo.png",badge:"/assets/trato-logo.png",tag:`order-${d.order_id}`,requireInteraction:!0,data:{type:"new-order",orderId:d.order_id,customerName:d.customer_name,total:d.total,deliveryType:d.delivery_type}})},[i]),l=h.useCallback(async(d,c)=>await i("🚛 Actualización de Entrega",{body:d,icon:"/assets/trato-logo.png",badge:"/assets/trato-logo.png",tag:"delivery-update",data:{type:"delivery-update",...c}}),[i]),u=h.useCallback(async(d,c,p)=>await i(d,{body:c,icon:"/assets/trato-logo.png",badge:"/assets/trato-logo.png",tag:"general-notification",data:{type:"general",...p}}),[i]);return{supported:n,permission:t,requestPermission:s,showNotification:i,showOrderNotification:a,showDeliveryNotification:l,showGeneralNotification:u,canNotify:n&&t==="granted"}}var zr=(e=>(e.NEW_ORDER="new-order",e.ORDER_ASSIGNED="order-assigned",e.ORDER_READY="order-ready",e.ORDER_DELIVERED="order-delivered",e.NEW_PRODUCT="new-product",e.GENERAL="general",e.CRITICAL="critical",e))(zr||{});const rh={enabled:!0,volume:.8,enableVibration:!0,enableBackgroundNotifications:!0,sounds:{"new-order":{frequency:880,duration:400,pattern:"triple",volume:.9,vibration:[400,200,400,200,400],repeatCount:3,repeatInterval:2e3},"order-assigned":{frequency:660,duration:300,pattern:"double",volume:.8,vibration:[300,150,300],repeatCount:2,repeatInterval:1500},"order-ready":{frequency:1108,duration:250,pattern:"double",volume:.8,vibration:[250,100,250],repeatCount:2,repeatInterval:1e3},"order-delivered":{frequency:440,duration:500,pattern:"single",volume:.7,vibration:[500],repeatCount:1,repeatInterval:0},"new-product":{frequency:784,duration:200,pattern:"single",volume:.7,vibration:[200],repeatCount:1,repeatInterval:0},general:{frequency:523,duration:300,pattern:"single",volume:.7,vibration:[300],repeatCount:1,repeatInterval:0},critical:{frequency:1e3,duration:600,pattern:"continuous",volume:1,vibration:[600,200,600,200,600],repeatCount:5,repeatInterval:1e3}}};function UE(){var w;const{user:e}=no(),{showGeneralNotification:t,requestPermission:r}=zE(),n=h.useRef(null),o=h.useRef(rh),s=h.useRef(new Map),[i,a]=h.useState(rh.enabled);h.useEffect(()=>((async()=>{try{const g=window.AudioContext||window.webkitAudioContext;g&&!n.current&&(n.current=new g({latencyHint:"interactive",sampleRate:44100}),console.log("✅ AudioContext inicializado correctamente")),await r()&&console.log("✅ Permisos de notificación concedidos");const _=()=>{n.current&&n.current.state==="suspended"&&n.current.resume().then(()=>{console.log("✅ AudioContext reactivado por interacción del usuario")})};document.addEventListener("click",_,{once:!0}),document.addEventListener("touchstart",_,{once:!0}),document.addEventListener("keydown",_,{once:!0})}catch(g){console.error("❌ Error inicializando sistema de audio:",g)}})(),()=>{if(s.current.forEach(g=>{clearTimeout(g)}),s.current.clear(),n.current&&n.current.state!=="closed")try{n.current.close().catch(console.warn)}catch(g){console.warn("Error cerrando AudioContext:",g)}}),[r]);const l=h.useCallback((m,g)=>{if(!o.current.enabled||!n.current){console.warn("Sistema de sonido deshabilitado o AudioContext no disponible");return}const v={...o.current.sounds[m],...g},_=n.current;if(_.state==="closed"){console.warn("AudioContext cerrado, no se puede reproducir sonido");return}_.state==="suspended"&&_.resume().catch(console.warn);const k=`${m}-repeat`;s.current.has(k)&&(clearTimeout(s.current.get(k)),s.current.delete(k));const E=(C=0)=>{setTimeout(()=>{try{if(_.state==="closed")return;const L=_.createOscillator(),P=_.createGain();L.connect(P),P.connect(_.destination),L.frequency.value=v.frequency,L.type="sine",P.gain.setValueAtTime(0,_.currentTime),P.gain.linearRampToValueAtTime(v.volume*o.current.volume,_.currentTime+.01),P.gain.exponentialRampToValueAtTime(.01,_.currentTime+v.duration/1e3),L.start(_.currentTime),L.stop(_.currentTime+v.duration/1e3)}catch(L){console.warn("Error reproduciendo tono:",L)}},C)},S=()=>{switch(v.pattern){case"single":E();break;case"double":E(),E(v.duration+150);break;case"triple":E(),E(v.duration+150),E((v.duration+150)*2);break;case"continuous":for(let C=0;C<3;C++)E(C*(v.duration+100));break}if(o.current.enableVibration&&v.vibration&&"vibrate"in navigator)try{navigator.vibrate(v.vibration)}catch(C){console.warn("Error activando vibración:",C)}};if(S(),v.repeatCount&&v.repeatCount>1&&v.repeatInterval){let C=1;const L=()=>{if(C<v.repeatCount){const P=setTimeout(()=>{S(),C++,L()},v.repeatInterval);s.current.set(k,P)}};L()}},[]),u=h.useCallback(async(m,g,v={})=>{try{l(m,v.customSound),o.current.enableBackgroundNotifications&&await t(g,v.body||"",{requireInteraction:v.requireInteraction||!1,...v.data}),qr.success(g,{description:v.body,duration:5e3})}catch(_){console.error("Error en notificación completa:",_)}},[l,t,o.current.enableBackgroundNotifications]),d=h.useCallback(m=>{console.log(`🔊 Probando sonido: ${m}`),l(m)},[l]),c=h.useCallback(()=>{s.current.forEach(m=>{clearTimeout(m)}),s.current.clear(),console.log("🔇 Todos los sonidos detenidos")},[]),p=h.useCallback(()=>{if(!e)return()=>{};console.log(`🔊 Configurando notificaciones sonoras para: ${e.role}`);let m=null;switch(e.role){case"vendedor":m=B.channel("vendor-advanced-sounds").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders",filter:`seller_id=eq.${e.id}`},g=>{console.log("🛒 Nueva orden con sonido avanzado"),u("new-order","🛒 ¡Nueva Orden Recibida!",{body:`Cliente: ${g.new.customer_name} - Q${g.new.total}`,requireInteraction:!0,data:{orderId:g.new.id}})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`seller_id=eq.${e.id}`},g=>{var k,E;const v=(k=g.old)==null?void 0:k.status,_=(E=g.new)==null?void 0:E.status;v==="ready"&&_==="assigned"&&(console.log("🚚 Repartidor asignado con sonido"),u("order-assigned","🚚 Repartidor Asignado",{body:`Pedido #${g.new.id} en camino`,data:{orderId:g.new.id}}))}).subscribe();break;case"repartidor":m=B.channel("driver-advanced-sounds").on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`driver_id=eq.${e.id}`},g=>{var k,E;const v=(k=g.old)==null?void 0:k.status,_=(E=g.new)==null?void 0:E.status;v!=="assigned"&&_==="assigned"&&(console.log("📦 Nueva entrega asignada con sonido"),u("order-ready","📦 Nueva Entrega Asignada",{body:`Entrega para: ${g.new.customer_name}`,requireInteraction:!0,data:{orderId:g.new.id}}))}).subscribe();break;case"comprador":m=B.channel("buyer-advanced-sounds").on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`user_id=eq.${e.id}`},g=>{var k,E;const v=(k=g.old)==null?void 0:k.status,_=(E=g.new)==null?void 0:E.status;v==="assigned"&&_==="delivered"&&(console.log("✅ Pedido entregado con sonido"),u("order-delivered","✅ ¡Pedido Entregado!",{body:"Tu pedido ha sido entregado exitosamente",data:{orderId:g.new.id}}))}).subscribe();break}return()=>{m&&m.unsubscribe()}},[e,u]);h.useEffect(()=>p(),[p]);const x=h.useCallback(m=>{o.current.enabled=m,a(m),console.log(`🔊 Sonidos ${m?"activados":"desactivados"}`)},[]),b=h.useCallback(m=>{o.current.volume=Math.max(0,Math.min(1,m)),console.log(`🔊 Volumen ajustado a: ${(o.current.volume*100).toFixed(0)}%`)},[]),y=h.useCallback(m=>{o.current.enableVibration=m,console.log(`📳 Vibración ${m?"activada":"desactivada"}`)},[]);return{isEnabled:i,config:o.current,isAudioContextReady:((w=n.current)==null?void 0:w.state)==="running",playAdvancedSound:l,playNotificationWithSound:u,testSound:d,stopAllSounds:c,toggleSounds:x,setVolume:b,toggleVibration:y,isAudioSupported:!!(window.AudioContext||window.webkitAudioContext),isVibrationSupported:"vibrate"in navigator}}function Fn({className:e,...t}){return f.jsx("div",{"data-slot":"card",className:Ne("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function ss({className:e,...t}){return f.jsx("div",{"data-slot":"card-header",className:Ne("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function is({className:e,...t}){return f.jsx("h4",{"data-slot":"card-title",className:Ne("leading-none",e),...t})}function Bn({className:e,...t}){return f.jsx("div",{"data-slot":"card-content",className:Ne("px-6 [&:last-child]:pb-6",e),...t})}function lv(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function uv(e){const[t,r]=h.useState(void 0);return os(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Fc="Switch",[FE,pP]=vs(Fc),[BE,WE]=FE(Fc),cv=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:u,form:d,...c}=e,[p,x]=h.useState(null),b=Ve(t,v=>x(v)),y=h.useRef(!1),w=p?d||!!p.closest("form"):!0,[m=!1,g]=Oc({prop:o,defaultProp:s,onChange:u});return f.jsxs(BE,{scope:r,checked:m,disabled:a,children:[f.jsx(Se.button,{type:"button",role:"switch","aria-checked":m,"aria-required":i,"data-state":hv(m),"data-disabled":a?"":void 0,disabled:a,value:l,...c,ref:b,onClick:Be(e.onClick,v=>{g(_=>!_),w&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),w&&f.jsx(VE,{control:p,bubbles:!y.current,name:n,value:l,checked:m,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});cv.displayName=Fc;var dv="SwitchThumb",fv=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,o=WE(dv,r);return f.jsx(Se.span,{"data-state":hv(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:t})});fv.displayName=dv;var VE=e=>{const{control:t,checked:r,bubbles:n=!0,...o}=e,s=h.useRef(null),i=lv(r),a=uv(t);return h.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&c){const p=new Event("click",{bubbles:n});c.call(l,r),l.dispatchEvent(p)}},[i,r,n]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hv(e){return e?"checked":"unchecked"}var HE=cv,qE=fv;function nh({className:e,...t}){return f.jsx(HE,{"data-slot":"switch",className:Ne("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:f.jsx(qE,{"data-slot":"switch-thumb",className:Ne("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function pv(e,[t,r]){return Math.min(r,Math.max(t,e))}var KE=h.createContext(void 0);function GE(e){const t=h.useContext(KE);return e||t||"ltr"}function YE(e){const t=e+"CollectionProvider",[r,n]=vs(t),[o,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:y}=x,w=T.useRef(null),m=T.useRef(new Map).current;return f.jsx(o,{scope:b,itemMap:m,collectionRef:w,children:y})};i.displayName=t;const a=e+"CollectionSlot",l=T.forwardRef((x,b)=>{const{scope:y,children:w}=x,m=s(a,y),g=Ve(b,m.collectionRef);return f.jsx(Zr,{ref:g,children:w})});l.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",c=T.forwardRef((x,b)=>{const{scope:y,children:w,...m}=x,g=T.useRef(null),v=Ve(b,g),_=s(u,y);return T.useEffect(()=>(_.itemMap.set(g,{ref:g,...m}),()=>void _.itemMap.delete(g))),f.jsx(Zr,{[d]:"",ref:v,children:w})});c.displayName=u;function p(x){const b=s(e+"CollectionConsumer",x);return T.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const m=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((_,k)=>m.indexOf(_.ref.current)-m.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:l,ItemSlot:c},p,n]}var mv=["PageUp","PageDown"],gv=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],vv={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},so="Slider",[Cu,QE,JE]=YE(so),[yv,mP]=vs(so,[JE]),[XE,wa]=yv(so),wv=h.forwardRef((e,t)=>{const{name:r,min:n=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[n],value:d,onValueChange:c=()=>{},onValueCommit:p=()=>{},inverted:x=!1,form:b,...y}=e,w=h.useRef(new Set),m=h.useRef(0),v=i==="horizontal"?ZE:eC,[_=[],k]=Oc({prop:d,defaultProp:u,onChange:I=>{var J;(J=[...w.current][m.current])==null||J.focus(),c(I)}}),E=h.useRef(_);function S(I){const M=sC(_,I);P(I,M)}function C(I){P(I,m.current)}function L(){const I=E.current[m.current];_[m.current]!==I&&p(_)}function P(I,M,{commit:J}={commit:!1}){const Oe=uC(s),me=cC(Math.round((I-n)/s)*s+n,Oe),F=pv(me,[n,o]);k(($=[])=>{const j=nC($,F,M);if(lC(j,l*s)){m.current=j.indexOf(F);const N=String(j)!==String($);return N&&J&&p(j),N?j:$}else return $})}return f.jsx(XE,{scope:e.__scopeSlider,name:r,disabled:a,min:n,max:o,valueIndexToChangeRef:m,thumbs:w.current,values:_,orientation:i,form:b,children:f.jsx(Cu.Provider,{scope:e.__scopeSlider,children:f.jsx(Cu.Slot,{scope:e.__scopeSlider,children:f.jsx(v,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:t,onPointerDown:Be(y.onPointerDown,()=>{a||(E.current=_)}),min:n,max:o,inverted:x,onSlideStart:a?void 0:S,onSlideMove:a?void 0:C,onSlideEnd:a?void 0:L,onHomeKeyDown:()=>!a&&P(n,0,{commit:!0}),onEndKeyDown:()=>!a&&P(o,_.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:M})=>{if(!a){const me=mv.includes(I.key)||I.shiftKey&&gv.includes(I.key)?10:1,F=m.current,$=_[F],j=s*me*M;P($+j,F,{commit:!0})}}})})})})});wv.displayName=so;var[xv,bv]=yv(so,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ZE=h.forwardRef((e,t)=>{const{min:r,max:n,dir:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...d}=e,[c,p]=h.useState(null),x=Ve(t,v=>p(v)),b=h.useRef(void 0),y=GE(o),w=y==="ltr",m=w&&!s||!w&&s;function g(v){const _=b.current||c.getBoundingClientRect(),k=[0,_.width],S=Bc(k,m?[r,n]:[n,r]);return b.current=_,S(v-_.left)}return f.jsx(xv,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:f.jsx(_v,{dir:y,"data-orientation":"horizontal",...d,ref:x,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const _=g(v.clientX);i==null||i(_)},onSlideMove:v=>{const _=g(v.clientX);a==null||a(_)},onSlideEnd:()=>{b.current=void 0,l==null||l()},onStepKeyDown:v=>{const k=vv[m?"from-left":"from-right"].includes(v.key);u==null||u({event:v,direction:k?-1:1})}})})}),eC=h.forwardRef((e,t)=>{const{min:r,max:n,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...u}=e,d=h.useRef(null),c=Ve(t,d),p=h.useRef(void 0),x=!o;function b(y){const w=p.current||d.current.getBoundingClientRect(),m=[0,w.height],v=Bc(m,x?[n,r]:[r,n]);return p.current=w,v(y-w.top)}return f.jsx(xv,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:f.jsx(_v,{"data-orientation":"vertical",...u,ref:c,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const w=b(y.clientY);s==null||s(w)},onSlideMove:y=>{const w=b(y.clientY);i==null||i(w)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:y=>{const m=vv[x?"from-bottom":"from-top"].includes(y.key);l==null||l({event:y,direction:m?-1:1})}})})}),_v=h.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...u}=e,d=wa(so,r);return f.jsx(Se.span,{...u,ref:t,onKeyDown:Be(e.onKeyDown,c=>{c.key==="Home"?(i(c),c.preventDefault()):c.key==="End"?(a(c),c.preventDefault()):mv.concat(gv).includes(c.key)&&(l(c),c.preventDefault())}),onPointerDown:Be(e.onPointerDown,c=>{const p=c.target;p.setPointerCapture(c.pointerId),c.preventDefault(),d.thumbs.has(p)?p.focus():n(c)}),onPointerMove:Be(e.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&o(c)}),onPointerUp:Be(e.onPointerUp,c=>{const p=c.target;p.hasPointerCapture(c.pointerId)&&(p.releasePointerCapture(c.pointerId),s(c))})})}),Sv="SliderTrack",kv=h.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,o=wa(Sv,r);return f.jsx(Se.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...n,ref:t})});kv.displayName=Sv;var Pu="SliderRange",Ev=h.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,o=wa(Pu,r),s=bv(Pu,r),i=h.useRef(null),a=Ve(t,i),l=o.values.length,u=o.values.map(p=>Pv(p,o.min,o.max)),d=l>1?Math.min(...u):0,c=100-Math.max(...u);return f.jsx(Se.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...n,ref:a,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:c+"%"}})});Ev.displayName=Pu;var ju="SliderThumb",Cv=h.forwardRef((e,t)=>{const r=QE(e.__scopeSlider),[n,o]=h.useState(null),s=Ve(t,a=>o(a)),i=h.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return f.jsx(tC,{...e,ref:s,index:i})}),tC=h.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:o,...s}=e,i=wa(ju,r),a=bv(ju,r),[l,u]=h.useState(null),d=Ve(t,g=>u(g)),c=l?i.form||!!l.closest("form"):!0,p=uv(l),x=i.values[n],b=x===void 0?0:Pv(x,i.min,i.max),y=oC(n,i.values.length),w=p==null?void 0:p[a.size],m=w?iC(w,b,a.direction):0;return h.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${b}% + ${m}px)`},children:[f.jsx(Cu.ItemSlot,{scope:e.__scopeSlider,children:f.jsx(Se.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":i.min,"aria-valuenow":x,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:d,style:x===void 0?{display:"none"}:e.style,onFocus:Be(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),c&&f.jsx(rC,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:x},n)]})});Cv.displayName=ju;var rC=e=>{const{value:t,...r}=e,n=h.useRef(null),o=lv(t);return h.useEffect(()=>{const s=n.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(o!==t&&l){const u=new Event("input",{bubbles:!0});l.call(s,t),s.dispatchEvent(u)}},[o,t]),f.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function nC(e=[],t,r){const n=[...e];return n[r]=t,n.sort((o,s)=>o-s)}function Pv(e,t,r){const s=100/(r-t)*(e-t);return pv(s,[0,100])}function oC(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function sC(e,t){if(e.length===1)return 0;const r=e.map(o=>Math.abs(o-t)),n=Math.min(...r);return r.indexOf(n)}function iC(e,t,r){const n=e/2,s=Bc([0,50],[0,n]);return(n-s(t)*r)*r}function aC(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function lC(e,t){if(t>0){const r=aC(e);return Math.min(...r)>=t}return!0}function Bc(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function uC(e){return(String(e).split(".")[1]||"").length}function cC(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var dC=wv,fC=kv,hC=Ev,pC=Cv;function mC({className:e,defaultValue:t,value:r,min:n=0,max:o=100,...s}){const i=h.useMemo(()=>Array.isArray(r)?r:Array.isArray(t)?t:[n,o],[r,t,n,o]);return f.jsxs(dC,{"data-slot":"slider",defaultValue:t,value:r,min:n,max:o,className:Ne("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...s,children:[f.jsx(fC,{"data-slot":"slider-track",className:Ne("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:f.jsx(hC,{"data-slot":"slider-range",className:Ne("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:i.length},(a,l)=>f.jsx(pC,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}var gC="Separator",oh="horizontal",vC=["horizontal","vertical"],jv=h.forwardRef((e,t)=>{const{decorative:r,orientation:n=oh,...o}=e,s=yC(n)?n:oh,a=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return f.jsx(Se.div,{"data-orientation":s,...a,...o,ref:t})});jv.displayName=gC;function yC(e){return vC.includes(e)}var wC=jv;function xC({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return f.jsx(wC,{"data-slot":"separator-root",decorative:r,orientation:t,className:Ne("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function ml({children:e}){const{user:t}=no(),{isEnabled:r,config:n,playAdvancedSound:o,testSound:s,toggleSounds:i,setVolume:a,toggleVibration:l,isAudioSupported:u,isVibrationSupported:d}=UE(),[c,p]=h.useState([]),[x,b]=h.useState(!1),[y,w]=h.useState(!1),[m,g]=h.useState(!1),[v,_]=h.useState(0),k=h.useCallback(async()=>{if(t)try{const{data:P,error:I}=await B.from("notifications").select("*").eq("recipient_id",t.id).order("created_at",{ascending:!1}).limit(20);if(I)throw I;const M=P||[];p(M),_(M.filter(J=>!J.is_read).length)}catch(P){console.error("Error cargando notificaciones:",P)}},[t]),E=h.useCallback(async P=>{try{await B.from("notifications").update({is_read:!0}).eq("id",P),p(I=>I.map(M=>M.id===P?{...M,is_read:!0}:M)),_(I=>Math.max(0,I-1))}catch(I){console.error("Error marcando notificación como leída:",I)}},[]),S=h.useCallback(async P=>{console.log("🔔 Nueva notificación:",P);let I=zr.GENERAL;P.data.sound_type==="new_order"?I=zr.NEW_ORDER:P.data.sound_type==="driver_assigned"?I=zr.ORDER_ASSIGNED:P.data.sound_type==="order_delivered"?I=zr.ORDER_DELIVERED:P.data.sound_type==="order_ready"&&(I=zr.ORDER_READY),o(I),qr(P.title,{description:P.message,duration:5e3}),p(M=>[P,...M.slice(0,19)]),P.is_read||_(M=>M+1)},[o]),C=h.useCallback(()=>{if(!t)return;const P=B.channel(`notifications:${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${t.id}`},async I=>{const M=I.new;await S(M)}).subscribe(I=>{b(I==="SUBSCRIBED"),console.log(`🔗 Suscripción de notificaciones: ${I}`)});return()=>{B.removeChannel(P),b(!1)}},[t,S]),L=h.useCallback(async()=>{if(t)try{await B.from("notifications").insert([{recipient_id:t.id,type:"order",title:"🧪 Prueba de Sonido",message:"Esta es una notificación de prueba del sistema de sonidos",data:{notification_type:"test",sound_type:"new_order",priority:"high"},is_read:!1}]),qr.success("Notificación de prueba enviada")}catch(P){console.error("Error enviando notificación de prueba:",P),qr.error("Error enviando notificación de prueba")}},[t]);return h.useEffect(()=>{setTimeout(async()=>{if(u)try{const I=new(window.AudioContext||window.webkitAudioContext);await I.resume(),I.close(),console.log("🔊 Audio activado automáticamente")}catch(I){console.warn("⚠️ No se pudo activar el audio automáticamente:",I)}},1e3)},[u]),h.useEffect(()=>t?(k(),C()):void 0,[t,k,C]),h.useEffect(()=>{(async()=>{"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()==="granted"&&console.log("✅ Permisos de notificación concedidos")})()},[]),t?f.jsxs("div",{className:"relative",children:[e,y&&f.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:f.jsxs(Fn,{className:"w-full max-w-md bg-white border border-gray-200 shadow-xl",children:[f.jsx(ss,{className:"bg-white",children:f.jsxs(is,{className:"flex items-center gap-2 text-gray-900",children:[f.jsx(lk,{className:"w-5 h-5"}),"Configuración de Sonido"]})}),f.jsxs(Bn,{className:"space-y-4 bg-white text-gray-900",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Notificaciones sonoras"}),f.jsx(nh,{checked:r,onCheckedChange:i})]}),r&&f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{className:"text-sm font-medium text-gray-900",children:["Volumen (",Math.round(n.volume*100),"%)"]}),f.jsx(mC,{value:[n.volume],onValueChange:([P])=>a(P),min:0,max:1,step:.1})]}),d&&f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{className:"text-sm font-medium",children:"Vibración (móvil)"}),f.jsx(nh,{checked:n.enableVibration,onCheckedChange:l})]}),f.jsx(xC,{}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(ce,{onClick:()=>s(zr.NEW_ORDER),variant:"outline",className:"flex-1",children:[f.jsx(dk,{className:"w-4 h-4 mr-2"}),"Probar Sonido"]}),f.jsxs(ce,{onClick:L,variant:"outline",className:"flex-1",children:[f.jsx(pk,{className:"w-4 h-4 mr-2"}),"Prueba Real"]})]}),f.jsx(ce,{onClick:()=>w(!1),className:"w-full",children:"Cerrar"}),f.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Estado: ",x?f.jsx("span",{className:"text-green-600 font-medium",children:"Conectado ✓"}):f.jsx("span",{className:"text-red-600 font-medium",children:"Desconectado ✗"})]}),f.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[f.jsxs("div",{children:["Audio: ",u?"✓":"✗"]}),f.jsxs("div",{children:["Vibración: ",d?"✓":"✗"]})]})]})]})}),m&&f.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:f.jsxs(Fn,{className:"w-full max-w-md max-h-96 bg-white border border-gray-200 shadow-xl",children:[f.jsx(ss,{className:"bg-white",children:f.jsxs(is,{className:"flex items-center gap-2 text-gray-900",children:[f.jsx(GS,{className:"w-5 h-5"}),"Notificaciones",v>0&&f.jsx(DE,{variant:"destructive",children:v})]})}),f.jsxs(Bn,{className:"bg-white",children:[f.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:c.length===0?f.jsx("p",{className:"text-center text-gray-600 py-4",children:"No hay notificaciones"}):c.map(P=>f.jsx("div",{className:`p-3 rounded-lg border ${P.is_read?"bg-gray-50 border-gray-200 text-gray-700":"bg-blue-50 border-blue-200 text-gray-900"}`,children:f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-medium text-sm text-gray-900",children:P.title}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.message}),f.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(P.created_at).toLocaleTimeString()})]}),!P.is_read&&f.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>E(P.id),className:"text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:"Marcar leída"})]})},P.id))}),f.jsx("div",{className:"pt-4 border-t border-gray-200",children:f.jsx(ce,{onClick:()=>g(!1),className:"w-full bg-white text-gray-900 border border-gray-300 hover:bg-gray-50",children:"Cerrar"})})]})]})}),!1]}):f.jsx(f.Fragment,{children:e})}var Wc="Progress",Vc=100,[bC,gP]=vs(Wc),[_C,SC]=bC(Wc),Nv=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:o,getValueLabel:s=kC,...i}=e;(o||o===0)&&!sh(o)&&console.error(EC(`${o}`,"Progress"));const a=sh(o)?o:Vc;n!==null&&!ih(n,a)&&console.error(CC(`${n}`,"Progress"));const l=ih(n,a)?n:null,u=Vi(l)?s(l,a):void 0;return f.jsx(_C,{scope:r,value:l,max:a,children:f.jsx(Se.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Vi(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":Av(l,a),"data-value":l??void 0,"data-max":a,...i,ref:t})})});Nv.displayName=Wc;var Rv="ProgressIndicator",Tv=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,o=SC(Rv,r);return f.jsx(Se.div,{"data-state":Av(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});Tv.displayName=Rv;function kC(e,t){return`${Math.round(e/t*100)}%`}function Av(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Vi(e){return typeof e=="number"}function sh(e){return Vi(e)&&!isNaN(e)&&e>0}function ih(e,t){return Vi(e)&&!isNaN(e)&&e<=t&&e>=0}function EC(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Vc}\`.`}function CC(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Vc} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var PC=Nv,jC=Tv;function NC({className:e,value:t,...r}){return f.jsx(PC,{"data-slot":"progress",className:Ne("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:f.jsx(jC,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function RC(){const[e,t]=h.useState({isSupported:!1,isRegistered:!1,isInstalling:!1,hasUpdate:!1,registration:null,error:null}),[r,n]=h.useState({isSubscribed:!1,subscription:null,isSubscribing:!1,publicKey:null});h.useEffect(()=>{const u="serviceWorker"in navigator&&"PushManager"in window;if(t(d=>({...d,isSupported:u})),!u){console.log("❌ Service Worker o Push no soportados en este navegador");return}o()},[]);const o=h.useCallback(async()=>{if("serviceWorker"in navigator)try{t(d=>({...d,isInstalling:!0,error:null}));const u=await navigator.serviceWorker.register("/sw.js",{scope:"/",updateViaCache:"none"});console.log("✅ Service Worker registrado:",u.scope),u.addEventListener("updatefound",()=>{console.log("🔄 Actualización de Service Worker encontrada"),t(d=>({...d,hasUpdate:!0}))}),u.waiting&&(console.log("⏳ Service Worker esperando activación"),t(d=>({...d,hasUpdate:!0}))),t(d=>({...d,isRegistered:!0,isInstalling:!1,registration:u})),s(u)}catch(u){console.error("❌ Error registrando Service Worker:",u),t(d=>({...d,isInstalling:!1,error:`Error: ${u}`}))}},[]),s=h.useCallback(async u=>{try{const d=await u.pushManager.getSubscription();if(d){console.log("📱 Push subscription existente encontrada"),n(c=>({...c,isSubscribed:!0,subscription:d}));return}console.log("📱 No hay subscription existente")}catch(d){console.error("❌ Error verificando push subscription:",d)}},[]),i=h.useCallback(async()=>{if(!(!e.registration||r.isSubscribing))try{if(n(p=>({...p,isSubscribing:!0})),await Notification.requestPermission()!=="granted")throw new Error("Permisos de notificación denegados");const d="BEl62iUYgUivxIkv69yViEuiBIa40HI95Q2xJlOJYhGjBZOYz-BxVg5QvTZA7qrKAOOoJHXHaYINqkC_8G5pnEw",c=await e.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:TC(d)});console.log("✅ Suscripción push creada:",c),await AC(c),n(p=>({...p,isSubscribed:!0,subscription:c,isSubscribing:!1,publicKey:d}))}catch(u){console.error("❌ Error suscribiendo a push:",u),n(d=>({...d,isSubscribing:!1}))}},[e.registration,r.isSubscribing]),a=h.useCallback(async()=>{if(r.subscription)try{await r.subscription.unsubscribe(),await IC(r.subscription),n(u=>({...u,isSubscribed:!1,subscription:null})),console.log("✅ Push subscription cancelada")}catch(u){console.error("❌ Error cancelando push subscription:",u)}},[r.subscription]),l=h.useCallback(()=>{var u;(u=e.registration)!=null&&u.waiting&&(e.registration.waiting.postMessage({type:"SKIP_WAITING"}),t(d=>({...d,hasUpdate:!1})),setTimeout(()=>{window.location.reload()},1e3))},[e.registration]);return h.useEffect(()=>{if(!("serviceWorker"in navigator))return;const u=d=>{console.log("📨 Mensaje del Service Worker:",d.data);const{type:c,data:p}=d.data;switch(c){case"NOTIFICATION_CLICK":console.log("👆 Click en notificación:",p);break;case"NOTIFICATION_RECEIVED":console.log("📱 Notificación recibida:",p);break;case"NOTIFICATION_PERMISSION_RESULT":console.log("🔔 Resultado permisos:",p);break}};return navigator.serviceWorker.addEventListener("message",u),()=>{navigator.serviceWorker.removeEventListener("message",u)}},[]),{serviceWorker:e,push:r,subscribeToPush:i,unsubscribeFromPush:a,activateUpdate:l,isReady:e.isRegistered&&e.isSupported}}function TC(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),o=new Uint8Array(n.length);for(let s=0;s<n.length;++s)o[s]=n.charCodeAt(s);return o}async function AC(e){try{console.log("📡 Enviando subscription al servidor:",e),localStorage.setItem("push_subscription",JSON.stringify(e))}catch(t){throw console.error("❌ Error enviando subscription:",t),t}}async function IC(e){try{console.log("🗑️ Removiendo subscription del servidor"),localStorage.removeItem("push_subscription")}catch(t){throw console.error("❌ Error removiendo subscription:",t),t}}const ur=({...e})=>f.jsx(OE,{className:"toaster group",position:"bottom-right",offset:"80px",toastOptions:{duration:2e3,style:{background:"white",color:"black",border:"1px solid #e5e7eb",fontSize:"14px",padding:"8px 12px",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",maxWidth:"200px",right:"20px",bottom:"90px"},classNames:{toast:"group toast !bg-white !text-black !border-gray-200 !shadow-sm !text-sm !p-2 !rounded-md !max-w-[200px]",description:"group-[.toast]:text-gray-700 !text-xs",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e}),OC=h.lazy(()=>_e(()=>import("./WelcomeScreen-D-4-X44_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(e=>({default:e.WelcomeScreen}))),LC=h.lazy(()=>_e(()=>import("./RoleSelection-Be0fJwJv.js"),__vite__mapDeps([14,3,15,4,16,11,12,7,13,5])).then(e=>({default:e.RoleSelection}))),$C=h.lazy(()=>_e(()=>import("./RegistrationForm-CRV9_3jf.js"),__vite__mapDeps([17,1,18,2,19,20,15,10,12,11,21])).then(e=>({default:e.RegistrationForm}))),DC=h.lazy(()=>_e(()=>import("./ProfileRecovery-DNmW95CO.js"),__vite__mapDeps([22,1,18,2,19,20,23,24,25,26,27,12,11,21])).then(e=>({default:e.ProfileRecovery}))),MC=h.lazy(()=>_e(()=>import("./OrphanedUserDiagnostic-Bp-YyMK7.js"),__vite__mapDeps([28,26,29,23,30])).then(e=>({default:e.OrphanedUserDiagnostic}))),zC=h.lazy(()=>_e(()=>import("./BuyerDashboard-CG-f1FLr.js"),__vite__mapDeps([31,32,23,16,33,12,7,5,34,1,20,11,13,4,29,18,19,35,25,36,2,8,6,26,27,21,9,15,37,38,24])).then(e=>({default:e.BuyerDashboard}))),UC=h.lazy(()=>_e(()=>import("./SellerDashboard-Werf7gOx.js"),__vite__mapDeps([39,19,32,23,16,1,18,2,20,15,40,27,5,33,12,7,35,10,25,36,11,37,4,8,41,29,30,26,24,21,13])).then(e=>({default:e.SellerDashboard}))),FC=h.lazy(()=>_e(()=>import("./SimpleNotificationTest-BK_GiAyV.js"),[]).then(e=>({default:e.SimpleNotificationTest}))),BC=h.lazy(()=>_e(()=>import("./DriverDashboard-_2I82D3H.js"),__vite__mapDeps([42,32,23,16,1,2,18,20,26,36,13,4,40,38,5,12,24,43])).then(e=>({default:e.DriverDashboard}))),WC=h.lazy(()=>_e(()=>import("./DiagnosticPage-Cz-HrAXx.js"),__vite__mapDeps([44,19,29,41,9,4,37])).then(e=>({default:e.DiagnosticPage}))),VC=h.lazy(()=>_e(()=>import("./SetupPage-8tOjc6Xi.js"),[]).then(e=>({default:e.SetupPage}))),HC=h.lazy(async()=>({default:(await _e(()=>import("./DiagnosticProbe-TQFBinxd.js"),[])).default})),qC=h.lazy(()=>_e(()=>import("./AdminDashboard-A6wteBlG.js"),__vite__mapDeps([45,1,32,23,16,20,35,3,7,12,43,29,5,34,11,6,46,25])).then(e=>({default:e.AdminDashboard}))),ah=h.lazy(()=>_e(()=>import("./AdminSetup-bQz-GTsu.js"),__vite__mapDeps([47,3,46,6])).then(e=>({default:e.AdminSetup})));function KC(){return h.useEffect(()=>{let e="";try{e=new URL(Bi.url).origin}catch{}const t=[{name:"theme-color",content:"#f97316"},{name:"mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"default"},{name:"apple-mobile-web-app-title",content:"TRATO"},{name:"msapplication-TileColor",content:"#f97316"},{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}],r=[{rel:"manifest",href:"/manifest.webmanifest"},{rel:"apple-touch-icon",href:"/assets/trato-logo.png"},{rel:"icon",href:"/assets/trato-logo.png"}];if(e&&(r.push({rel:"preconnect",href:e}),r.push({rel:"dns-prefetch",href:e})),t.forEach(({name:n,content:o})=>{let s=document.querySelector(`meta[name="${n}"]`);s||(s=document.createElement("meta"),s.setAttribute("name",n),document.head.appendChild(s)),s.setAttribute("content",o)}),r.forEach(({rel:n,href:o})=>{let s=document.querySelector(`link[rel="${n}"]`);s||(s=document.createElement("link"),s.setAttribute("rel",n),document.head.appendChild(s)),s.setAttribute("href",o)}),!document.querySelector('script[src="/sound-notifications-activator.js"]')){const n=document.createElement("script");n.src="/sound-notifications-activator.js",n.async=!0,document.head.appendChild(n),console.log("🔊 Script de notificaciones sonoras cargado")}document.title="TRATO - Mercado Local Gualán"},[]),null}function GC({error:e,resetError:t}){return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:f.jsxs(Fn,{className:"w-full max-w-md border-red-200",children:[f.jsxs(ss,{className:"text-center",children:[f.jsx("div",{className:"bg-red-100 p-3 rounded-full w-16 h-16 mx-auto mb-4",children:f.jsx(Co,{className:"w-10 h-10 text-red-600"})}),f.jsx(is,{className:"text-red-800",children:"Error Inesperado"})]}),f.jsxs(Bn,{className:"space-y-4",children:[f.jsx("p",{className:"text-red-700 text-sm",children:"Ocurrió un error inesperado en la aplicación."}),f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:f.jsx("p",{className:"text-xs text-red-600 font-mono",children:e.message})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ce,{onClick:t,variant:"outline",className:"flex-1",children:"Reintentar"}),f.jsx(ce,{onClick:()=>window.location.reload(),className:"flex-1",children:"Recargar App"})]})]})]})})}function Ee(){const{serviceWorker:e,activateUpdate:t}=RC();return e.hasUpdate?f.jsx("div",{className:"bg-orange-500 text-white p-3 text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx(Kg,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Nueva actualización disponible"}),f.jsx(ce,{onClick:t,size:"sm",variant:"secondary",className:"ml-2 bg-white text-orange-500 hover:bg-gray-100",children:"Actualizar"})]})}):null}function YC(){var S;const{user:e,session:t,loading:r,isRegistering:n,registrationProgress:o,registrationStep:s,orphanedUser:i}=no(),[a,l]=h.useState("welcome"),[u,d]=h.useState(null),[c,p]=h.useState(!1),[x,b]=h.useState(!1),[y,w]=h.useState(null);if(!Mn.hasEnv)return f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 flex items-center justify-center p-4",children:f.jsxs(Fn,{className:"w-full max-w-2xl border-yellow-200",children:[f.jsxs(ss,{className:"text-center",children:[f.jsx("div",{className:"bg-yellow-100 p-3 rounded-full w-16 h-16 mx-auto mb-4",children:f.jsx(Co,{className:"w-10 h-10 text-yellow-600"})}),f.jsxs(is,{className:"flex items-center justify-center gap-2 text-yellow-800",children:[f.jsx(Co,{className:"w-5 h-5"}),"Configuración de Supabase Requerida"]})]}),f.jsxs(Bn,{className:"space-y-4",children:[f.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[f.jsx("p",{className:"text-yellow-800 font-medium mb-2",children:"Variables de entorno no configuradas"}),f.jsx("p",{className:"text-yellow-700 text-sm",children:"La aplicación necesita que configures las credenciales de Supabase para funcionar correctamente."})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"font-semibold text-gray-900",children:"Para desarrollo local:"}),f.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-sm space-y-2",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded",children:"1"}),f.jsxs("p",{children:["Edita el archivo ",f.jsx("code",{className:"bg-gray-100 px-1 rounded",children:".env.local"})," en la raíz del proyecto"]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded",children:"2"}),f.jsx("p",{children:"Agrega tus credenciales de Supabase (URL y ANON_KEY)"})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded",children:"3"}),f.jsx("p",{children:"Reinicia el servidor de desarrollo"})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"font-semibold text-gray-900",children:"Para producción (Vercel):"}),f.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-sm space-y-2",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded",children:"1"}),f.jsxs("p",{children:["Ve a ",f.jsx("strong",{children:"Vercel Dashboard"})," → ",f.jsx("strong",{children:"Project Settings"})," → ",f.jsx("strong",{children:"Environment Variables"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded",children:"2"}),f.jsxs("p",{children:["Agrega ",f.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"VITE_SUPABASE_URL"})," y ",f.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"VITE_SUPABASE_ANON_KEY"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded",children:"3"}),f.jsx("p",{children:"Redespliega la aplicación"})]})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs(ce,{onClick:()=>window.location.reload(),className:"flex-1",children:[f.jsx(Kg,{className:"w-4 h-4 mr-2"}),"Recargar Aplicación"]}),f.jsx(ce,{onClick:()=>window.open("https://supabase.com/dashboard","_blank"),variant:"outline",className:"flex-1",children:"Abrir Supabase"})]}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"text-sm text-gray-600",children:["Consulta ",f.jsx("code",{className:"bg-gray-100 px-1 rounded",children:".env.example"})," para más detalles"]})})]})]})})]});const m=h.useMemo(()=>["PGRST205","PGRST204","PGRST301","PGRST116","PGRST200","42P01","42883","42P02","42703","28P01","3D000","28000"],[]),g=h.useCallback(async()=>{try{const{error:C}=await B.from("users").select("*",{count:"exact",head:!0});C?(m.includes(C.code)||C.message.toLowerCase().includes("table")||C.message.toLowerCase().includes("relation")||C.message.toLowerCase().includes("schema")||C.message.toLowerCase().includes("column"))&&p(!0):p(!1)}catch(C){console.warn("Database connectivity check failed:",C),p(!0)}},[m]);h.useEffect(()=>{const C=new URLSearchParams(window.location.search);C.get("diag")==="1"&&l("diagnostic"),C.get("setup")==="1"&&l("setup"),(lg.isDevelopment||C.get("diag")==="1")&&(I=>window.requestIdleCallback?window.requestIdleCallback(I):setTimeout(I,250))(()=>{g()})},[g]),h.useEffect(()=>{let C=null;return n?(b(!1),C=setTimeout(()=>{b(!0)},15e3)):b(!1),()=>{C&&clearTimeout(C)}},[n]),h.useEffect(()=>{const C=P=>{var I,M,J;console.error("Global error caught:",P.error),P.error&&!((I=P.error.message)!=null&&I.includes("ServiceWorker"))&&!((M=P.error.message)!=null&&M.includes("user_id does not exist"))&&!((J=P.error.message)!=null&&J.includes("relationship between"))&&w(P.error)},L=P=>{var I,M,J;console.error("Unhandled promise rejection:",P.reason),P.reason instanceof Error&&!((I=P.reason.message)!=null&&I.includes("ServiceWorker"))&&!((M=P.reason.message)!=null&&M.includes("user_id does not exist"))&&!((J=P.reason.message)!=null&&J.includes("relationship between"))&&w(P.reason)};return window.addEventListener("error",C),window.addEventListener("unhandledrejection",L),()=>{window.removeEventListener("error",C),window.removeEventListener("unhandledrejection",L)}},[]),h.useEffect(()=>{!Mn.hasEnv&&Mn.isProd&&qr.error("Producción está usando claves de fallback. Configura VITE_SUPABASE_URL y VITE_SUPABASE_ANON_KEY en Vercel → Project Settings → Environment Variables.")},[]);const v=h.useCallback(()=>{w(null)},[]),_=h.useCallback(C=>{d(C),l("register")},[]),k=h.useCallback(()=>{l("role-selection"),d(null)},[]),E=h.useCallback(()=>{l("welcome"),d(null)},[]);if(y)return f.jsx(GC,{error:y,resetError:v});if(a==="orphaned-diagnostic")return f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsx(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(nt,{className:"w-8 h-8 animate-spin text-orange-500"})}),children:f.jsx(MC,{})})]});if(i&&!e&&!r&&!n)return i.email==="trato.app1984@gmail.com"?f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsx(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(nt,{className:"w-8 h-8 animate-spin text-orange-500"})}),children:f.jsx(ah,{})})]}):f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50",children:[f.jsx("div",{className:"bg-white border-b border-yellow-200 shadow-sm",children:f.jsx("div",{className:"container mx-auto px-4 py-2",children:f.jsx("div",{className:"flex justify-center",children:f.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>l("orphaned-diagnostic"),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[f.jsx(Yf,{className:"w-4 h-4 mr-2"}),"Ver Diagnóstico Detallado"]})})})}),f.jsx(DC,{})]})]});if(n)return((S=t==null?void 0:t.user)==null?void 0:S.email)==="trato.app1984@gmail.com"?f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsx(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(nt,{className:"w-8 h-8 animate-spin text-orange-500"})}),children:f.jsx(ah,{})})]}):f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-green-50 flex items-center justify-center",children:f.jsx(Fn,{className:"w-full max-w-md",children:f.jsxs(Bn,{className:"p-8 text-center",children:[f.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-green-500 p-4 rounded-full w-16 h-16 mx-auto mb-6",children:o===100?f.jsx(JS,{className:"w-8 h-8 text-white"}):f.jsx(nt,{className:"w-8 h-8 text-white animate-spin"})}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o===100?"¡Registro Completado!":"Creando tu cuenta..."}),f.jsx("p",{className:"text-gray-600",children:s||"Iniciando proceso de registro..."}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(NC,{value:Math.max(0,Math.min(100,o||0)),className:"h-3"}),f.jsxs("p",{className:"text-sm text-gray-500",children:[Math.max(0,Math.min(100,o||0)),"% completado"]})]}),x&&o<100&&f.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-4",children:[f.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ El registro está tomando más tiempo del esperado."}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsx(ce,{onClick:()=>window.location.reload(),variant:"outline",size:"sm",children:"Reintentar"}),f.jsxs(ce,{onClick:()=>l("orphaned-diagnostic"),variant:"outline",size:"sm",className:"text-blue-600",children:[f.jsx(Yf,{className:"w-3 h-3 mr-1"}),"Diagnosticar"]})]})]}),o===100&&f.jsx("p",{className:"text-sm text-green-600 font-medium",children:"🎉 Redirigiendo a tu dashboard..."})]})]})})})]});if(r)return f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-green-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})})]});if(c&&a!=="diagnostic")return f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:f.jsxs(Fn,{className:"w-full max-w-2xl border-red-200",children:[f.jsxs(ss,{className:"text-center",children:[f.jsx("div",{className:"bg-red-100 p-3 rounded-full w-16 h-16 mx-auto mb-4",children:f.jsx(ZS,{className:"w-10 h-10 text-red-600"})}),f.jsxs(is,{className:"flex items-center justify-center gap-2 text-red-800",children:[f.jsx(Co,{className:"w-5 h-5"}),"Configuración de Base de Datos Requerida"]})]}),f.jsxs(Bn,{className:"space-y-4",children:[f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[f.jsx("p",{className:"text-red-800 font-medium mb-2",children:"Error detectado: Tablas de base de datos no encontradas"}),f.jsx("p",{className:"text-red-700 text-sm",children:"Tu base de datos Supabase necesita ser configurada antes de usar la aplicación. Esto es normal en la primera instalación."})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"font-semibold text-gray-900",children:"Solución rápida (5 minutos):"}),f.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-sm space-y-2",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded",children:"1"}),f.jsxs("p",{children:["Ve a ",f.jsx("strong",{children:"Supabase Dashboard"})," → ",f.jsx("strong",{children:"SQL Editor"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded",children:"2"}),f.jsxs("p",{children:["Ejecuta el contenido completo de ",f.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"/database/fix_setup.sql"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded",children:"3"}),f.jsxs("p",{children:["Desactiva la verificación de email en ",f.jsx("strong",{children:"Authentication → Settings"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded",children:"4"}),f.jsx("p",{children:"Recarga esta página"})]})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs(ce,{onClick:()=>l("diagnostic"),variant:"outline",className:"flex-1",children:[f.jsx(Co,{className:"w-4 h-4 mr-2"}),"Ver Diagnóstico Detallado"]}),f.jsx(ce,{onClick:()=>{g(),window.location.reload()},className:"flex-1",children:"Recargar Aplicación"})]}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"text-sm text-gray-600",children:["Si necesitas ayuda, consulta ",f.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"FIX_DATABASE_ERROR.md"})]})})]})]})})]});if(a==="diagnostic")return f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsxs(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(nt,{className:"w-8 h-8 animate-spin text-orange-500"})}),children:[f.jsx(WC,{}),f.jsx(HC,{})]})]});if(a==="setup")return f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsx(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(nt,{className:"w-8 h-8 animate-spin text-orange-500"})}),children:f.jsx(VC,{})})]});if(e){if(e.email==="trato.app1984@gmail.com")return f.jsx(Xs,{children:f.jsxs(Js,{children:[f.jsx(Ee,{}),f.jsx(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(nt,{className:"w-8 h-8 animate-spin text-orange-500"})}),children:f.jsx(qC,{})}),f.jsx(ur,{})]})});switch(e.role){case"comprador":return f.jsx(Xs,{children:f.jsx(aE,{children:f.jsx(Js,{children:f.jsxs(ml,{children:[f.jsx(Ee,{}),f.jsx(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(nt,{className:"w-8 h-8 animate-spin text-orange-500"})}),children:f.jsx(zC,{})}),f.jsx(ur,{})]})})})});case"vendedor":return f.jsx(Xs,{children:f.jsx(Js,{children:f.jsxs(ml,{children:[f.jsx(Ee,{}),f.jsx(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(nt,{className:"w-8 h-8 animate-spin text-orange-500"})}),children:typeof window<"u"&&window.location.search.includes("debug=notifications")?f.jsx(FC,{}):f.jsx(UC,{})}),f.jsx(ur,{})]})})});case"repartidor":return f.jsx(Xs,{children:f.jsx(Js,{children:f.jsxs(ml,{children:[f.jsx(Ee,{}),f.jsx(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(nt,{className:"w-8 h-8 animate-spin text-orange-500"})}),children:f.jsx(BC,{})}),f.jsx(ur,{})]})})});default:return f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-green-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-gray-600 text-lg",children:"Rol de usuario no reconocido"}),f.jsx(ce,{onClick:E,className:"mt-4",children:"Volver al inicio"})]})}),f.jsx(ur,{})]})}}return a==="role-selection"?f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsx(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(nt,{className:"w-8 h-8 animate-spin text-orange-500"})}),children:f.jsx(LC,{onSelectRole:_,onBack:E})}),f.jsx(ur,{})]}):a==="register"?u?f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsx(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(nt,{className:"w-8 h-8 animate-spin text-orange-500"})}),children:f.jsx($C,{role:u,onBack:k})}),f.jsx(ur,{})]}):(l("role-selection"),null):f.jsxs("div",{children:[f.jsx(Ee,{}),f.jsx(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(nt,{className:"w-8 h-8 animate-spin text-orange-500"})}),children:f.jsx(OC,{onRegisterClick:()=>l("role-selection")})}),f.jsx(ur,{})]})}function QC(){return f.jsx(Ox,{children:f.jsx(p1,{children:f.jsxs(iE,{children:[f.jsx("style",{children:`
          /* ESTILOS MÓVILES CRÍTICOS PARA TRATO APP */
          input, textarea, select {
            background-color: #ffffff !important;
            color: #000000 !important;
            border: 2px solid #d1d5db !important;
            font-size: 16px !important;
            padding: 12px !important;
            border-radius: 8px !important;
            min-height: 44px !important;
          }
          
          input:focus, textarea:focus, select:focus {
            background-color: #ffffff !important;
            color: #000000 !important;
            border-color: #f97316 !important;
            outline: none !important;
            box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1) !important;
          }
          
          input::placeholder, textarea::placeholder {
            color: #6b7280 !important;
            opacity: 1 !important;
          }
          
          @media (max-width: 768px) {
            body {
              font-size: 16px !important;
              line-height: 1.5 !important;
            }
            
            h1 { font-size: 24px !important; }
            h2 { font-size: 20px !important; }
            h3 { font-size: 18px !important; }
            h4 { font-size: 16px !important; }
            
            p, span, div {
              font-size: 16px !important;
            }
            
            button {
              min-height: 44px !important;
              font-size: 16px !important;
              padding: 12px 16px !important;
            }
            
            .text-xs { font-size: 14px !important; }
            .text-sm { font-size: 16px !important; }
            .text-base { font-size: 18px !important; }
          }
          
          .mobile-bottom-nav {
            position: fixed !important;
            bottom: 0 !important;
            left: 0 !important;
            right: 0 !important;
            background: white !important;
            border-top: 2px solid #e5e7eb !important;
            padding: 12px !important;
            z-index: 50 !important;
            box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1) !important;
          }
          
          .main-content {
            padding-bottom: 80px !important;
          }
          
          /* Estilos específicos para VerificationAlert */
          @media (max-width: 768px) {
            .verification-alert {
              margin: 16px !important;
              padding: 16px !important;
              border-radius: 12px !important;
              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
            }
            
            .verification-alert h4 {
              font-size: 18px !important;
              font-weight: 600 !important;
              line-height: 1.3 !important;
              margin-bottom: 8px !important;
            }
            
            .verification-alert .alert-description {
              font-size: 14px !important;
              line-height: 1.4 !important;
              margin-bottom: 12px !important;
            }
            
            .verification-progress {
              margin-top: 12px !important;
            }
            
            .verification-progress-label {
              font-size: 12px !important;
              font-weight: 500 !important;
              margin-bottom: 6px !important;
            }
            
            .verification-progress-bar {
              height: 8px !important;
              border-radius: 4px !important;
              overflow: hidden !important;
            }
            
            .verification-button {
              width: 100% !important;
              min-height: 48px !important;
              font-size: 16px !important;
              font-weight: 600 !important;
              border-radius: 8px !important;
              margin-top: 16px !important;
            }
            
            /* Estilos específicos para Gestión de Productos */
            .products-section {
              padding: 16px !important;
            }
            
            .products-header h2 {
              font-size: 20px !important;
              line-height: 1.2 !important;
              text-align: center !important;
              margin-bottom: 8px !important;
            }
            
            .products-header p {
              font-size: 14px !important;
              text-align: center !important;
              margin-bottom: 16px !important;
            }
            
            .products-tabs [role="tablist"] {
              height: auto !important;
              padding: 4px !important;
            }
            
            .products-tabs [role="tab"] {
              min-height: 44px !important;
              font-size: 14px !important;
              padding: 8px 4px !important;
              white-space: nowrap !important;
            }
            
            .products-grid {
              grid-template-columns: 1fr !important;
              gap: 16px !important;
              padding: 0 8px !important;
            }
            
            /* Estilos específicos para Gestión de Pedidos */
            .orders-section {
              padding: 16px !important;
            }
            
            .orders-header h2 {
              font-size: 20px !important;
              line-height: 1.2 !important;
              text-align: center !important;
              margin-bottom: 8px !important;
            }
            
            .orders-header p {
              font-size: 14px !important;
              text-align: center !important;
              margin-bottom: 16px !important;
            }
            
            .orders-filters select {
              min-height: 44px !important;
              font-size: 14px !important;
              background-color: white !important;
              border: 2px solid #d1d5db !important;
            }
            
            .order-card {
              margin-bottom: 16px !important;
              border-radius: 12px !important;
              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
            }
            
            .order-card h3 {
              font-size: 16px !important;
              line-height: 1.3 !important;
            }
            
            .order-card .customer-info {
              background-color: #f9fafb !important;
              border: 1px solid #e5e7eb !important;
              border-radius: 8px !important;
              padding: 12px !important;
            }
            
            .order-actions button {
              min-height: 40px !important;
              font-size: 12px !important;
              font-weight: 600 !important;
              width: 100% !important;
              margin-bottom: 8px !important;
            }
            
            /* Estilos específicos para Perfil del Vendedor */
            .seller-profile {
              padding: 16px !important;
            }
            
            .seller-profile h2,
            .seller-profile h3 {
              font-size: 20px !important;
              line-height: 1.2 !important;
              text-align: center !important;
              margin-bottom: 16px !important;
              color: #1f2937 !important;
              font-weight: 700 !important;
            }
            
            .seller-profile .form-group {
              margin-bottom: 16px !important;
            }
            
            .seller-profile label {
              font-size: 14px !important;
              font-weight: 600 !important;
              color: #374151 !important;
              margin-bottom: 8px !important;
              display: block !important;
              line-height: 1.3 !important;
            }
            
            .seller-profile input,
            .seller-profile textarea,
            .seller-profile select {
              font-size: 16px !important;
              padding: 12px !important;
              border-radius: 8px !important;
              width: 100% !important;
              min-height: 48px !important;
              line-height: 1.4 !important;
              border: 2px solid #d1d5db !important;
            }
            
            .seller-profile button {
              font-size: 14px !important;
              padding: 12px 16px !important;
              border-radius: 8px !important;
              min-height: 48px !important;
              font-weight: 600 !important;
              width: 100% !important;
              margin-top: 12px !important;
            }
            
            .seller-profile .upload-section {
              text-align: center !important;
              padding: 20px !important;
              border: 2px dashed #d1d5db !important;
              border-radius: 12px !important;
              background: #f9fafb !important;
              margin: 16px 0 !important;
            }
            
            .seller-profile .image-preview {
              max-width: 100% !important;
              max-height: 250px !important;
              border-radius: 8px !important;
              margin: 12px auto !important;
              display: block !important;
            }
            
            .seller-profile .error-message {
              font-size: 13px !important;
              color: #dc2626 !important;
              background: #fef2f2 !important;
              padding: 10px 12px !important;
              border-radius: 8px !important;
              border: 1px solid #fecaca !important;
              margin-top: 8px !important;
              line-height: 1.4 !important;
            }
            
            .seller-profile .success-message {
              font-size: 13px !important;
              color: #059669 !important;
              background: #f0fdf4 !important;
              padding: 10px 12px !important;
              border-radius: 8px !important;
              border: 1px solid #bbf7d0 !important;
              margin-top: 8px !important;
              line-height: 1.4 !important;
            }
            
            /* GPS Verification Mobile Styles */
            .gps-verification-card {
              padding: 16px !important;
              margin: 16px 0 !important;
              border-radius: 12px !important;
            }
            
            .gps-verification-card h4 {
              font-size: 18px !important;
              margin-bottom: 12px !important;
              text-align: center !important;
              font-weight: 700 !important;
              line-height: 1.3 !important;
            }
            
            .gps-verification-card p {
              font-size: 13px !important;
              line-height: 1.4 !important;
              margin-bottom: 8px !important;
              text-align: center !important;
            }
            
            .gps-verification-card button {
              font-size: 14px !important;
              padding: 12px 16px !important;
              min-height: 48px !important;
              font-weight: 700 !important;
              border-radius: 8px !important;
              width: 100% !important;
            }
            
            .gps-verification-card .feature-list {
              text-align: left !important;
              margin-top: 16px !important;
            }
            
            .gps-verification-card .feature-list p {
              font-size: 12px !important;
              margin-bottom: 6px !important;
              text-align: left !important;
              line-height: 1.3 !important;
            }
          }
        `}),f.jsx(KC,{}),f.jsx(h.Suspense,{fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-green-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Cargando…"})]})}),children:f.jsx(YC,{})})]})})})}gl.createRoot(document.getElementById("root")).render(f.jsx(T.StrictMode,{children:f.jsx(QC,{})}));export{Wg as $,GE as A,ce as B,Fn as C,ZS as D,Ys as E,Oc as F,Ve as G,Be as H,rE as I,va as J,lv as K,nt as L,uv as M,zE as N,Bi as O,NC as P,ov as Q,Kg as R,xC as S,tk as T,uP as U,US as V,dP as W,Gg as X,FS as Y,pk as Z,cP as _,ss as a,x1 as a0,Vg as a1,Hg as a2,BS as a3,Bg as a4,tE as a5,YE as a6,sl as a7,Sc as a8,gg as a9,sv as aa,TS as ab,H1 as ac,kg as ad,Zr as ae,pg as af,fg as ag,pv as ah,is as b,Bn as c,Co as d,JS as e,DE as f,Ue as g,hP as h,fP as i,f as j,vs as k,Se as l,Xr as m,os as n,Ne as o,GS as p,nh as q,h as r,B as s,qr as t,no as u,lk as v,Jk as w,rv as x,Zk as y,nv as z};
